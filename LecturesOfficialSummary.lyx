#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\date{}
\usepackage{fullpage}

\usepackage{xcolor}
\pagecolor[rgb]{0.15,0.15,0.15} %black
\color[rgb]{1,1,1} %grey

\newfontfamily\mylistingsfont{Droid Sans Mono for Powerline}
\definecolor{lbcolor}{rgb}{0.3,0.3,0.3}  
\definecolor{lkwcolor}{rgb}{0.7,0.7,0.9}  
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "Arial"
\font_sans "default" "Arial"
\font_typewriter "default" "Arial"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts true
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures false
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 4
\pdf_breaklinks true
\pdf_pdfborder true
\pdf_colorlinks true
\pdf_backref section
\pdf_pdfusetitle true
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\boxbgcolor #dc322f
\branch Drafts
\selected 0
\filename_suffix 0
\color #faf0e6
\end_branch
\branch Advanced
\selected 0
\filename_suffix 0
\color #faf0e6
\end_branch
\branch Full proofs
\selected 0
\filename_suffix 0
\color #faf0e6
\end_branch
\branch Class Version
\selected 1
\filename_suffix 0
\color #faf0e6
\end_branch
\branch Not sure
\selected 0
\filename_suffix 0
\color #faf0e6
\end_branch
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip smallskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes true
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
תורת החישוביות - סיכומי הרצאות
\end_layout

\begin_layout Author
גדי אלכסנדרוביץ'
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Section
מבוא
\end_layout

\begin_layout Standard

\series bold
תורת החישוביות
\series default
 היא הענף במדעי המחשב העוסק במגבלות התיאורטיות של מושג 
\series bold
החישוב
\series default
.
 בבסיסה, תורת החישוביות עוסקת בהגדרה פורמלית של חישובים, מציאת הקשרים בין
 הגדרות שונות, ומציאת המגבלות האינהרנטיות שקיימות על חישובים.
 ענף קרוב לתורת החישוביות הוא 
\series bold
תורת הסיבוכיות
\series default
 שעוסקת במגבלות של חישובים שכפופים לאילוצי משאבים כלשהם )מוגבלים בזמן, בזיכרון,
 בכמות הביטים שניתן לתקשר בין שני מחשבים נפרדים וכדומה(.
 בקורס זה נעסוק בהיכרות עם הבסיס של שני תחומים אלו.
\end_layout

\begin_layout Standard
היסטורית, תורת החישוביות התפתחה בשנות ה-
\numeric on
30
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של המאה ה-
\numeric on
20
\numeric off
, כתוצאה מהתפתחויות בתחומי הלוגיקה המתמטית.
 מוטיבציה עיקרית להתפתחות התחום ניתנה בידי המתמטיקאי דויד הילברט, שהציב
 
\begin_inset Quotes eld
\end_inset

אתגר
\begin_inset Quotes erd
\end_inset

 בפני העולם המתמטי: למצוא אלגוריתם אשר מכריע, לכל טענה מתמטית, האם היא נכונה
 או שאינה נכונה.
 בעיה זו, שנקראה בגרמנית 
\lang english
Entscheidungsproblem
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Quotes erd
\end_inset

בעיית הכרעה
\begin_inset Quotes erd
\end_inset

(, התגלתה כבלתי ניתנת לפתרון - דהיינו, לא קיים אלגוריתם שמסוגל לבצע אותה.
 הדים לחוסר היכולת הזה אפשר למצוא כבר ב
\series bold
משפטי אי השלמות של גדל
\series default
 מתחילת שנות ה-
\numeric on
30
\numeric off
; אולם על מנת להשתמש ברעיונותיו של גדל כדי להוכיח כי האתגר של הילברט אינו
 פתיר, נדרשו המתמטיקאים למצוא מודל מתמטי פורמלי למושג הכללי של 
\series bold
חישוב
\series default
.
 מודל שכזה הוצע חלקית בידי גדל עצמו בעת הוכחת משפטי אי השלמות )
\begin_inset Quotes erd
\end_inset

פונקציות רקורסיביות
\begin_inset Quotes erd
\end_inset

(, ומודל מרכזי נוסף )
\begin_inset Quotes erd
\end_inset

תחשיב למבדא
\begin_inset Quotes erd
\end_inset

( הוצע בידי אלונזו צ'רץ', שהשתמש בו כדי להוכיח שבעיית ההכרעה של הילברט היא
 בלתי פתירה, אולם המודל המפורסם ביותר הוצע בידי אלן טיורינג במאמר משנת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1936
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english

\begin_inset Quotes erd
\end_inset

On Computable Numbers, with an Application to the Entscheidungsproblem
\lang hebrew

\begin_inset Quotes erd
\end_inset

( שבו תיאר טיורינג את המודל שאנחנו מכנים כיום על שמו, 
\series bold
מכונת טיורינג
\series default
.
\end_layout

\begin_layout Standard
תורת הסיבוכיות החלה להתפתח בשנות ה-
\numeric on
70
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של המאה ה-
\numeric on
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 אם כי ניתן למצוא הדים לה במכתב ששלח קורט גדל )שוב הוא!( לג'ון פון-נוימן
 בשנת 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1956
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אך אבד עקב מחלתו של פון-נוימן.
 בתורה זו עוסקים במודלים חישוביים הנוצרים תחת מגבלות חישוביות אלו ואחרות
 )למשל, מגבלות על זמן ריצה או על כמות הזיכרון שבה ניתן להשתמש(, ובמודלים
 מורכבים יותר של חישוב )למשל חישוב הסתברותי, חישוב קוונטי והוכחות אינטראקטיביות(
, במחלקות הבעיות שניתן לפתור בעזרת מודלים אלו ובקשרים הרבים והמפתיעים ביניהן.
 השאלה הפתוחה המרכזית בתחום זה שעלתה כבר בשנות ה-
\numeric on
70
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שאלת 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 שניתן לתאר בצורה מקוצרת בתור 
\begin_inset Quotes eld
\end_inset

האם כל מה שקל לבדוק פתרונות עבורו גם קל לפתור?
\begin_inset Quotes erd
\end_inset

.
 בקורס זה נגיע לתיאור בעיית 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 ומספר בעיות שהיא רלוונטית עבורן, אך לא נגיע אל חלקה העיקרי של תורת הסיבוכיות;
 החומר שבו ניגע כאן מהווה מעין הקדמה אליה.
\end_layout

\begin_layout Section
מכונת טיורינג
\end_layout

\begin_layout Subsection
המודל הבסיסי
\end_layout

\begin_layout Subsubsection
מבוא
\end_layout

\begin_layout Standard
על מנת לתאר אלגוריתמים אנו משתמשים בדרך כלל בשפה טבעית או בפסאודו-קוד.
 אלו הן שיטות תיאור לא פורמליות, אך די בהן לצרכים שלנו.
 מדוע, אם כן, נזקק אלן טיורינג להגדרה פורמלית של מודל חישובי? מכיוון שהוא
 לא רצה לתאר אלגוריתם קונקרטי, אלא ההפך - להראות שלבעיה מסויימת 
\series bold
לא קיים
\series default
 אלגוריתם כלשהו שפותר אותה.
 לשם כך נדרשת הגדרה פורמלית של אלגוריתם שתאפשר לנו לטעון בביטחון שלא משנה
 כמה חכמים ויצירתיים נהיה בעתיד, שום אלגוריתם שנמציא לא יוכל לפתור את הבעיה.
\end_layout

\begin_layout Standard
האתגר שעמד בפני טיורינג הוא למצוא מודל שהוא
\end_layout

\begin_layout Itemize

\series bold
סביר
\series default
: כלומר, שהוא ניתן למימוש בפועל.
\end_layout

\begin_layout Itemize

\series bold
כללי
\series default
: כלומר, שכל חישוב שאנחנו מחשיבים כ
\begin_inset Quotes erd
\end_inset

סביר
\begin_inset Quotes erd
\end_inset

 אכן ניתן לביצוע באמצעותו.
\end_layout

\begin_layout Itemize

\series bold
פשוט
\series default
: כלומר, שהגדרה פורמלית של חישוב באמצעותו תדרוש מספר קטן של מרכיבים.
\end_layout

\begin_layout Itemize

\series bold
אינטואיטיבי
\series default
: כלומר, שנוכל 
\begin_inset Quotes eld
\end_inset

להרגיש
\begin_inset Quotes erd
\end_inset

 את האופן שבו המודל קשור לתפיסה שיש לנו לגבי ביצוע חישובים.
\end_layout

\begin_layout Standard
המודל של טיורינג, שכונה על ידו 
\begin_inset Quotes eld
\end_inset

מכונת חישוב
\begin_inset Quotes erd
\end_inset

 ואנחנו פשוט מכנים 
\series bold
מכונת טיורינג
\series default
 עונה על הדרישות הללו.
\end_layout

\begin_layout Subsubsection
התיאור האינטואיטיבי של מכונת טיורינג
\end_layout

\begin_layout Standard
כאשר אדם ממוצע בזמננו מעוניין לבצע חישוב הוא נעזר במחשבון, אולם בזמנו של
 טיורינג טרם היו קיימים מחשבונים ולכן אדם ממוצע שנדרש לבצע חישוב היה נעזר
 בדף ועט.
 אם מתבוננים על אדם כזה בזמן ביצוע חישוב ומבלי להבין את פרטי החישוב, אפשר
 לראות שהוא עושה את הפעולות הבאות:
\end_layout

\begin_layout Itemize

\series bold
קורא
\series default
 דברים ממקומות שונים על הנייר.
\end_layout

\begin_layout Itemize

\series bold
חושב
\series default
 על הדברים שקרא על הנייר.
\end_layout

\begin_layout Itemize

\series bold
כותב
\series default
 דברים במקומות שונים על הנייר.
\end_layout

\begin_layout Standard
אם נעקוב אחרי העיניים שלו, נראה כי בכל רגע נתון הן מתמקדות בחלק קטן מאוד
 של הנייר, וזזות אנה ואנה, בהתאם לדברים שקרא וחשב.
\end_layout

\begin_layout Standard
אנחנו לא יודעים מה מתרחש במוחו של האדם, אבל בהנחה שאין מדובר על מחשבון אנושי,
 כנראה שהוא עושה מעט מאוד.
 למשל, כאשר מבצעים חיבור ארוך על פי רוב המחשבה שלנו מסתכמת בחיבור שני מספרים
 מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\numeric off
, ובאלגוריתם החיבור הארוך שאנחנו 
\begin_inset Quotes eld
\end_inset

מריצים
\begin_inset Quotes erd
\end_inset

.
 רוב יכולותיו המופלאות של המוח האנושי כלל אינן באות לידי ביטוי בהרצה זו
 של האלגוריתם.
 אינטואיטיבית, אפשר לחשוב על המוח שלנו כמורכב ממספר 
\begin_inset Quotes eld
\end_inset

מצבים תודעתיים
\begin_inset Quotes erd
\end_inset

 שאנחנו עוברים ביניהם תוך כדי החישוב )המצב שבו אנחנו רוצים לקרוא את הספרות
 הרלוונטיות הבאות; המצב שבו אנחנו זוכרים מה הספרות הללו ורוצים לחבר אותן
 בראש, וכן הלאה( והחישוב הוא אינטראקציה בין המצבים התודעתיים הללו, העין
 שקוראת דברים מהנייר, והיד שלנו שכותבת דברים על הנייר.
\end_layout

\begin_layout Standard
טיורינג הציע מכונה שפועלת בדיוק כך: היא כוללת אוסף סופי של 
\begin_inset Quotes eld
\end_inset

מצבים תודעתיים
\begin_inset Quotes erd
\end_inset

 )ה
\begin_inset Quotes erd
\end_inset

מוח
\begin_inset Quotes erd
\end_inset

 של מכונה( שמחוברים אל מנגנון שכולל 
\begin_inset Quotes eld
\end_inset

ראש קורא/כותב
\begin_inset Quotes erd
\end_inset

 שמונח מעל סרט חד-ממדי שמחולק לתאים.
 בכל תא ניתן לכתוב סימן כלשהו מתוך קבוצה סופית של סימנים.
 הסרט עצמו אינו מוגבל; אנחנו לא מניחים שקיים לו קצה, כשם שהאדם בסיפור שלנו
 תמיד יכול לקחת עוד דף אם יזדקק לו.
 בפועל משאבי היקום מוגבלים ולא ניתן להניח שהסרט אינו מוגבל, אבל כזכור, אנו
 עוסקים בשאלה מה אלגוריתמים לא יכולים לבצע 
\series bold
בכלל
\series default
, בלי תלות במחסור במשאבי חישוב כמו נייר כתיבה, כך שאנו מניחים את ההנחה המקילה
 על הסרט.
\end_layout

\begin_layout Standard
המכונה פועלת בצעדים בדידים.
 בכל צעד, המכונה מצויה ב
\begin_inset Quotes erd
\end_inset

מצב תודעתי
\begin_inset Quotes erd
\end_inset

 אחד ספציפי, ומתבוננת על תא ספציפי של הסרט.
 שני פריטי המידע הללו - המצב התודעתי של המכונה ותוכן התא בסרט שעליו היא
 מסתכלת - קובעים באופן חד-משמעי את הצעד הבא שלה.
 הצעד הבא כולל שלושה דברים: מעבר ל
\begin_inset Quotes erd
\end_inset

מצב תודעתי
\begin_inset Quotes erd
\end_inset

 כלשהו )ניתן להישאר במצב הנוכחי(, כתיבת תו כלשהו על הסרט במקום התו הקיים
 )ניתן להשאיר את התו הנוכחי(, והזזה של הראש קורא/כותב לכל היותר צעד אחד
 ימינה או שמאלה )ניתן להישאר במקום הנוכחי(.
\end_layout

\begin_layout Standard
בשלב מסוים המכונה יכולה להחליט ש
\begin_inset Quotes erd
\end_inset

הספיק לה
\begin_inset Quotes erd
\end_inset

 ו
\series bold
לעצור
\series default
.
 אחרי שהיא עוצרת, הפלט של החישוב שלה יכול לכלול את כל המידע שנכתב על הסרט,
 אבל מטעמי פשטות ננקוט בגישה שונה מעט - הפלט הוא רק מה שנמצא בין הראש של
 המכונה ובין תחילת הסרט.
\end_layout

\begin_layout Standard
המכונה עלולה גם לא לעצור כלל, אם היא לא נכנסת אף פעם למצב התודעתי של 
\begin_inset Quotes eld
\end_inset

לעצור
\begin_inset Quotes erd
\end_inset

; במקרה זה, הפלט שלה אינו מוגדר.
\end_layout

\begin_layout Subsubsection
התיאור הפורמלי של מכונת טיורינג
\end_layout

\begin_layout Definition
מכונת טיורינג )מ
\begin_inset Quotes erd
\end_inset

ט( היא שביעייה 
\begin_inset Formula $M=\left(Q,q_{0},F,\Gamma,\Sigma,\flat,\delta\right)$
\end_inset

 כך ש:
\end_layout

\begin_layout Itemize
\begin_inset Formula $Q$
\end_inset

 היא קבוצה 
\series bold
סופית
\series default
 לא ריקה כלשהי.
 אבריה של 
\begin_inset Formula $Q$
\end_inset

 מכונים 
\series bold
מצבים
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{0}\in Q$
\end_inset

 נקרא 
\series bold
המצב ההתחלתי
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $F\subseteq Q$
\end_inset

 היא קבוצה שאבריה נקראים 
\series bold
מצבים סופיים
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Gamma$
\end_inset

 היא קבוצה סופית לא ריקה כלשהי כך ש-
\begin_inset Formula $Q\cap\Gamma=\emptyset$
\end_inset

.
 
\begin_inset Formula $\Gamma$
\end_inset

 נקראת 
\series bold
א
\begin_inset Quotes erd
\end_inset

ב העבודה
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Sigma\subsetneq\Gamma$
\end_inset

 היא תת-קבוצה ממש של 
\begin_inset Formula $\Gamma$
\end_inset

 שנקראת 
\series bold
א
\begin_inset Quotes erd
\end_inset

ב הקלט
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\flat\in\Gamma\backslash\Sigma$
\end_inset

 נקרא 
\begin_inset Quotes eld
\end_inset

תו ריק
\begin_inset Quotes erd
\end_inset

 )
\lang english
blank
\lang hebrew
( או 
\begin_inset Quotes eld
\end_inset

רווח
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\delta:\left(Q\backslash F\right)\times\Gamma\to Q\times\Gamma\times\left\{ L,R,S\right\} $
\end_inset

 נקראת 
\series bold
פונקציית המעברים
\series default
.
\end_layout

\begin_layout Standard
הגדרנו מכונת טיורינג וכעת נגדיר מהו חישוב שהמכונה מבצעת.
 לשם כך נזדקק למושג שמתאר 
\begin_inset Quotes eld
\end_inset

מצב רגעי
\begin_inset Quotes erd
\end_inset

 של החישוב.
\end_layout

\begin_layout Definition
קונפיגורציה )
\begin_inset Quotes erd
\end_inset

מצב רגעי
\begin_inset Quotes erd
\end_inset

( של מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 היא שלשה 
\begin_inset Formula $C=\left(\alpha,q,i\right)$
\end_inset

 כך ש:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\alpha\in\Gamma^{*}$
\end_inset

 היא מחרוזת סופית של אברי 
\begin_inset Formula $\Gamma$
\end_inset

 הנקראת 
\series bold
תוכן הסרט
\series default
.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q\in Q$
\end_inset

 הוא מצב של 
\begin_inset Formula $M$
\end_inset

 הנקרא 
\series bold
המצב הנוכחי
\series default
 של החישוב.
\end_layout

\begin_layout Itemize
\begin_inset Formula $i\in\mathbb{N}$
\end_inset

 הוא מספר טבעי הנקרא 
\series bold
מיקום הראש
\series default
.
\end_layout

\begin_deeper
\begin_layout Standard
בנוסף, 
\series bold
הקונפיגורציה ההתחלתית
\series default
 בחישוב של המ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 על הקלט 
\begin_inset Formula $x$
\end_inset

 היא הקונפיגורציה 
\begin_inset Formula $\left(x,q_{0},0\right)$
\end_inset

.
 
\series bold
קונפיגורציה סופית
\series default
 היא כל קונפיגורציה 
\begin_inset Formula $\left(\alpha,q,i\right)$
\end_inset

 עבורה 
\begin_inset Formula $q\in F$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
אפשר לחשוב על חישוב בתור סדרה של מעברים בין קונפיגורציות שונות, בהתאם לתוכן
 הסרט, מיקום הראש הקורא/כותב וה
\begin_inset Quotes erd
\end_inset

תוכנית
\begin_inset Quotes erd
\end_inset

 שאותה המכונה מריצה ומקודדת בעזרת פונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

:
\end_layout

\begin_layout Definition

\series bold
צעד חישוב
\series default
 של מ
\begin_inset Quotes erd
\end_inset

ט הוא מעבר מקונפיגורציה 
\begin_inset Formula $\left(\alpha,q,i\right)$
\end_inset

 אל קונפיגורציה 
\begin_inset Formula $\left(\beta,p,j\right)$
\end_inset

.
 צעד חישוב הוא חוקי אם הוא תואם את פונקציית המעברים.
 כלומר, אם 
\begin_inset Formula $\delta\left(q,\alpha\left[i\right]\right)=\left(p,\gamma,X\right)$
\end_inset

 ומתקיים:
\end_layout

\begin_layout Itemize
הראש זז בהתאם ל-
\begin_inset Formula $X$
\end_inset

, כלומר:
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $X=R$
\end_inset

 אז 
\begin_inset Formula $j=i+1$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=L$
\end_inset

 אז 
\begin_inset Formula $j=\max\left\{ 0,i-1\right\} $
\end_inset

 )כלומר, הראש אינו יכול ללכת שמאלה אם הוא בתחילת הסרט(
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=S$
\end_inset

 אז 
\begin_inset Formula $j=i$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
התו ה-
\begin_inset Formula $i$
\end_inset

 של 
\begin_inset Formula $\alpha$
\end_inset

 הוחלף ב-
\begin_inset Formula $\gamma$
\end_inset

, ואם הראש של המכונה חרג מגבולות תוכן הסרט הקיים, התא החדש הוא ריק.
 כלומר, אם נסמן 
\begin_inset Formula $\alpha=\alpha_{0}\alpha_{1}\cdots\alpha_{n}$
\end_inset

 אז קיימות שתי אפשרויות:
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $i<n$
\end_inset

 או 
\begin_inset Formula $i=n$
\end_inset

 אבל 
\begin_inset Formula $X\ne R$
\end_inset

 אז 
\begin_inset Formula $\beta=\alpha_{0}\cdots\alpha_{i-1}\gamma\alpha_{i+1}\cdots\alpha_{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $i=n$
\end_inset

 וגם 
\begin_inset Formula $X=R$
\end_inset

 אז 
\begin_inset Formula $\beta=\alpha_{0}\cdots\alpha_{n-1}\gamma\flat$
\end_inset

.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $C,C^{\prime}$
\end_inset

 הן שתי קונפיגורציות, נסמן 
\begin_inset Formula $C\vdash C^{\prime}$
\end_inset

 אם צעד חישוב מ-
\begin_inset Formula $C$
\end_inset

 מעביר אותנו אל 
\begin_inset Formula $C^{\prime}$
\end_inset

.
 במקרה זה נאמר ש-
\begin_inset Formula $C^{\prime}$
\end_inset

 היא 
\series bold
הקונפיגורציה העוקבת
\series default
 של 
\begin_inset Formula $C$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
כעת ניתן להגיע אל הגדרת חישוב:
\end_layout

\begin_layout Definition

\series bold
החישוב )
\series default
או 
\series bold
הריצה
\series default
( של מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 על קלט 
\begin_inset Formula $x$
\end_inset

 הוא סדרת קונפיגורציות 
\begin_inset Formula $C_{0},C_{1},C_{2},\ldots$
\end_inset

 כך ש-
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $C_{0}$
\end_inset

 היא הקונפיגורציה ההתחלתית של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $i$
\end_inset

, אם קיימת קונפיגורציה 
\begin_inset Formula $C$
\end_inset

 כך ש-
\begin_inset Formula $C_{i}\vdash C$
\end_inset

, אז 
\begin_inset Formula $C_{i+1}=C$
\end_inset

.
\end_layout

\begin_layout Standard
אם קיים 
\begin_inset Formula $C_{n}$
\end_inset

 כך ש-
\begin_inset Formula $C_{n}$
\end_inset

 קונפיגורציה סופית )ולכן לא קיימת לה קונפיגורציה עוקבת( אומרים שהחישוב 
\series bold
מסתיים
\series default
 והמכונה 
\series bold
עוצרת
\series default
.
 במקרה שבו החישוב מסתיים בקונפיגורציה 
\begin_inset Formula $C=\left(\alpha,q,i\right)$
\end_inset

, 
\series bold
הפלט
\series default
 של החישוב הוא 
\begin_inset Formula $\alpha_{0}\alpha_{1}\cdots\alpha_{i-1}$
\end_inset

, כלומר כל התווים על הסרט שהם 
\series bold
משמאל
\series default
 לראש.
 אם אין כאלו, הפלט הוא המילה הריקה 
\begin_inset Formula $\varepsilon$
\end_inset

.
\end_layout

\begin_layout Standard
אם החישוב של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 הוא אינסופי, אומרים ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
לא עוצרת
\series default
 על 
\begin_inset Formula $x$
\end_inset

, והפלט של המכונה על 
\begin_inset Formula $x$
\end_inset

 
\series bold
אינו מוגדר
\series default
.
\end_layout

\end_deeper
\begin_layout Standard
בהגדרה זו, מכונת טיורינג היא אמצעי חישוב שמקבל קלט )תוכן הסרט בתחילת החישוב(
 ומוציאה פלט )תוכן הסרט משמאל לראש בסוף החישוב(.
 זה מתאר פונקציה:
\end_layout

\begin_layout Definition
בהינתן מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

, הפונקציה ש-
\begin_inset Formula $M$
\end_inset

 מחשבת היא הפונקציה 
\begin_inset Formula $f_{M}:\Sigma^{*}\to\Gamma^{*}$
\end_inset

 המוגדרת באופן הבא:
\end_layout

\begin_deeper
\begin_layout Itemize
אם הפלט של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 הוא 
\begin_inset Formula $y$
\end_inset

, אז 
\begin_inset Formula $f_{M}\left(x\right)=y$
\end_inset

.
\end_layout

\begin_layout Itemize
אם הפלט של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 אינו מוגדר, אז 
\begin_inset Formula $f_{M}\left(x\right)$
\end_inset

 אינה מוגדרת )לעתים מסמנים זאת 
\begin_inset Formula $f_{M}\left(x\right)=\perp$
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Standard
פורמלית, פונקציה 
\begin_inset Formula $f_{M}:\Sigma^{*}\to\Gamma^{*}$
\end_inset

 צריכה על פי הגדרה להיות מוגדרת לכל התחום שלה, כלומר לכל 
\begin_inset Formula $\Sigma^{*}$
\end_inset

.
 בפועל כדי לפשט את הסימונים אנו לא משנים את התחום גם כאשר 
\begin_inset Formula $f_{M}$
\end_inset

 אינה מוגדרת על כולו )מי שזקוקים לפורמליות מלאה יכולים להגדיר 
\begin_inset Formula $f_{M}:\Sigma^{*}\to\Gamma^{*}\cup\left\{ \perp\right\} $
\end_inset

 כדי ש-
\begin_inset Formula $f_{M}$
\end_inset

 תהיה מוגדרת פורמלית על כל קלט(.
 על מנת להדגיש שפונקציה מוגדרת על כל התחום שלה, נשתמש בשם מיוחד:
\end_layout

\begin_layout Definition
פונקציה 
\begin_inset Formula $f:\Sigma^{*}\to\Gamma^{*}$
\end_inset

 תיקרא 
\series bold
מלאה
\series default
 אם היא מוגדרת לכל קלט.
\end_layout

\begin_layout Subsubsection
דוגמא: מכונה שמזיזה את הקלט
\end_layout

\begin_layout Standard
נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שמחשבת את הפונקציה 
\begin_inset Formula $f\left(x\right)=0x$
\end_inset

 עבור 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{*}$
\end_inset

.
 כלומר - הפונקציה לוקחת את הקלט שעל הסרט, מזיזה אותו צעד אחד ימינה וכותבת
 
\begin_inset Formula $0$
\end_inset

 במקום שהתפנה בתחילת הסרט.
\end_layout

\begin_layout Standard
האלגוריתם שמאחורי מכונה שכזו הוא פשוט: בכל צעד יש לזכור את התו שמופיע כרגע
 על הסרט ולכתוב במקומו את התו שהיה קודם משמאלו )או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, אם לא היה תו קודם משמאלו(.
 אז מזיזים את הראש ימינה וחוזרים על הפעולה.
 החישוב מסתיים כאשר נתקלים לראשונה ב-
\begin_inset Formula $\flat$
\end_inset

, שפירושו שהגענו אל קצה הקלט 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
נשתמש במצבים כדי לזכור מה התו שאנחנו צריכים לכתוב על הסרט: אם אנחנו צריכים
 לכתוב 
\begin_inset Formula $0$
\end_inset

 המצב יהיה 
\begin_inset Formula $q_{0}$
\end_inset

 ואם אנחנו צריכים לכתוב 
\begin_inset Formula $1$
\end_inset

 המצב יהיה 
\begin_inset Formula $q_{1}$
\end_inset

.
 באופן ממוזל ואקראי לחלוטין יוצא שבתחילת ריצת המכונה, כאשר היא במצב ההתחלתי
 שנהוג לסמן ב-
\begin_inset Formula $q_{0}$
\end_inset

, התו שיש לכתוב על הסרט במקום הנוכחי הוא אכן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
בנוסף לכך נזדקק למצב סופי 
\begin_inset Formula $q_{f}$
\end_inset

 שמציין את סוף הריצה.
 אם כן, במכונה 
\begin_inset Formula $\left(Q,q_{0},F,\Gamma,\Sigma,\flat,\delta\right)$
\end_inset

 שלנו:
\end_layout

\begin_layout Itemize
\begin_inset Formula $Q=\left\{ q_{0},q_{1},q_{f}\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $F=\left\{ q_{f}\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\Gamma=\left\{ 0,1,\flat\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} $
\end_inset


\end_layout

\begin_layout Standard
את 
\begin_inset Formula $\delta$
\end_inset

 ניתן לתאר באמצעות טבלה:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $0$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $1$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\flat$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{0}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{0},0,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{1},0,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{f},0,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{1}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{0},1,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{1},1,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{f},1,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
ניתן להוכיח באינדוקציה את נכונות פעולת המכונה, אבל נוותר על כך כאן.
\end_layout

\begin_layout Subsubsection
דוגמא: מכונה שמשכפלת את הקלט
\end_layout

\begin_layout Standard
עבור 
\begin_inset Formula $\Sigma$
\end_inset

 כלשהו נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שמחשבת את הפונקציה 
\begin_inset Formula $f\left(x\right)=xx$
\end_inset

 עבור 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

.
 לצורך כך נפעל בצורה הבאה:
\end_layout

\begin_layout Itemize
לכל אות בקלט המקורי, נקרא את האות, נלך ימינה עד למופע הראשון של 
\begin_inset Formula $\flat$
\end_inset

 ונכתוב את האות במקום זה.
\end_layout

\begin_layout Itemize
נחזור שמאלה עד שנגיע אל האות הראשונה שטרם טופלה בצורה הזו.
\end_layout

\begin_layout Standard
נשאלת השאלה כיצד ניתן לדעת אילו אותיות כבר טופלו ואילו לא.
 התשובה היא שנסמן אותן בסימון מיוחד.
 לכל תו 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

 נשתמש גם בתו 
\begin_inset Formula $\sigma^{\prime}$
\end_inset

 כאשר הסימון 
\begin_inset Formula $\prime$
\end_inset

 על תו מתאר שהוא כבר טופל.
 בצורה הזו, כדי למצוא את האות הראשונה שטרם טופלה יש ללכת שמאלה עד אשר מופיע
 תו עם 
\begin_inset Formula $\prime$
\end_inset

 )זוהי האות האחרונה 
\series bold
שכבר טופלה
\series default
(, ואז ללכת צעד אחד ימינה כדי להגיע לאות שטרם טופלה.
\end_layout

\begin_layout Standard
בעיה נוספת היא שאנו כל הזמן מייצרים תווים חדשים על הסרט - איך לא נתבלבל
 ונתחיל לשכפל גם אותם? יש לכך שני פתרונות אפשריים:
\end_layout

\begin_layout Itemize
אפשר לשים תו מיוחד שמפריד בין 
\begin_inset Formula $x$
\end_inset

 ובין החלק המשוכפל שלו, ואחרי שסיימנו את השכפול, להזיז צעד אחד שמאלה את
 כל החלק המשוכפל )כפי שראינו כיצד להזיז ימינה מחרוזת בדוגמא הקודמת(.
\end_layout

\begin_layout Itemize
אפשר להשתמש בתווים מתוייגים מסוג נוסף כדי לסמן את התווים המשוכפלים.
\end_layout

\begin_layout Standard
ננקוט בגישה השניה: לכל 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

 נשתמש בתו 
\begin_inset Formula $\sigma^{\prime\prime}$
\end_inset

 כדי לסמן אותיות שנכתבו על הסרט על ידינו, וכך לא נשכפל אותן בטעות.
 נדע שסיימנו את החישוב אם מימין לתו עם תג 
\begin_inset Formula $\prime$
\end_inset

 יופיע תו עם תגיים 
\begin_inset Formula $\prime\prime$
\end_inset

.
\end_layout

\begin_layout Standard
כאשר זיהינו שהחישוב הסתיים, נלך אל הקצה הימני שבו השתמשנו של הסרט )עד שמופיע
 
\begin_inset Formula $\flat$
\end_inset

( ואז נתחיל לנוע שמאלה תוך שאנו מסירים את התגים מכל תו שאנו רואים.
\end_layout

\begin_layout Standard
כיצד נזהה מתי הגענו לקצה השמאלי של הסרט? אם אנחנו בקצה השמאלי, תנועה שמאלה
 לא תעשה דבר אלא תשאיר אותנו במקומנו; מכיוון שאנחנו מסירים תגים בכל צעד,
 זה יותיר אותנו בתו שאינו מתוייג, ונוכל להשתמש בכך כדי לזהות שסיימנו.
 בשלב זה נחזור שוב אל הקצה הימני של הסרט ונסיים.
\end_layout

\begin_layout Standard
המצבים שלנו יהיו:
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{0}$
\end_inset

 - המצב ההתחלתי שמשמעותו 
\begin_inset Quotes eld
\end_inset

תייג את האות הנוכחית בקלט וזכור שאתה צריך לשכפל אותה
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

: מצב 
\begin_inset Formula $q_{\sigma}^{R}$
\end_inset

 שמשמעותו 
\begin_inset Quotes eld
\end_inset

לך ימינה עד קצה הסרט וכתוב שם 
\begin_inset Formula $\sigma$
\end_inset


\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{1}$
\end_inset

 - מצב שמשמעותו 
\begin_inset Quotes eld
\end_inset

לך שמאלה עד לתו המתויג הראשון ואז לך ימינה
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{2}$
\end_inset

 - מצב שמשמעותו 
\begin_inset Quotes eld
\end_inset

השכפול הסתיים; לך לקצה הימני של הסרט
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{3}$
\end_inset

 - מצב שמשמעותו 
\begin_inset Quotes eld
\end_inset

לך שמאלה עד קצה הסרט והסר את התגים שבהם אתה נתקל
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{4}$
\end_inset

 - מצב שמשמעותו 
\begin_inset Quotes eld
\end_inset

שלב הסרת התגים הסתיים; לך לקצה הימני של הסרט
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $q_{f}$
\end_inset

 - מצב סופי.
\end_layout

\begin_layout Standard
כלומר:
\end_layout

\begin_layout Itemize
\begin_inset Formula $Q=\left\{ q_{0},q_{1},q_{2},q_{3},q_{4},q_{f}\right\} \cup\left\{ q_{\sigma}^{R}\ |\ \sigma\in\Sigma\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $F=\left\{ q_{f}\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\Gamma=\Sigma\cup\left\{ \sigma^{\prime}\ |\ \sigma\in\Sigma\right\} \cup\left\{ \sigma^{\prime\prime}\ |\ \sigma\in\Sigma\right\} \cup\left\{ \flat\right\} $
\end_inset


\end_layout

\begin_layout Standard
ופונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

 מוגדרת על ידי
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="9">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\tau$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\tau^{\prime}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\tau^{\prime\prime}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\flat$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{0}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{\tau}^{R},\tau^{\prime},R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{2},\tau^{\prime\prime},S\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{f},\flat,S\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{\sigma}^{R}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{\sigma}^{R},\tau,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{\sigma}^{R},\tau^{\prime\prime},R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{1},\sigma^{\prime\prime},L\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{1}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{1},\tau,L\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{0},\tau^{\prime},R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{2}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{2},\tau^{\prime},R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{2},\tau^{\prime\prime},R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{3},\flat,L\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{3}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{4},\tau,S\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{3},\tau,L\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{3},\tau,L\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $q_{4}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{4},\tau,R\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\left(q_{f},\flat,S\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
שקילות מודלים
\end_layout

\begin_layout Subsubsection
מבוא
\end_layout

\begin_layout Standard
מודל מכונת הטיורינג שהצגנו עונה בבירור על רוב הקריטריונים שהצגנו קודם:
\end_layout

\begin_layout Itemize
זהו מודל 
\series bold
סביר
\series default
 של חישוב - קל לממש אותו, למשל בשפת תכנות מודרנית, או לבנות מכונת טיורינג
 מלגו, וכדומה.
\end_layout

\begin_layout Itemize
זהו מודל 
\series bold
פשוט
\series default
: ההגדרה כללה מספר קטן מאוד של רכיבים שכולם מוגדרים היטב.
\end_layout

\begin_layout Itemize
זהו מודל 
\series bold
אינטואיטיבי
\series default
 - או לפחות כך אנחנו מקווים ואם זה לא המצב זו לא אשמתו של טיורינג אלא אשמתנו
 שלא הצגנו אותו מספיק טוב.
\end_layout

\begin_layout Standard
מה שלא ברור כלל הוא שהמודל הזה הוא 
\series bold
כללי
\series default
 - שכל פונקציה שניתן לחשב באמצעות אלגוריתם, ניתן לחשב באמצעות מכונת טיורינג.
 כדי להראות זאת אנחנו יכולים 
\begin_inset Quotes eld
\end_inset

לחזק
\begin_inset Quotes erd
\end_inset

 את המודל שלנו על ידי הוספת יכולות נוספות, תוך שאנו מראים שהתוצאה היא 
\series bold
שקולה
\series default
 למודל הקיים - שכל פונקציה שניתנת לחישוב במודל ה
\begin_inset Quotes erd
\end_inset

מחוזק
\begin_inset Quotes erd
\end_inset

 ניתנת לחישוב גם במודל המקורי, אולי במחיר של סיבוך נוסף בבניית המכונה, בזמן
 הריצה שלה וכדומה.
\end_layout

\begin_layout Standard
היעד שלנו הוא להשתכנע שמכונת טיורינג שקולה לכלים שאיתם אנו כותבים אלגוריתמים
 בחיי היום-יום, דהיינו שפות תכנות.
 זה יאפשר לנו ליהנות משני העולמות:
\end_layout

\begin_layout Itemize
כאשר נרצה לבצע משימה קונקרטית כלשהי בעזרת מכונת טיורינג, נסתפק בלתאר אלגוריתם
 לא פורמלי עבורה, כזה שברור לנו שאנו יכולים לממש בשפת תכנות, וזה יספיק כדי
 להשתכנע שאכן 
\series bold
קיימת
\series default
 מ
\begin_inset Quotes erd
\end_inset

ט שמבצעת את המשימה, הגם שהתיאור המלא שלה עשוי להיות מסובך וטרחני.
\end_layout

\begin_layout Itemize
כאשר נרצה להוכיח טענה כלשהי על 
\series bold
כל
\series default
 אלגוריתם, נוכל להסתפק בלהוכיח אותה על 
\series bold
כל
\series default
 מכונות הטיורינג - ובשל פשטות המודל של מ
\begin_inset Quotes erd
\end_inset

ט, ההוכחה הזו תהיה קלה משמעותית יותר.
\end_layout

\begin_layout Subsubsection
דוגמא: שקילות למכונה 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
כדי להמחיש את הרעיון שמאחורי שקילות מודלים, נראה את שקילות המודל הרגיל שלנו
 למודל שאינו שונה בצורה משמעותית - מכונת טיורינג 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

, שהיתרון היחיד שלה הוא בכך שהיא מסוגלת להזיז את הראש הקורא/כותב שלה פעמיים
 ברצף במקום רק פעם אחת.
\end_layout

\begin_layout Standard
פורמלית, המודל החדש זהה למודל הרגיל של מכונת טיורינג למעט פונקציית המעברים,
 שהיא 
\begin_inset Formula $\delta:\left(Q\backslash F\right)\times\Gamma\to Q\times\Gamma\times\left\{ L,LL,R,RR,S\right\} $
\end_inset

, כאשר אנו מפרשים את 
\begin_inset Formula $RR$
\end_inset

 כהליכת שני צעדים ימינה )כלומר, 
\begin_inset Formula $j=i+2$
\end_inset

( ואת 
\begin_inset Formula $LL$
\end_inset

 כהליכת שני צעדים שמאלה )כלומר, 
\begin_inset Formula $j=\max\left\{ 0,i-2\right\} $
\end_inset

(.
\end_layout

\begin_layout Standard
כדי להראות שקילות מודלים, יש להראות שתי טענות נפרדות:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט רגילה, אז קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

 
\begin_inset Formula $M^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $f_{M}=f_{M^{\prime}}$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

, אז קיימת מ
\begin_inset Quotes erd
\end_inset

ט רגילה 
\begin_inset Formula $M^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $f_{M}=f_{M^{\prime}}$
\end_inset


\end_layout

\begin_layout Standard
הטענה הראשונה קלה להוכחה במקרה שלנו, כי מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

 מהווה הכללה של המודל הקיים - היא מוסיפה לו יכולת, שניתן פשוט להתעלם ממנה.
 בהינתן מ
\begin_inset Quotes erd
\end_inset

ט רגילה 
\begin_inset Formula $M$
\end_inset

, נגדיר מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

 
\begin_inset Formula $M^{\prime}$
\end_inset

 שזהה לה לגמרי, והיא תחשב את אותה הפונקציה.
 ההבדל הפורמלי היחיד הוא בטווח של 
\begin_inset Formula $\delta^{\prime}$
\end_inset

, ששונה פורמלית מהטווח של 
\begin_inset Formula $\delta$
\end_inset

 )כי הוא 
\begin_inset Formula $Q\times\Gamma\times\left\{ L,LL,R,RR,S\right\} $
\end_inset

 והטווח של 
\begin_inset Formula $\delta$
\end_inset

 הוא 
\begin_inset Formula $Q\times\Gamma\times\left\{ L,R,S\right\} $
\end_inset

.
 על פי רוב לא נטרח לציין במפורש הבדלים 
\begin_inset Quotes eld
\end_inset

פורמליים
\begin_inset Quotes erd
\end_inset

 כאלו אם הם נפתרים ללא קושי.
\end_layout

\begin_layout Standard
על מנת להוכיח את הטענה השניה, תהא 
\begin_inset Formula $M=\left(Q,q_{0},F,\Gamma,\Sigma,\flat,\delta\right)$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Quotes eld
\end_inset

מהירה
\begin_inset Quotes erd
\end_inset

 כלשהי.
 נראה כיצד נבנה מ
\begin_inset Quotes erd
\end_inset

ט רגילה המחשבת את אותה הפונקציה.
\end_layout

\begin_layout Standard
המכונה שלנו תוגדר בתור 
\begin_inset Formula $M^{\prime}=\left(Q^{\prime},q_{0},F,\Gamma,\Sigma,\flat,\delta^{\prime}\right)$
\end_inset

, דהיינו אנו מבצעים שינויים רק בקבוצת המצבים של 
\begin_inset Formula $M$
\end_inset

 ובפונקציית המעברים שלה.
 נבצע את השינויים הבאים:
\end_layout

\begin_layout Standard
ראשית נגדיר קבוצות מצבים חדשות על בסיס 
\begin_inset Formula $Q$
\end_inset

 הקיימת:
\end_layout

\begin_layout Standard
\begin_inset Formula $Q_{R}=\left\{ q^{R}\ |\ q\in Q\right\} $
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $Q_{L}=\left\{ q^{L}\ |\ q\in Q\right\} $
\end_inset


\end_layout

\begin_layout Standard
משמעותם של המצבים בקבוצות אלו הן 
\begin_inset Quotes eld
\end_inset

הישארי במצב הנוכחי ואל תשני את תוכן הסרט; בצעי צעד אחד בכיוון המתאים
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
כעת נגדיר 
\begin_inset Formula $Q^{\prime}=Q\cup Q_{R}\cup Q_{L}$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת להגדרת פונקציית המעברים 
\begin_inset Formula $\delta^{\prime}$
\end_inset

 על קלט 
\begin_inset Formula $\left(p,\sigma\right)$
\end_inset

.
 נפריד בין מספר מקרים:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $p\in Q_{R}$
\end_inset

, כלומר 
\begin_inset Formula $p=q^{R}$
\end_inset

 עבור 
\begin_inset Formula $q\in Q$
\end_inset

 כלשהו, אז 
\begin_inset Formula $\delta^{\prime}\left(p,\sigma\right)=\left(q,\sigma,R\right)$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $p\in Q_{L}$
\end_inset

, כלומר 
\begin_inset Formula $p=q^{L}$
\end_inset

 עבור 
\begin_inset Formula $q\in Q$
\end_inset

 כלשהו, אז 
\begin_inset Formula $\delta^{\prime}\left(p,\sigma\right)=\left(q,\sigma,L\right)$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $p\in Q$
\end_inset

 נפריד בין המקרה שבו 
\begin_inset Formula $M$
\end_inset

 רוצה לנוע 
\begin_inset Quotes eld
\end_inset

מהר
\begin_inset Quotes erd
\end_inset

 והמקרה שבו היא נעה כרגיל.
 נסמן 
\begin_inset Formula $\delta\left(p,\sigma\right)=\left(r,\tau,X\right)$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $X\in\left\{ L,R,S\right\} $
\end_inset

 אז 
\begin_inset Formula $\delta^{\prime}\left(p,\sigma\right)=\left(r,\tau,X\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=RR$
\end_inset

 אז 
\begin_inset Formula $\delta^{\prime}\left(p,\sigma\right)=\left(r^{R},\tau,R\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=LL$
\end_inset

 אז 
\begin_inset Formula $\delta^{\prime}\left(p,\sigma\right)=\left(r^{L},\tau,L\right)$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
ניתן להוכיח כי הקונפיגורציה הסופית שאליה תגיע המכונה 
\begin_inset Formula $M^{\prime}$
\end_inset

 בריצתה על קלט תהיה זהה לקונפיגורציה הסופית של 
\begin_inset Formula $M$
\end_inset

 על אותו הקלט, ואם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת גם 
\begin_inset Formula $M^{\prime}$
\end_inset

 לא תעצור, כך שהפונקציות שהן מחשבות זהות.
 עם זאת, נשים לב כי המכונות עצמן אינן מבצעות את אותו חישוב בדיוק - המכונה
 
\begin_inset Formula $M$
\end_inset

 תדלג על קונפיגורציות שבהן 
\begin_inset Formula $M^{\prime}$
\end_inset

 נמצאת שכן היא מסוגלת לזוז יותר צעדים בבת אחת.
 זה גם המצב באופן כללי: שקילות מודלים אין פירושה שאנחנו יודעים להמיר מכונה
 ממודל אחד במכונה ממודל אחר ששקולה לה בכל פרמטר; לעת עתה הפרמטר היחיד שמעניין
 אותנו הוא מה הפונקציה שהמכונה מחשבת.
\end_layout

\begin_layout Subsubsection
דוגמא: שקילות למכונה דו-סרטית
\end_layout

\begin_layout Standard
כפי שראינו בדוגמא הקודמת, הוכחת שקילות, גם ברמת הבניה הפורמלית, יכולה להיות
 דבר מורכב טכנית.
 לכן נעבור להסברים לא פורמליים, וכדי לפצות על כך נציג מודל שהשיפור בו הוא
 משמעותי - מכונת טיורינג דו-סרטית.
 אינטואיטיבית, למכונה כזו יש שני סרטי שלכל אחד מהם ראש קורא/כותב משלו, והמכונה
 פועלת על שניהם בו זמנית.
 הסרט הראשון משמש לצורך קריאת הקלט והוצאת הפלט כמו קודם; הסרט השני מיועד
 רק בתור 
\begin_inset Quotes eld
\end_inset

שטח עבודה
\begin_inset Quotes erd
\end_inset

.
 פורמלית, מודל כזה כולל פונקציית מעברים מורכבת יותר:
\end_layout

\begin_layout Standard
\begin_inset Formula $\left(Q\backslash F\right)\times\Gamma^{2}\to Q\times\Gamma^{2}\times\left\{ L,R,S\right\} ^{2}$
\end_inset


\end_layout

\begin_layout Standard
מכונה כזו בהחלט מאפשרת לחשב פונקציות מסויימות בצורה 
\series bold
נוחה
\series default
 יותר.
 למשל, את הפונקציה 
\begin_inset Formula $f\left(x\right)=xx$
\end_inset

 שראינו קודם ניתן לחשב באופן הבא: ראשית, הקלט בסרט הראשון ייסרק משמאל לימין
 תוך שהוא מועתק לסרט השני; לאחר מכן הראש בסרט השני יוחזר אל תחילת הסרט;
 לבסוף, הקלט יועתק מהסרט השני אל הסרט הראשון, החל ממקום סיום הקלט המקורי.
 בצורה זו נחסך למכונה הצורך ללכת שוב ושוב ימינה ושמאלה על גבי הסרט, מה שמוביל
 לחסכון בזמן ריצה )בהמשך הקורס חסכון זה ודומים לו ייאלץ אותנו להגדיר את
 המושג של 
\begin_inset Quotes eld
\end_inset

חישוב יעיל
\begin_inset Quotes erd
\end_inset

 בצורה רחבה למדי(.
\end_layout

\begin_layout Standard
ברור שכל מכונת טיורינג רגילה יכולה להיחשב למקרה פרטי של מכונה דו-סרטית )שפשוט
 לא משתמשת בסרט הנוסף שלה( כך שכיוון זה של הוכחת שקילות המודלים הוא קל.
 בכיוון השני נשאלת השאלה - כיצד מכונה חד-סרטית יכולה להתמודד עם הצורך לטפל
 בשני סרטים במקביל? יש כאן כמה נקודות שדורשות התייחסות:
\end_layout

\begin_layout Itemize

\series bold
ייצוג שני הסרטים
\series default
: דרך פשוטה לייצג את שני הסרטים על סרט אחד היא לכתוב ראשית את תוכן הסרט
 הראשון, להוסיף סימן מפריד מיוחד )למשל 
\begin_inset Formula $\$$
\end_inset

, בהנחה שאינו שייך לא
\begin_inset Quotes erd
\end_inset

ב העבודה של המכונה המקורית(, ואז לכתוב את תוכן הסרט השני.
 הקושי בגישה זו נובע מכך שבכל פעם שבה המכונה חורגת בסרט הראשון מהאיזור שנצפה
 עד כה, צריך יהיה להזיז ימינה את כל תוכן הסרט השני כדי 
\begin_inset Quotes eld
\end_inset

לפנות מקום
\begin_inset Quotes erd
\end_inset

 לסרט הראשון.
 זו אינה בעיה אמיתית שכן כבר ראינו כיצד ניתן להזיז את תוכן הסרט צעד אחד
 ימינה.
\end_layout

\begin_layout Itemize

\series bold
זיהוי מיקום הראשים הקוראים
\series default
: בכל צעד שלה, מכונת הטיורינג שלנו צריכה לראות מה שני הראשים הקוראים/כותבים
 של המכונה המקורית 
\begin_inset Quotes eld
\end_inset

רואים
\begin_inset Quotes erd
\end_inset

.
 לשם כך נוסיף סימון מיוחד לכל תו בקלט שמשמעותו 
\begin_inset Quotes eld
\end_inset

הראש הקורא נמצא כאן
\begin_inset Quotes erd
\end_inset

.
 למשל במקום 
\begin_inset Formula $\sigma$
\end_inset

 נכתוב 
\begin_inset Formula $\sigma^{\prime}$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
ביצוע צעד חישוב
\series default
: כל צעד חישוב של המכונה המקורית יתחיל בכך שהראש הקורא של המכונה החדשה נמצא
 על האיזור שמתאים לסרט הראשון, במקום של הראש הראשון.
 בשלב זה המכונה תקרא ותזכור את התו שבמקום זה, תנוע ימינה עד למיקום הראש
 הקורא על הסרט השני, תזכור מה הפעולה שהמכונה המקורית מבצעת, תבצע את הפעולה
 המתאימה על הסרט השני, תחזור אל מיקום הראש של הסרט הראשון ותבצע את הפעולה
 שהוא אמור לבצע.
 בצורה זו אם החישוב מסתיים, הראש של המכונה נמצא במקום הנכון - בדיוק במיקום
 הראש הראשון של המכונה המקורית, ולכן המכונה תחזיר את אותו הפלט.
\end_layout

\begin_layout Subsubsection
מודל ה-
\lang english
RAM
\end_layout

\begin_layout Standard
ראינו כיצד ניתן 
\begin_inset Quotes eld
\end_inset

לשפר
\begin_inset Quotes erd
\end_inset

 מכונת טיורינג עד לקבלת מודל נוח יותר לעבודה, אולם מכונת טיורינג היא עדיין
 מודל שונה למדי מזה שאנחנו עוסקים בו ביום יום כאשר אנו כותבים קוד.
 הבדל מובהק אחד הוא שאנחנו כותבים קוד למכונה בעלת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RAM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- זכרון 
\begin_inset Quotes eld
\end_inset

גישה אקראית
\begin_inset Quotes erd
\end_inset

 שבו אנחנו יכולים לגשת לתאים ספציפיים בעזרת 
\series bold
הכתובת
\series default
 שלהם, מבלי שנזדקק בפועל לטיול על גבי סרט כדי להגיע אליהם.
\end_layout

\begin_layout Standard
כאשר אנו כותבים קוד בשפה עילית, הוא עובר תהליך של קומפילציה לשפת אסמבלר
 )או שהוא מורץ בידי מפרש שבתורו עבר תהליך קומפילציה כזה(.
 כלומר, מספיק לנו להשתכנע בכך שמכונת טיורינג יכולה לסמלץ את הפעולות שמבוצעות
 בשפת אסמבלר.
 שפות אסמבלר מיועדות למעבדים רבים ושונים, אבל בבסיסן יש להן מרכיבים זהים:
\end_layout

\begin_layout Itemize
הזיכרון הוא זיכרון גישה אקראית.
\end_layout

\begin_layout Itemize
התוכנית אותה מריצים שמורה כחלק מהזיכרון.
\end_layout

\begin_layout Itemize
יש למעבד רכיבי זכרון המכונים 
\series bold
רגיסטרים
\series default
 שמיועדים להכיל כמות קטנה של מידע.
\end_layout

\begin_layout Itemize
אחד מהרגיסטרים של המעבד מצביע על המקום שמתבצע בתוכנית.
\end_layout

\begin_layout Itemize
המעבד מבצע פעולות של:
\end_layout

\begin_deeper
\begin_layout Itemize
קריאה מהזכרון האקראי לתוך רגיסטר.
\end_layout

\begin_layout Itemize
כתיבה מרגיסטר לתוך הזכרון האקראי.
\end_layout

\begin_layout Itemize
ביצוע פעולה מתמטית-לוגית כלשהי על רגיסטרים.
\end_layout

\begin_layout Standard
קריאה וכתיבה מהזכרון האקראי מתבצעות על ידי כך שרגיסטר אחר שומר את הכתובת
 של תא הזיכרון שאליו רוצים לקרוא ולכתוב.
\end_layout

\begin_layout Standard
דוגמאות לפעולות מתמטיות-לוגיות: ביצוע פעולת חיבור של שני רגיסטרים; ביצוע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NOT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על תוכן רגיסטר; השוואת תוכן רגיסטר לאפס ושינוי ערכו של רגיסטר מיקום התוכנית
 בהתאם לכך, וכדומה.
\end_layout

\end_deeper
\begin_layout Standard
כיצד ניתן לסמלץ מכונת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
RAM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכזו באמצעות מכונת טיורינג? יש דרכים רבות, אבל מכיוון שאיננו מתעניינים ב
\series bold
יעילות
\series default
 של הסימולציה אלא רק בהוכחת היתכנות קיומה, נבחר דרך פשוטה אך 
\begin_inset Quotes eld
\end_inset

בזבזנית
\begin_inset Quotes erd
\end_inset

 במיוחד.
\end_layout

\begin_layout Standard
אם במכונת ה-
\lang english
RAM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ישנם 
\begin_inset Formula $n$
\end_inset

 רגיסטרים, נבנה מ
\begin_inset Quotes erd
\end_inset

ט בעלת 
\begin_inset Formula $n+1$
\end_inset

 סרטים.
 לכל רגיסטר יש סרט משלו, והסרט האחרון מוקדש לתוכן הזכרון.
\end_layout

\begin_layout Standard
ביצוע פעולות בין שני רגיסטרים אינו עניין מסובך; קל להראות במפורש מ
\begin_inset Quotes erd
\end_inset

ט בעלות שני סרטים שיודעות לחבר, לחסר, לכפול וכו', בהתבסס על האלגוריתמים
 לפעולות החשבון )
\begin_inset Quotes erd
\end_inset

חיבור ארוך
\begin_inset Quotes erd
\end_inset

 וכדומה(.
 האתגר נעוץ בשתי התכונות המרכזיות של מודל ה-
\lang english
RAM
\lang hebrew
:
\end_layout

\begin_layout Itemize
הזכרון האינסופי שממוען לפי כתובות.
\end_layout

\begin_layout Itemize
העובדה שה
\begin_inset Quotes erd
\end_inset

תוכנית
\begin_inset Quotes erd
\end_inset

 של מודל ה-
\lang english
RAM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כתובה כחלק מהזכרון בתחילת הריצה, ובמ
\begin_inset Quotes erd
\end_inset

ט לא כתוב כלום על הסרט בתחילת הריצה.
\end_layout

\begin_layout Standard
את בעיית הזכרון האינסופי נפתור, כאמור, בדרך בזבזנית.
 סרט הזיכרון שלנו יורכב מסדרת תאים מהצורה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\#A_{1}\$C_{1}\#A_{2}\$C_{2}\ldots & \#A_{m}\$C_{m}\#
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $A_{1},A_{2},\ldots$
\end_inset

 הם מספרים שבאים לציין 
\series bold
כתובת
\series default
 של תא, ו-
\begin_inset Formula $C_{1},C_{2},\ldots$
\end_inset

 באים לתאר את 
\series bold
תוכן
\series default
 התא.
 כלומר, המופע של 
\begin_inset Formula $\#A_{i}\$C_{i}$
\end_inset

 על הסרט בא לומר 
\begin_inset Quotes eld
\end_inset

בתא שכתובתו היא 
\begin_inset Formula $A_{i}$
\end_inset

 מצוי המידע 
\begin_inset Formula $C_{i}$
\end_inset


\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
הדרך 
\series bold
לקרוא
\series default
 מתוך התא שהכתובת שלו היא 
\begin_inset Formula $D$
\end_inset

 היא לעבור על כל סרט הזיכרון ולחפש מופע של 
\begin_inset Formula $\#D\$$
\end_inset

.
 אם נמצא כזה, מועתקת אל הרגיסטר המתאים המחרוזת שמימין ל-
\begin_inset Formula $\$$
\end_inset

, עד למופע הבא של 
\begin_inset Formula $\#$
\end_inset

; אם לא נמצא מופע כזה, הערך המוחזר הוא 
\begin_inset Formula $\varepsilon$
\end_inset

.
\end_layout

\begin_layout Standard
הדרך 
\series bold
לכתוב
\series default
 
\begin_inset Formula $C$
\end_inset

 לתוך התא שכתובתו היא 
\begin_inset Formula $D$
\end_inset

 היא לעבור על כל סרט הזיכרון ולחפש מופע של 
\begin_inset Formula $\#D\$$
\end_inset

.
 אם לא נמצא כזה, מוסיפים 
\begin_inset Formula $D\$C\#$
\end_inset

 אל סוף הסרט; אם נמצא כזה, אפשר לדחוף את 
\begin_inset Formula $C$
\end_inset

 במקום התוכן שנמצא כרגע בתא ולהזיז את כל יתר הסרט בהתאם; אפשר גם 
\begin_inset Quotes eld
\end_inset

לבטל
\begin_inset Quotes erd
\end_inset

 את התא על ידי החלפת 
\begin_inset Formula $\#D\$$
\end_inset

 ב-
\begin_inset Formula $\#DX$
\end_inset

 כאשר 
\begin_inset Formula $X$
\end_inset

 הוא סימן אחר שאינו בשימוש, ואז להוסיף 
\begin_inset Formula $D\$C\#$
\end_inset

 לסוף הסרט.
\end_layout

\begin_layout Subsubsection
התזה של צ'רץ' וטיורינג
\end_layout

\begin_layout Standard
ראינו את המודל של מכונת טיורינג, וראינו גם מספר הרחבות אליו, כולל אחת שמזכירה
 במעורפל את אופן פעולתו של מחשב אמיתי.
 כל ההרחבות הללו היו שקולות בכוחן החישובי, במובן זה שכל מה שניתן לחישוב
 במודל אחד, ניתן לחישוב גם במודל האחר.
 השקילות הזו לא מביאה בחשבון שיקולים נוספים כמו זמן הריצה )שאליו נתייחס
 בחלקו השני של הקורס(, כמות המקום שתופס החישוב, כמה מסובך התיאור של ה
\begin_inset Quotes erd
\end_inset

תוכנית
\begin_inset Quotes erd
\end_inset

 שמריץ המודל, צריכת האנרגיה של המכונה וכדומה.
 כל אלו הם בפני עצמם שיקולים חשובים אך מצריכים דיון מורכב יותר מזה שביצענו
 עד כה.
\end_layout

\begin_layout Standard
המקור ההיסטורי של מכונות טיורינג היה בנסיון למדל 
\begin_inset Quotes eld
\end_inset

אלגוריתם
\begin_inset Quotes erd
\end_inset

 בצורה מתמטית מדויקת דיה כדי שניתן יהיה לטעון בביטחון טענה מסוג 
\begin_inset Quotes eld
\end_inset

לא קיים אלגוריתם אשר פותר את הבעיה הבאה...
\begin_inset Quotes erd
\end_inset

 - טענה שאכן לא מצריכה התייחסות לשיקולים הנוספים לעיל.
 למודל של טיורינג קדם מודל אחר, תחשיב הלמבדא של צ'רץ', שהשיג את אותה המטרה;
 ולשניהם קדם מודל נוסף, הפונקציות הרקורסיביות של קורט גדל.
 גדל השתמש בפונקציות רקורסיביות במאמר שבו הוכיח את משפטי אי השלמות המפורסמים
 שלו, אך רק לאחר הרחבה מאוחרת יותר שלהן התקבל מודל כללי ששקול למודלים של
 צ'רץ' וטיורינג.
\end_layout

\begin_layout Standard
האופן שבו התפתחו מספר מודלים שונים בצורה מהותית באופיים ותיאורם אך שקולים
 בכוחם החישובי הוביל לתחושה ש
\begin_inset Quotes erd
\end_inset

זה לא במקרה
\begin_inset Quotes erd
\end_inset

: שכל מודל שיהיה חזק יותר ממכונת טיורינג, ייאלץ לצורך כך להפוך לבלתי סביר
 למימוש בפועל.
 למשל, אם נרשה למכונת טיורינג לחזור בזמן או להיכנס לחור שחור, זה עשוי להרחיב
 את יכולתה החישובית, אך בהינתן חוקי הפיזיקה הידועים לנו נראה בלתי סביר שנוכל
 לממש מכונה שכזו בפועל.
\end_layout

\begin_layout Standard
מכאן הגיעה ההשערה המכונה 
\series bold
התזה של צ'רץ' וטיורינג:
\series default
 כל המודלים החישוביים הסבירים והכלליים שקולים זה לזה.
 כמובן, יש להסביר את משמעות המילים 
\begin_inset Quotes eld
\end_inset

סביר
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

כללי
\begin_inset Quotes erd
\end_inset

 בהקשר זה; 
\begin_inset Quotes eld
\end_inset

כללי
\begin_inset Quotes erd
\end_inset

 פירושו שהמודל אינו מוגבל מדי )למשל, המודל של 
\series bold
אוטומט סופי דטרמיניסטי
\series default
 אינו כללי; הוא שקול למכונת טיורינג שפועלת בזיכרון עבודה קבוע(.
 
\begin_inset Quotes eld
\end_inset

סביר
\begin_inset Quotes erd
\end_inset

 פירושו הטענה המעורפלת שבה עסקנו קודם, על היכולת לממש את המודל בפועל.
 מכיוון שהתזה אינה משפט אלא השערה, או 
\begin_inset Quotes eld
\end_inset

הנחת עבודה
\begin_inset Quotes erd
\end_inset

, אין צורך בניסוח מדויק יותר שלה.
\end_layout

\begin_layout Standard
קרוב למאה שנים חלפו מאז הועלתה התזה ועד כה טרם תואר מודל חישובי שמפר אותה.
 עם זאת, כדאי להעיר על מודל אחר שהוא בעל פוטנציאל להפר גרסה מורחבת של התזה,
 שהוצעה שנים רבות אחרי צ'רץ' וטיורינג.
\end_layout

\begin_layout Standard
בהמשך הקורס נעסוק במכונות שמוגבלות מבחינת זמן הריצה שלהן, וניתן הגדרה מסוימת
 למהו זמן ריצה 
\begin_inset Quotes eld
\end_inset

יעיל
\begin_inset Quotes erd
\end_inset

.
 התזה המורחבת של צ'רץ' וטיורינג מניחה שכל המודלים החישוביים הסבירים, כלליים
 ויעילים שקולים בכוחם החישובי, כלומר שאם בעיה כלשהי ניתנת לפתרון יעיל באחד
 המודלים הללו, היא ניתנת לפתרון יעיל בכל אחד אחר מסוג זה.
 בשנים האחרונות טענה זו עומדת למבחן אל מול המודל של 
\series bold
חישוב קוונטי
\series default
.
 ההשערה היא שחישוב קוונטי יעיל מסוגל לפתור בעיות שלא ניתנות לפתרון יעיל
 במודל של מכונת טיורינג - דוגמא מפורשת אחת היא בעיית 
\series bold
הפירוק לגורמים
\series default
 של מספרים, שניתנת לפתרון יעיל במחשב קוונטי.
 עם זאת, כיום אין לנו 
\series bold
הוכחה
\series default
 לכך שפירוק לגורמים לא ניתן לפתרון יעיל במכונת טיורינג, וגם השאלה האם ניתן
 לממש מחשבים קוונטיים במציאות כך שיהיו מסוגלים לפתור בפועל את בעיית הפירוק
 לגורמים בצורה יעילה יותר ממחשבים רגילים עדיין לא זכתה למענה משביע רצון
 )קיימים בפועל מחשבים קוונטיים, אך יכולת החישוב שלהם עודנה מוגבלת מאוד עקב
 רעשים, והשאלה ההנדסית עד כמה ניתן לקדם את התחום עודנה פתוחה(.
\end_layout

\begin_layout Subsection
מכונת טיורינג אוניברסלית
\end_layout

\begin_layout Subsubsection
מבוא
\end_layout

\begin_layout Standard
מטרתו של טיורינג בהמצאת המודל שלו הייתה להוכיח את אי-הכריעות של בעיות אלגוריתמיו
ת מסויימות.
 ההוכחה שלו שאבה השראה מהוכחת משפטי אי השלמות של קורט גדל ב-
\numeric on
1931
\numeric off
, שעסקו במגבלות של מערכות הוכחה מסוימות בלוגיקה מתמטית.
 מבלי להיכנס לפרטי ההוכחה של גדל, רעיון מרכזי ומבריק שלו היה לקחת מערכת
 הוכחה שמיועדת לדיבור על תכונותיהם של מספרים טבעיים עם פעולות החיבור והכפל,
 ולגרום לה לדבר 
\series bold
על עצמה
\series default
, על ידי כך שטענות והוכחות במסגרת מערכת ההוכחה עצמה מקודדות על ידי מספרים
 טבעיים.
 כך השאלה 
\begin_inset Quotes eld
\end_inset

האם קיימת הוכחה לטענה 
\begin_inset Formula $X$
\end_inset

 מתוך אוסף האקסיומות 
\begin_inset Formula $A_{1},\ldots,A_{k}$
\end_inset


\begin_inset Quotes erd
\end_inset

 ניתנת לתרגום לשאלה 
\begin_inset Quotes eld
\end_inset

האם קיימת הוכחה לטענה שמקודדת באמצעות המספר הטבעי 
\begin_inset Formula $n_{X}$
\end_inset

 מתוך אוסף האקסיומות שמקודדות באמצעות המספרים הטבעיים 
\begin_inset Formula $n_{A_{1}},\ldots,n_{A_{k}}$
\end_inset


\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
בדיקת הוכחות אוטומטית היא בימינו עניין לא קשה לביצוע; כל צעד בהוכחה הוא
 
\series bold
כלל היסק
\series default
 שלוקח מספר מחרוזות ומסיק מתוכן מחרוזת חדשה על בדיקה של טקסט המחרוזות עצמן,
 בלי צורך בהבנה של המשמעות שהן מייצגות.
 למשל, כלל ההיסק מודוס פוננס מקבל את המחרוזות 
\begin_inset Formula $A\to B$
\end_inset

 ו-
\begin_inset Formula $A$
\end_inset

 ומסיק מהן את 
\begin_inset Formula $B$
\end_inset

 - קל לכתוב קוד שמבצע את הבדיקה המתאימה ומחזיר את הפלט המתאים.
 מכיוון שמחרוזות מקודדות במחשב מודרני באמצעות מספרים )למשל, בקידוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ASCII
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UTF
\lang hebrew
( בפועל מה שמתרחש מאחורי הקלעים הוא בדיקה האם ממספרים טבעיים נובע מספר טבעי
 אחר על פי כללי היסק מסויימים.
 במאמר שלו, קורט גדל ביצע את העבודה הטכנית של כתיבת 
\begin_inset Quotes eld
\end_inset

קוד שמבצע את הבדיקה המתאימה
\begin_inset Quotes erd
\end_inset

 גם מבלי שיהיה לו מושג של מחשב או שפת תכנות להסתמך עליו.
\end_layout

\begin_layout Standard
אלן טיורינג לקח את הרעיונות של גדל לשלב הבא: הוא רצה לאפשר למכונות טיורינג
 לדבר 
\series bold
על מכונות טיורינג
\series default
.
 מכיוון שמכונות טיורינג מקבלות כקלט מחרוזת, השלב הקריטי היה להראות שניתן
 לקודד מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 בתור מחרוזת 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, בצורה כזו שניתן יהיה להשתמש במחרוזת כדי לבצע את פעולת המכונה.
 מכיוון שמה שמכונת טיורינג עושה הוא לרוץ על קלטים, הרעיון של טיורינג היה
 לבנות מכונת טיורינג 
\begin_inset Formula $U$
\end_inset

, שנקראת 
\series bold
מכונת טיורינג אוניברסלית
\series default
, שמקבלת קלט שהוא 
\series bold
זוג 
\series default

\begin_inset Formula $\left(\left\langle M\right\rangle ,\left\langle x\right\rangle \right)$
\end_inset

 שכולל קידוד של מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 כלשהי, וקידוד של קלט 
\begin_inset Formula $x$
\end_inset

 כלשהו עבור 
\begin_inset Formula $M$
\end_inset

, ומה ש-
\begin_inset Formula $U$
\end_inset

 יודעת לעשות הוא לבצע סימולציה של ריצת 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 כלומר, ליצור סדרתית ייצוג של הקונפיגורציות בריצת 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

, ואם 
\begin_inset Formula $M$
\end_inset

 עוצרת - לזהות זאת, ולדעת מה הפלט ש-
\begin_inset Formula $M$
\end_inset

 מחזירה על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
כמובן, ניתן להשתמש ב-
\begin_inset Formula $U$
\end_inset

 האוניברסלית גם בצורה חכמה יותר מאשר 
\begin_inset Quotes eld
\end_inset

סתם
\begin_inset Quotes erd
\end_inset

 להריץ מכונה על קלט; ניתן להריץ מכונה על שני קלטים 
\series bold
במקביל
\series default
, או אפילו להריץ אינסוף מכונות שונות על אינסוף קלטים במקביל, צעד אחד בכל
 פעם לכל אחת מהמכונות.
 היכולת החדשה הזו של מכונות טיורינג - היכולת 
\series bold
להריץ מכונות טיורינג
\series default
 היא המפתח לכל מה שנעשה בהמשך, ובפרט להוכחה שיש בעיות אלגוריתמיות שאינן
 כריעות.
\end_layout

\begin_layout Subsubsection
קידוד
\end_layout

\begin_layout Standard
במכונה האוניברסלית שנציג נרצה לשמור על פשטות הייצוג ככל שניתן, וזאת במחיר
 גבוה ביעילות הפעולה של המכונה - מה שלא רלוונטי לנו כלל בהקשר הנוכחי.
 לשם כך נקבע שהמכונה האוניברסלית 
\begin_inset Formula $U$
\end_inset

 שלנו תהיה בעלת א
\begin_inset Quotes erd
\end_inset

ב העבודה 
\begin_inset Formula $\Gamma=\left\{ 0,1,\flat\right\} $
\end_inset

 וא
\begin_inset Quotes erd
\end_inset

ב הפלט 
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} $
\end_inset

 בלבד.
\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $U$
\end_inset

 מקבלת קלט 
\begin_inset Formula $M,x$
\end_inset

 אנחנו ניצבים בפני הבעיות הבאות:
\end_layout

\begin_layout Itemize
מספר המצבים 
\begin_inset Formula $Q$
\end_inset

 של 
\begin_inset Formula $M$
\end_inset

 אינו חסום; כלומר, 
\begin_inset Formula $U$
\end_inset

 צריכה לדעת להתמודד עם 
\begin_inset Formula $M$
\end_inset

 ולא משנה כמה גדול מספר המצבים של 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Itemize
גודל א
\begin_inset Quotes erd
\end_inset

ב העבודה של 
\begin_inset Formula $M$
\end_inset

 אינו חסום, בדומה לגודל 
\begin_inset Formula $Q$
\end_inset

.
\end_layout

\begin_layout Itemize
הקלט והפלט של 
\begin_inset Formula $M$
\end_inset

 צריכים להינתן באמצעות א
\begin_inset Quotes erd
\end_inset

ב הקלט והעבודה של 
\begin_inset Formula $M$
\end_inset

, לא של 
\begin_inset Formula $U$
\end_inset

.
\end_layout

\begin_layout Standard
כדי לפתור את הבעיות הללו אנחנו משתמשים בקידוד - ייצוג הן של המכונה 
\begin_inset Formula $M$
\end_inset

 והן של הקלט 
\begin_inset Formula $x$
\end_inset

 באמצעות מחרוזות של תווים מתוך 
\begin_inset Formula $\left\{ 0,1\right\} ^{*}$
\end_inset

.
 את הקידוד של 
\begin_inset Formula $M$
\end_inset

 נסמן 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ואת הקידוד של 
\begin_inset Formula $x$
\end_inset

 נסמן 
\begin_inset Formula $\left\langle x\right\rangle $
\end_inset

.
\end_layout

\begin_layout Standard
ראשית נסביר כיצד לקודד מחרוזת 
\begin_inset Formula $x\in\Gamma^{*}$
\end_inset

.
 באופן כללי, אברי 
\begin_inset Formula $\Gamma$
\end_inset

 ניתנים להצגה בתור 
\begin_inset Formula $\Gamma=\left\{ a_{1},a_{2},\ldots,a_{n}\right\} $
\end_inset

.
 כדי לפשט עוד יותר את הסימונים, נוכל להניח שהאיברים מיוצגים באמצעות האינדקס
 שלהם, כלומר 
\begin_inset Formula $\Gamma=\left\{ 1,2,\ldots,n\right\} $
\end_inset

.
 לצורך פשטות נבחר את המספור בדרך כזו כך שמתקיים 
\begin_inset Formula $\Sigma=\left\{ 1,2,\ldots,m\right\} $
\end_inset

 כך ש-
\begin_inset Formula $m<n$
\end_inset

, כלומר במספור אברי 
\begin_inset Formula $\Gamma$
\end_inset

 רשומות קודם האותיות ששייכות גם ל-
\begin_inset Formula $\Sigma$
\end_inset

.
\end_layout

\begin_layout Standard
נזכיר מהו 
\series bold
ייצוג אונרי
\series default
 של מספר טבעי: זו פשוט מחרוזת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
-ים שאורכה כגודל המספר.
 כך למשל המספר 
\begin_inset Quotes eld
\end_inset

שלוש
\begin_inset Quotes erd
\end_inset

 מיוצג על ידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
111
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והמספר 
\begin_inset Quotes eld
\end_inset

שמונה
\begin_inset Quotes erd
\end_inset

 על ידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11111111
\numeric off
.
 זוהי שיטה בזבזנית מאוד לייצוג, מבחינת מספר התווים שנדרשים לייצג כל מספר,
 אך היא תספיק לנו.
 הרעיון הוא שנקודד מחרוזת על ידי 
\series bold
ייצוג אונרי של האינדקס של התווים שבה
\series default
 כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משמש לנו בתור תו מפריד בין אותיות שונות.
\end_layout

\begin_layout Standard
כלומר, ראשית נגדיר 
\begin_inset Formula $\left\langle i\right\rangle =1^{i}$
\end_inset

 לכל 
\begin_inset Formula $i\in\Gamma$
\end_inset

, וכעת עבור 
\begin_inset Formula $x=x_{1}\cdots x_{k}\in\Gamma^{*}$
\end_inset

 נגדיר 
\begin_inset Formula 
\begin{align*}
\left\langle x\right\rangle  & =\left\langle x_{1}\right\rangle 0\left\langle x_{2}\right\rangle 0\cdots0\left\langle x_{k}\right\rangle 0
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כך למשל, אם 
\begin_inset Formula $\Gamma=\left\{ a,b,c\right\} $
\end_inset

 אז המחרוזת 
\begin_inset Formula $acab$
\end_inset

 תיוצג על ידי 
\begin_inset Formula $10111010110$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת לקידוד של המכונה 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Standard
כזכור, מ
\begin_inset Quotes erd
\end_inset

ט כוללת את המרכיבים הבאים: 
\begin_inset Formula $M=\left(Q,q_{0},F,\Gamma,\Sigma,\flat,\delta\right)$
\end_inset

.
 את רובם ניתן לקודד בפשטות בזכות היכולת שלנו להניח כמה הנחות מקילות.
\end_layout

\begin_layout Itemize
כמו קודם, אנו מניחים כי 
\begin_inset Formula $\Gamma=\left\{ 1,2,\ldots,n\right\} $
\end_inset

 כך ש-
\begin_inset Formula $\Sigma=\left\{ 1,2,\ldots,m\right\} $
\end_inset

 כוללת את חלק מהתווים בתחילת 
\begin_inset Formula $\Gamma$
\end_inset

 ומספיק לנו להתייחס לתווים באמצעות האינדקס שלהם בלבד.
\end_layout

\begin_layout Itemize
נניח כי 
\begin_inset Formula $\flat=n$
\end_inset

, כלומר התו האחרון ב-
\begin_inset Formula $\Gamma$
\end_inset

 )שבודאות אינו שייך ל-
\begin_inset Formula $\Sigma$
\end_inset

( הוא זה שמייצג את 
\begin_inset Formula $\flat$
\end_inset

.
\end_layout

\begin_layout Itemize
עבור 
\begin_inset Formula $Q$
\end_inset

 נפשט את סימוני האיברים בצורה דומה: נניח כי 
\begin_inset Formula $Q=\left\{ 1,2,3,\ldots,\left|Q\right|\right\} $
\end_inset

 כלומר כל מצבי 
\begin_inset Formula $Q$
\end_inset

 הם מספרים טבעיים החל מ-
\numeric on
1
\numeric off
.
 נניח ש-
\begin_inset Formula $q_{0}=1$
\end_inset

, כלומר המצב ההתחלתי הוא המצב הראשון ב-
\begin_inset Formula $Q$
\end_inset

.
\end_layout

\begin_layout Itemize
נניח כי 
\begin_inset Formula $F=\left\{ 2,3\right\} $
\end_inset

.
 הנחה זו דורשת הסבר נוסף.
 אם ב-
\begin_inset Formula $M$
\end_inset

 היו פחות מצבים סופיים, אפשר להוסיף עוד מצבים כרצוננו בלי לשנות את התנהגות
 המכונה.
 אם היו בה יותר מצבים, אפשר 
\begin_inset Quotes eld
\end_inset

למזג
\begin_inset Quotes erd
\end_inset

 אותם על ידי שינוי פונקציית המעברים )במקום להעביר למצב 
\begin_inset Formula $q_{f}$
\end_inset

 מסוים, להעביר תמיד אל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, מה ש
\begin_inset Quotes erd
\end_inset

ממזג
\begin_inset Quotes erd
\end_inset

 את 
\begin_inset Formula $q_{f}$
\end_inset

 עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(.
 מכיוון שריצת המכונה נעצרת אחרי כניסה למצב סופי, המיזוג הזה לא משפיע על
 התנהלות המכונה.
 נשאלת אם כן השאלה מדוע אנו זקוקים ל
\series bold
שני
\series default
 מצבים סופיים ולא לאחד; התשובה היא שבהמשך נראה מכונות )
\begin_inset Quotes erd
\end_inset

מכונות להכרעת שפות
\begin_inset Quotes erd
\end_inset

( שיש בהן בדיוק שני מצבים סופיים ויש חשיבות לשאלה לאיזה מצב סופי המכונה
 מגיעה.
\end_layout

\begin_layout Itemize
פונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

 כזכור מקיימת 
\begin_inset Formula $\delta\left(q,\sigma\right)=\left(p,\tau,X\right)$
\end_inset

, כלומר מקבלת שני קלטים ומחזירה שלושה פלטים.
 אפשר לחשוב על 
\begin_inset Formula $\delta$
\end_inset

 בתור קבוצה של חמישיות 
\begin_inset Formula $\left(q,\sigma,p,\tau,X\right)$
\end_inset

 ולקודד כל חמישייה בנפרד.
 כבר ראינו שכל מצב ואות הם מספרים, ואפשר להניח שגם 
\begin_inset Formula $\left\{ S,L,R\right\} $
\end_inset

 מיוצגת באמצעות מספרים )למשל 
\begin_inset Formula $S=1,L=2,R=3$
\end_inset

( ולכן 
\begin_inset Formula 
\begin{align*}
\left\langle \delta\left(q,\sigma\right)\right\rangle  & =\left\langle \left(q,\sigma,p,\tau,X\right)\right\rangle =1^{q}01^{\sigma}01^{p}01^{\tau}01^{X}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בהינתן כל אלו, ניתן לקודד את 
\begin_inset Formula $M$
\end_inset

 כולה באופן הבא:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left\langle M\right\rangle  & =1^{\left|Q\right|}01^{\left|\Gamma\right|}01^{\left|\Sigma\right|}00\left\langle \delta\left(1,1\right)\right\rangle 0\left\langle \delta\left(1,2\right)\right\rangle 0\left\langle \delta\left(1,3\right)\right\rangle 0\cdots\left\langle \delta\left(\left|Q\right|,\left|\Gamma\right|\right)\right\rangle 00
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר ה-
\numeric on
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לפני ואחרי כתיבת ה-
\begin_inset Formula $\delta$
\end_inset

 מאפשר לנו לזהות את תחילת וסוף האיזורים שבהם פונקציית המעברים מופיעה.
\end_layout

\begin_layout Subsubsection
סימולציה
\end_layout

\begin_layout Standard
נסביר כעת כיצד לבנות מ
\begin_inset Quotes erd
\end_inset

ט אוניברסלית 
\begin_inset Formula $U$
\end_inset

 שמקבלת 
\begin_inset Formula $\left\langle M\right\rangle ,\left\langle x\right\rangle $
\end_inset

, מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ומחזירה את 
\begin_inset Formula $\left\langle f_{M}\left(x\right)\right\rangle $
\end_inset

 אם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

.
 במאמרו, טיורינג נתן תיאור מלא של מכונה כזו, אך אנו נסתפק בהסבר לא פורמלי
 )זו הצורה שבה אנו חומקים מהליבה הטכנית של הקורס, שהיא מה שמאפשר ליתר הקורס
 להיות לא פורמלי יחסית(.
\end_layout

\begin_layout Standard
כבר ראינו איך מ
\begin_inset Quotes erd
\end_inset

ט דו-סרטית היא שקולה למ
\begin_inset Quotes erd
\end_inset

ט חד-סרטית; באותו האופן ניתן להוסיף עוד מספר סופי כלשהו של סרטים.
 כדי להקל על עצמנו נניח של-
\begin_inset Formula $U$
\end_inset

 יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
 סרטים.
\end_layout

\begin_layout Standard
\begin_inset Formula $U$
\end_inset

 תפעל בצורה הבאה: ראשית היא תוודא את 
\series bold
תקינות הקלט
\series default
 - כלומר, שהקלט שלה, שאמור להיות 
\begin_inset Formula $\left(\left\langle M\right\rangle ,\left\langle x\right\rangle \right)$
\end_inset

 אכן נראה כמו קידוד של מ
\begin_inset Quotes erd
\end_inset

ט ושל מחרוזת.
 לשם כך היא תוודא שתחילת הקלט שלה הוא מהצורה הבאה:
\end_layout

\begin_layout Itemize
מספר גדול מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $1$
\end_inset

-ים )זה 
\begin_inset Formula $\left|Q\right|$
\end_inset

( ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 את רצף ה-
\numeric on
1
\numeric off
-ים הזה המכונה תעתיק לסרט מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלה, שנכנה 
\begin_inset Quotes eld
\end_inset

סרט המצבים
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
מספר גדול מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $1$
\end_inset

-ים )זה 
\begin_inset Formula $\left|\Gamma\right|$
\end_inset

( ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 את רצף ה-
\numeric on
1
\numeric off
-ים הזה המכונה תעתיק לסרט מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלה, שנכנה 
\begin_inset Quotes eld
\end_inset

סרט האלפבית
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
מספר גדול מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $1$
\end_inset

-ים )זה 
\begin_inset Formula $\left|\Sigma\right|$
\end_inset

( ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 תוך קריאת ה-
\numeric on
1
\numeric off
-ים הללו נשווה את מספרם למספר ה-
\numeric on
1
\numeric off
-ים בסרט האלפבית ונוודא שהוא קטן יותר )כלומר, אחרי שאנחנו מגיעים אל ה-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בסיום עדיין לא הגענו אל קצה ה-
\numeric on
1
\numeric off
-ים בסרט האלפבית(.
\end_layout

\begin_layout Itemize

\numeric on
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחריו כפולה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של קטעי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
-ים מופרדים באפסים בודדים, ואז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נוסף.
 את אוסף החמישיות הזה המכונה תעתיק לסרט מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלה, שנכנה 
\begin_inset Quotes eld
\end_inset

סרט פונקציית המעברים
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
את כל מה שיש אחרי ה-
\numeric on
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)שיכול להיות מחרוזת ריקה( מעתיקים לתחילת הסרט ומוחקים את כל מה שהיה משמאל
 אליו.
\end_layout

\begin_layout Standard
אם בשלב כלשהו בוידוא ההתחלתי הזה דברים אינם מתנהלים כפי שהם אמורים, כלומר
 ה
\begin_inset Quotes erd
\end_inset

קידוד
\begin_inset Quotes erd
\end_inset

 של 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 אינו קידוד חוקי, המוסכמה שלנו היא ש-
\begin_inset Formula $U$
\end_inset

 תרוץ לנצח )למשל, תיכנס למצב שבו היא תמיד מבצעת צעד ימינה ונשארת באותו מצב(.
 אינטואיטיבית, כל קידוד שהוא ג'יבריש מקודד לנו מכונה 
\begin_inset Formula $\left\langle M_{stam}\right\rangle $
\end_inset

 שלא עוצרת על אף קלט.
\end_layout

\begin_layout Standard
בדיקה נוספת שיש לבצע בשלב זה היא שפונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

 היא חוקית - כלומר, שלכל 
\begin_inset Formula $1\le i\le\left|Q\right|$
\end_inset

 ו-
\begin_inset Formula $1\le j\le\left|\Gamma\right|$
\end_inset

 מופיע הקלט 
\begin_inset Formula $\left(i,j\right)$
\end_inset

 בדיוק פעם אחת, ולפי הסדר הלקסיקוגרפי.
 ניתן לבצע את הבדיקה הזו בקלות עם שני סרטי עזר שאחד כולל את 
\begin_inset Formula $i$
\end_inset

 והשני את 
\begin_inset Formula $j$
\end_inset

.
 במקרה והבדיקה נכשלה, אנו מניחים כמו קודם שהמכונה היא 
\begin_inset Formula $\left\langle M_{stam}\right\rangle $
\end_inset

.
\end_layout

\begin_layout Standard
כדי לסמלץ חישוב, המכונה האוניברסלית צריכה בכל רגע נתון לשמור על הסרט את
 ה
\series bold
קונפיגורציה
\series default
 של 
\begin_inset Formula $M$
\end_inset

.
 את הקונפיגורציה 
\begin_inset Formula $C=\left(\alpha,q,i\right)$
\end_inset

 ניתן לייצג בתור המחרוזת הבאה, שהיא פשוט 
\begin_inset Formula $\alpha$
\end_inset

 עצמה שבה האיבר ה-
\begin_inset Formula $i$
\end_inset

 מוחלף בזוג 
\begin_inset Formula $\left(\alpha_{i},q\right)$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula $\alpha_{1}\alpha_{2}\cdots\left(\alpha_{i},q\right)\cdots\alpha_{t}$
\end_inset

.
\end_layout

\begin_layout Standard
קידוד של הקונפיגורציה הזו יהיה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left\langle \alpha_{1}\alpha_{2}\cdots\left(\alpha_{i},q\right)\cdots\alpha_{t}\right\rangle  & =\left\langle \alpha_{1}\right\rangle 0\left\langle \alpha_{2}\right\rangle 0\cdots\left\langle \left(\alpha_{i},q\right)\right\rangle \cdots\left\langle \alpha_{t}\right\rangle 0\\
 & =1^{\alpha_{1}}01^{\alpha_{2}}0\cdots01^{\alpha_{i}}001^{q}00\cdots1^{\alpha_{t}}0
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כלומר, ניתן לזהות את מיקום 
\begin_inset Formula $q$
\end_inset

 על ידי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
-ים כפולים משני הצדדים.
\end_layout

\begin_layout Standard
בתחילת החישוב, מה שכתוב על הסרט הוא 
\begin_inset Formula $\left\langle x\right\rangle $
\end_inset

 )את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 כבר מחקנו(.
 המכונה מוסיפה לתו הראשון ב-
\begin_inset Formula $x$
\end_inset

 את 
\begin_inset Formula $001^{q_{0}}00$
\end_inset

, כלומר את 
\begin_inset Formula $00100$
\end_inset

.
 אם 
\begin_inset Formula $x$
\end_inset

 הוא המחרוזת הריקה, המכונה תיצור את 
\begin_inset Formula $\left\langle \left(\flat,q_{0}\right)\right\rangle $
\end_inset

.
 שימו לב שכדי ליצור את 
\begin_inset Formula $\left\langle \flat\right\rangle =1^{\left|\Gamma\right|}$
\end_inset

 צריך לדעת את 
\begin_inset Formula $\left|\Gamma\right|$
\end_inset

 - זה מתבצע על ידי העתקת המחרוזת שבסרט האלפבית.
\end_layout

\begin_layout Standard
כעת, בכל צעד חישוב, 
\begin_inset Formula $U$
\end_inset

 תפעל בצורה הבאה:
\end_layout

\begin_layout Itemize
תעביר את הראש בסרט הראשון אל הישר מימין ל-
\numeric on
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השמאלי יותר, כלומר תחילת 
\begin_inset Formula $q$
\end_inset

, ואת הראש בסרט פונקציית המעברים אל תחילת הסרט.
\end_layout

\begin_layout Itemize
תעבור סדרתית על האברים 
\begin_inset Formula $\left\langle \delta\left(a,b\right)\right\rangle $
\end_inset

 בסרט פונקציית המעברים ותשווה כל איבר כזה עם הקונפיגורציה הנוכחית.
 כלומר:
\end_layout

\begin_deeper
\begin_layout Itemize
תבדוק ש-
\begin_inset Formula $1^{q}=1^{a}$
\end_inset

 על ידי מעבר עם שני הראשים )זה של הקונפיגורציה וזה של פונקציית המעברים(
 בו זמנית צעד-צעד ובדיקה אם הגיעו ביחד אל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Itemize
במידה שהבדיקה הקודמת עבדה, תעבור בסרט הקונפיגורציה אל 
\begin_inset Formula $\alpha_{i}$
\end_inset

 על ידי מעבר שמאלה על פני ה-
\numeric on
00
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ועד ל-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הקודם, ואז תשווה את 
\begin_inset Formula $\alpha_{i}$
\end_inset

 אל 
\begin_inset Formula $1^{b}$
\end_inset

.
\end_layout

\begin_layout Itemize
במידה ואחת משתי הבדיקות הקודמות נכשלו, המכונה תעבור אל תחילת החמישייה הבאה
 בסרט פונקציית המעברים )מובטח לנו שאחת מהבדיקות תצליח, שכן קידוד פונקציית
 המעברים הוא חוקי(.
\end_layout

\end_deeper
\begin_layout Itemize
כאשר שתי הבדיקות הצליחו, כלומר נמצאה חמישייה 
\begin_inset Formula $\left(q,\sigma,p,\tau,X\right)$
\end_inset

 המכונה תשנה את הקונפיגורציה הנוכחית בהתאם:
\end_layout

\begin_deeper
\begin_layout Itemize
את 
\begin_inset Formula $\alpha_{i}$
\end_inset

 המכונה תמחק, ותעתיק את 
\begin_inset Formula $1^{\tau}$
\end_inset

 במקומו.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=S$
\end_inset

, המכונה תחליף את 
\begin_inset Formula $1^{q}$
\end_inset

 ב-
\begin_inset Formula $1^{p}$
\end_inset

.
 כך גם תפעל המכונה אם 
\begin_inset Formula $X=L$
\end_inset

 אבל 
\begin_inset Formula $i=1$
\end_inset

 )כלומר, אנחנו בקצה השמאלי של הקלט(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=L$
\end_inset

, המכונה תמחק את 
\begin_inset Formula $001^{q}00$
\end_inset

, תלך אל משמאל ל-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $\alpha_{i}$
\end_inset

 כך שהיא בקצה הימני של התא של 
\begin_inset Formula $\alpha_{i-1}$
\end_inset

, ותכתוב שם 
\begin_inset Formula $001^{p}0$
\end_inset

 )ה-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שהיא עקפה יצטרף אל ה-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הימני(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $X=R$
\end_inset

 המכונה תפעיל בדומה למקרה של 
\begin_inset Formula $X=L$
\end_inset

 אלא אם כן 
\begin_inset Formula $\alpha_{i}$
\end_inset

 היה בקצה הימני של הקלט )מה שניתן לזהות על ידי כך ש-
\begin_inset Formula $U$
\end_inset

 תיתקל מעבר לקצה זה בסימן ה-
\begin_inset Formula $\flat$
\end_inset

 של הא
\begin_inset Quotes erd
\end_inset

ב שלה.
 במקרה זה, 
\begin_inset Formula $U$
\end_inset

 תכתוב מעבר ל-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הימני ביותר את המחרוזת 
\begin_inset Formula $1^{\left|\Gamma\right|}001^{p}00$
\end_inset

 )שמייצגת את 
\begin_inset Formula $\left\langle \left(\flat,p\right)\right\rangle $
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $p\in F$
\end_inset

, המכונה תעביר את עצמה אל הקצה השמאלי של התא 
\begin_inset Formula $1^{t}001^{p}00$
\end_inset

 שהיא נמצאת בו ותעצור )כך שהפלט שלה יהיה הקידוד של המחרוזת עד ולא כולל התו
 הנוכחי(.
\end_layout

\begin_layout Standard
את המסקנה מכל הדיון הזה ניתן לרכז לכדי משפט מחץ אחד:
\end_layout

\begin_layout Theorem
נגדיר את 
\begin_inset Quotes eld
\end_inset

הפונקציה האוניברסלית
\begin_inset Quotes erd
\end_inset

 
\begin_inset Formula $U$
\end_inset

 בתור הפונקציה שעל קלט 
\begin_inset Formula $U\left(\left\langle M\right\rangle ,\left\langle x\right\rangle \right)$
\end_inset

, אם המ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 אז 
\begin_inset Formula $U\left(\left\langle M\right\rangle ,\left\langle x\right\rangle \right)=\left\langle f_{M}\left(x\right)\right\rangle $
\end_inset

 ואחרת 
\begin_inset Formula $U\left(\left\langle M\right\rangle ,\left\langle x\right\rangle \right)$
\end_inset

 אינה מוגדרת.
 אז 
\begin_inset Formula $U$
\end_inset

 ניתנת לחישוב.
\end_layout

\begin_layout Standard
המשמעות הפרקטית מכאן ואילך של קיום מ
\begin_inset Quotes erd
\end_inset

ט אוניברסלית היא שנרשה לעצמנו, בעת בניית מ
\begin_inset Quotes erd
\end_inset

ט כלשהי, להגיד 
\begin_inset Quotes eld
\end_inset

המכונה שלנו תפרש את הקלט שלה בתור מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset


\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

המכונה שלנו תריץ את 
\begin_inset Formula $M$
\end_inset

 בצורה כך וכך
\begin_inset Quotes erd
\end_inset

 וכדומה.
 יכולת זו מתקבלת מכך שאחד מרכיבי המ
\begin_inset Quotes erd
\end_inset

ט שנבנה יכלול את המ
\begin_inset Quotes erd
\end_inset

ט האוניברסלית 
\begin_inset Formula $U$
\end_inset

 שהסברנו כיצד לבנות.
\end_layout

\begin_layout Subsection
משפט הרקורסיה של קלייני
\end_layout

\begin_layout Standard
נסיים חלק זה בנושא מתקדם יחסית, שלא נזדקק לו בהמשך אם כי הוא יכול לפשט חלק
 מהדברים שנעשה.
 השאלה הבסיסית שנרצה לענות עליה היא 
\begin_inset Quotes eld
\end_inset

האם בזמן שבונים מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 ניתן להניח כי הקידוד 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 יהיה ידוע ל-
\begin_inset Formula $M$
\end_inset

 והיא תוכל להשתמש בו?
\begin_inset Quotes erd
\end_inset

 והתשובה היא 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
כדי לקבל אינטואיציה לכך שזו אינה שאלה טריוויאלית, נזכיר שאלה דומה הקשורה
 לה בקשר הדוק - האם קיימת תוכנית מחשב שמדפיסה את קוד המקור של עצמה, וזאת
 מבלי לנקוט בתעלולים כמו פתיחת קובץ שבו כתוב הקוד? התשובה לכך גם כן חיובית,
 וקיימות אינספור דרכים לכתוב תוכניות כאלו, שזכו לשם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
quine
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על שם הפילוסוף בשם זה.
 עם זאת, כל נסיון נאיבי לכתוב תוכנית כזו יוביל מהר מאוד לבעיה שתסייע להבנה
 האינטואיטיבית של הקושי כאן: אם התוכנית סתם תנסה לכלול פקודת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
print
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ואחריה מחרוזת הכוללת את תוכן התוכנית, תיווצר הבעיה לפיה חלק מתוכן התוכנית
 הוא אותה מחרוזת עצמה שאותה מנסים להדפיס, ונסיון לכלול אותה בפנים יאריך
 אותה עוד ועוד, עד אין קץ.
 צריך לנקוט בחיסכון בדרך כלשהי.
\end_layout

\begin_layout Standard
ראשית נפתור את בעיית ה-
\lang english
quine
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהקשר של מכונות טיורינג.
 כלומר, נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שעל הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

 מחזירה את הפלט 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

.
 לצורך כך, נתחיל בצורה צנועה אף יותר: נבנה מכונות טיורינג 
\begin_inset Formula $A,B$
\end_inset

 כך שאם 
\begin_inset Formula $A$
\end_inset

 מורצת על הקלט הריק ואז 
\begin_inset Formula $B$
\end_inset

 מורצת על הפלט של 
\begin_inset Formula $A$
\end_inset

, התוצאה היא 
\begin_inset Formula $\left\langle A\right\rangle \left\langle B\right\rangle $
\end_inset

, כלומר 
\begin_inset Formula $f_{B}\left(f_{A}\left(\varepsilon\right)\right)=\left\langle A\right\rangle \left\langle B\right\rangle $
\end_inset

.
\end_layout

\begin_layout Standard
המכונה 
\begin_inset Formula $A$
\end_inset

 עומדת להיות פשוטה מאוד: זו מכונה שעל הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

 כותבת את הפלט 
\begin_inset Formula $\left\langle B\right\rangle $
\end_inset

 ועוצרת.
 אלא שההגדרה הזו בעייתית כי טרם הגדרנו את 
\begin_inset Formula $B$
\end_inset

; נגדיר את 
\begin_inset Formula $B$
\end_inset

 בזהירות מבלי להתייחס כלל ל-
\begin_inset Formula $A$
\end_inset

 כדי שלא ליצור הגדרה מעגלית.
\end_layout

\begin_layout Standard
אינטואיטיבית, 
\begin_inset Formula $B$
\end_inset

 היא מכונה שעל קלט 
\begin_inset Formula $w$
\end_inset

 כותבת על ידו קידוד 
\begin_inset Formula $\left\langle M_{w}\right\rangle $
\end_inset

 של מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{w}$
\end_inset

 שהיא מכונה שעל הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

 מוציאה כפלט 
\begin_inset Formula $w$
\end_inset

.
 כיצד 
\begin_inset Formula $B$
\end_inset

 עושה זאת?
\end_layout

\begin_layout Standard
בהינתן מילה 
\begin_inset Formula $w=\sigma_{1}\sigma_{2}\cdots\sigma_{n}$
\end_inset

, מכונה שעל 
\begin_inset Formula $\varepsilon$
\end_inset

 כותבת את 
\begin_inset Formula $w$
\end_inset

 יכולה להיות מכונה שמצביה הם 
\begin_inset Formula $Q=\left\{ 1,2,\ldots,n,n+1\right\} $
\end_inset

 כך ש-
\begin_inset Formula $F=\left\{ n+1\right\} $
\end_inset

 והמעברים שלה הם כולם 
\begin_inset Formula $\delta\left(q_{i},\flat\right)=\left(q_{i+1},\sigma_{i},R\right)$
\end_inset

 )המעברים על תווים שאינם 
\begin_inset Formula $\flat$
\end_inset

 יכולים להיות משהו שרירותי שכן בכל מקרה לא נשתמש בהם(.
 קל לכתוב את הקידוד של מכונה זו - הדבר היחיד שתלוי ב-
\begin_inset Formula $w$
\end_inset

 עצמה הוא ה-
\begin_inset Formula $\sigma_{i}$
\end_inset

 שמופיעים בחלק של פונקציית המעברים.
 נסמן בתור 
\begin_inset Formula $q$
\end_inset

 את הפונקציה שעל קלט 
\begin_inset Formula $w$
\end_inset

 מחזירה את המכונה 
\begin_inset Formula $M_{w}$
\end_inset

 המתאימה לתיאור לעיל - פורמלית 
\begin_inset Formula $q\left(w\right)=\left\langle M_{w}\right\rangle $
\end_inset

.
 כאמור, 
\begin_inset Formula $q$
\end_inset

 ניתנת לחישוב בקלות יחסית.
\end_layout

\begin_layout Standard
כעת נגדיר את 
\begin_inset Formula $B$
\end_inset

 כך: על קלט 
\begin_inset Formula $w$
\end_inset

 היא מחשבת את 
\begin_inset Formula $q\left(w\right)$
\end_inset

 ומוציאה כפלט את 
\begin_inset Formula $q\left(w\right)w$
\end_inset

.
 שימו לב שבהגדרה זו לא הסתמכנו על 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Standard
כעת נגדיר את המכונה 
\begin_inset Formula $A$
\end_inset

 על ידי 
\begin_inset Formula $A=q\left(\left\langle B\right\rangle \right)$
\end_inset

.
 כלומר, 
\begin_inset Formula $A$
\end_inset

 אינה 
\begin_inset Quotes eld
\end_inset

סתם
\begin_inset Quotes erd
\end_inset

 מכונה שעל 
\begin_inset Formula $\varepsilon$
\end_inset

 מוציאה 
\begin_inset Formula $\left\langle B\right\rangle $
\end_inset

 כפלט, אלא אותה מכונה ממש ש-
\begin_inset Formula $B$
\end_inset

 תייצר אם תופעל על הקלט 
\begin_inset Formula $\left\langle B\right\rangle $
\end_inset

.
\end_layout

\begin_layout Standard
כעת, פעולתה של 
\begin_inset Formula $B$
\end_inset

 על הקלט 
\begin_inset Formula $\left\langle B\right\rangle $
\end_inset

 הוא כדלהלן: היא כותבת על הסרט את 
\begin_inset Formula $q\left(w\right)w$
\end_inset

, כלומר במקרה שלנו את
\begin_inset Formula 
\begin{align*}
q\left(\left\langle B\right\rangle \right)\left\langle B\right\rangle  & =\left\langle A\right\rangle \left\langle B\right\rangle 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כפי שרצינו.
\end_layout

\begin_layout Standard
לרוע המזל, המכונה שקודם מפעילה את 
\begin_inset Formula $A$
\end_inset

 ואז מפעילה את 
\begin_inset Formula $B$
\end_inset

 על התוצאה 
\series bold
אינה
\series default
 מקודדת באמצעות 
\begin_inset Formula $\left\langle A\right\rangle \left\langle B\right\rangle $
\end_inset

 - קידוד של מכונה אינו מתאים לזוג קידודי מכונות זה לצד זה.
 אלא ש
\series bold
ניתן לחשב
\series default
 את הקידוד של מכונה שכזו מתוך הקידודים 
\begin_inset Formula $\left\langle A\right\rangle ,\left\langle B\right\rangle $
\end_inset

.
 אם כן, נוכל לשפר את המכונה 
\begin_inset Formula $B$
\end_inset

 שלנו בצורה הבאה:
\end_layout

\begin_layout Itemize
על קלט 
\begin_inset Formula $w$
\end_inset

, 
\begin_inset Formula $B$
\end_inset

 מחשבת את 
\begin_inset Formula $q\left(w\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $B$
\end_inset

 מפרשת את 
\begin_inset Formula $w$
\end_inset

 ואת 
\begin_inset Formula $q\left(w\right)$
\end_inset

 בתור קידודים של מכונות טיורינג.
\end_layout

\begin_layout Itemize
\begin_inset Formula $B$
\end_inset

 בונה קידוד של מ
\begin_inset Quotes erd
\end_inset

ט שמפעילה קודם את המכונה 
\begin_inset Formula $q\left(w\right)$
\end_inset

 ואז מפעילה את המכונה 
\begin_inset Formula $w$
\end_inset

 על התוצאה.
 את הקידוד הזה 
\begin_inset Formula $B$
\end_inset

 כותבת כפלט.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $\left\langle AB\right\rangle $
\end_inset

 את הקידוד הנוצר מ
\begin_inset Quotes erd
\end_inset

שילוב
\begin_inset Quotes erd
\end_inset

 כזה של 
\begin_inset Formula $A,B$
\end_inset

.
 נשים לב לכך שהמכונה 
\begin_inset Formula $AB$
\end_inset

 שמקודדת באמצעות 
\begin_inset Formula $\left\langle AB\right\rangle $
\end_inset

 היא מכונה שמפעילה את 
\begin_inset Formula $A$
\end_inset

 קודם ואז את 
\begin_inset Formula $B$
\end_inset

 על הפלט, ולכן על הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

 המכונה 
\begin_inset Formula $AB$
\end_inset

 תוציא את הפלט 
\begin_inset Formula $\left\langle AB\right\rangle $
\end_inset

, כמבוקש.
\end_layout

\begin_layout Standard
בזאת הוכחנו את המשפט הבא:
\end_layout

\begin_layout Theorem
קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $f_{M}\left(\varepsilon\right)=\left\langle M\right\rangle $
\end_inset


\end_layout

\begin_layout Standard
נרצה להכליל את מה שעשינו עד כה עבור טענה חזקה יותר: שכאשר אנו בונים מכונת
 טיורינג, אנחנו יכולים להניח שהמכונה מכירה את הקידוד של עצמה ויכולה להשתמש
 בו באופן חופשי.
 הניסוח הפורמלי של הטענה הזו נתון במשפט הבא:
\end_layout

\begin_layout Theorem
תהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט המתייחסת לקלט שלה בתור הזוג 
\begin_inset Formula $\left(x,y\right)$
\end_inset

.
 אז קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $f_{M^{\prime}}\left(x\right)=f_{M}\left(x,\left\langle M^{\prime}\right\rangle \right)$
\end_inset


\end_layout

\begin_layout Standard
הרעיון מאחורי 
\begin_inset Formula $M^{\prime}$
\end_inset

 הוא שמכונה זו מתנהגת כפי ש-
\begin_inset Formula $M$
\end_inset

 מתנהגת, במקרה הספציפי שבו 
\begin_inset Formula $x$
\end_inset

 הוא קלט כלשהו אבל 
\begin_inset Formula $y$
\end_inset

 אינו סתם קלט אלא הוא הקידוד של 
\begin_inset Formula $M^{\prime}$
\end_inset

 עצמה.
\end_layout

\begin_layout Proof
בהינתן 
\begin_inset Formula $M$
\end_inset

, נבנה מכונות 
\begin_inset Formula $A,B$
\end_inset

 בצורה דומה למה שעשינו קודם.
 נגדיר פונקציה 
\begin_inset Formula $q$
\end_inset

 כך ש-
\begin_inset Formula $q\left(w\right)=M_{w}$
\end_inset

 כאשר 
\begin_inset Formula $M_{w}$
\end_inset

 הפעם היא מכונה שעל הקלט 
\begin_inset Formula $x$
\end_inset

 מחזירה 
\begin_inset Formula $\left(x,w\right)$
\end_inset

.
 לאחר שנגדיר את 
\begin_inset Formula $B$
\end_inset

, תוגדר 
\begin_inset Formula $A$
\end_inset

 להיות 
\begin_inset Formula $A=q\left(\left\langle B\right\rangle \right)$
\end_inset

.
 כלומר, זו תהיה מכונה שעל 
\begin_inset Formula $x$
\end_inset

 כותבת על הסרט 
\begin_inset Formula $\left(x,\left\langle B\right\rangle \right)$
\end_inset

 ועוצרת.
\end_layout

\begin_layout Proof
נגדיר פונקציה 
\begin_inset Formula $r\left(\left\langle A\right\rangle ,\left\langle B\right\rangle \right)=\left\langle AB\right\rangle $
\end_inset

 שמקבלת קידוד של שתי מ
\begin_inset Quotes erd
\end_inset

ט ומחזירה מ
\begin_inset Quotes erd
\end_inset

ט שמריצה קודם את 
\begin_inset Formula $A$
\end_inset

 ואז את 
\begin_inset Formula $B$
\end_inset

 על הפלט של 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Proof
כעת, 
\begin_inset Formula $B$
\end_inset

 תהיה מכונה שעל הקלט 
\begin_inset Formula $\left(x,w\right)$
\end_inset

 מחשבת את 
\begin_inset Formula $q\left(w\right)$
\end_inset

, מפרשת את 
\begin_inset Formula $q\left(w\right),w$
\end_inset

 בתור קידודים של מ
\begin_inset Quotes erd
\end_inset

ט, ואז מחשבת את 
\begin_inset Formula $y=r\left(q\left(w\right),w\right)$
\end_inset

 ולבסוף מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\left(x,y\right)$
\end_inset

.
\end_layout

\begin_layout Proof
המכונה 
\begin_inset Formula $M^{\prime}=r\left(\left\langle A\right\rangle ,\left\langle B\right\rangle \right)$
\end_inset

 היא המכונה המבוקשת.
 אופן פעולתה על הקלט 
\begin_inset Formula $x$
\end_inset

 הוא כדלהלן: ראשית רכיב ה-
\begin_inset Formula $A$
\end_inset

 של 
\begin_inset Formula $M^{\prime}$
\end_inset

 משנה את תוכן הסרט אל 
\begin_inset Formula $\left(x,\left\langle B\right\rangle \right)$
\end_inset

.
 כעת, רכיב ה-
\begin_inset Formula $B$
\end_inset

 של 
\begin_inset Formula $M^{\prime}$
\end_inset

 מחשב את 
\begin_inset Formula $y=r\left(q\left(\left\langle B\right\rangle \right),\left\langle B\right\rangle \right)=r\left(\left\langle A\right\rangle ,\left\langle B\right\rangle \right)=\left\langle M^{\prime}\right\rangle $
\end_inset

.
 לבסוף, רכיב ה-
\begin_inset Formula $B$
\end_inset

 מריץ את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\left(x,y\right)$
\end_inset

, כך שהפלט של 
\begin_inset Formula $M^{\prime}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 יהיה זהה לפלט של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\left(x,\left\langle M^{\prime}\right\rangle \right)$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Section
בעיות לא כריעות
\end_layout

\begin_layout Subsection
בעיות הכרעה של שפות
\end_layout

\begin_layout Standard
עד כה עסקנו במכונות טיורינג שמחשבות פונקציות.
 אם 
\begin_inset Formula $M$
\end_inset

 היא מ
\begin_inset Quotes erd
\end_inset

ט, סימנו את הפונקציה אותה היא מחשבת ב-
\begin_inset Formula $f_{M}$
\end_inset

.
 זה פותח פתח להגדרה הבאה:
\end_layout

\begin_layout Definition
פונקציה 
\begin_inset Formula $f:\Sigma^{*}\to\Sigma^{*}$
\end_inset

 היא 
\series bold
ניתנת לחישוב
\series default
 אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $f=f_{M}$
\end_inset

.
\end_layout

\begin_layout Standard
ברצוננו להוכיח כי קיימות פונקציות שאינן ניתנות לחישוב.
 זו בפני עצמה טענה פשוטה בזכות 
\series bold
שיקולי ספירה
\series default
:
\end_layout

\begin_layout Theorem
קיימות פונקציות שאינן ניתנות לחישוב.
\end_layout

\begin_layout Proof
עבור א
\begin_inset Quotes erd
\end_inset

ב 
\begin_inset Formula $\Sigma$
\end_inset

, עוצמת קבוצת הפונקציות מ-
\begin_inset Formula $\Sigma^{*}$
\end_inset

 אל 
\begin_inset Formula $\Sigma^{*}$
\end_inset

 היא 
\begin_inset Formula $\left|\Sigma^{*\Sigma^{*}}\right|=\left|\Sigma^{*}\right|^{\left|\Sigma^{*}\right|}=\aleph_{0}^{\aleph_{0}}=\aleph$
\end_inset

.
 מצד שני, ראינו כי כל מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 ניתנת לקידוד באמצעות מחרוזת 
\series bold
סופית
\series default
 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 מעל הא
\begin_inset Quotes erd
\end_inset

ב 
\begin_inset Formula $\left\{ 0,1\right\} $
\end_inset

.
 כלומר, קיימת פונקציה חח
\begin_inset Quotes erd
\end_inset

ע מקבוצת המ
\begin_inset Quotes erd
\end_inset

ט אל 
\begin_inset Formula $\left\{ 0,1\right\} ^{*}$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\left|\left\{ 0,1\right\} \right|^{*}=\aleph_{0}$
\end_inset

 קיבלנו כי קיימות רק 
\begin_inset Formula $\aleph_{0}$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט.
 כל מ
\begin_inset Quotes erd
\end_inset

ט מחשבת פונקציה אחת בדיוק, ומכאן שקיימת פונקציה 
\begin_inset Formula $f$
\end_inset

 שאין אף מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 המחשבת אותה.
\end_layout

\begin_layout Standard
ההוכחה הזו אמנם מסיימת את שאלת ה
\series bold
קיום
\series default
 של פונקציות שאינן ניתנות לחישוב, אבל זה לא פתרון משביע רצון במיוחד.
 עדיין אין לנו שום דוגמא קונקרטית לפונקציה כזו.
 אולי כל הפונקציות שאינן ניתנות לחישוב הן כה מסובכות עד שלא ניתן אפילו 
\series bold
לתאר
\series default
 אותן בצורה משביעת רצון? כפי שנראה זה לא המצב; מכאן ואילך נתעניין בשאלה
 אילו פונקציות שנראות לנו פשוטות יחסית הן עדיין לא ניתנות לחישוב.
\end_layout

\begin_layout Standard
יהיה לנו נוח במיוחד לדבר על תת-קבוצה פשוטה של פונקציות - כאלו שמחזירות רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הקלטים שלהן.
 על פונקציות כאלו אפשר לחשוב כאילו הן אומרות 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

לא
\begin_inset Quotes erd
\end_inset

, ולכן בעצם מגדירות 
\series bold
קבוצה
\series default
 של מילים - הן עונות 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

 על מילים ששייכות לקבוצה, ו
\begin_inset Quotes erd
\end_inset

לא
\begin_inset Quotes erd
\end_inset

 על מילים שאינן שייכות לקבוצה.
 קבוצות כאלו נקראות 
\series bold
שפות
\series default
:
\end_layout

\begin_layout Definition

\series bold
שפה
\series default
 היא תת-קבוצה 
\begin_inset Formula $L\subseteq\Sigma^{*}$
\end_inset

 כלשהי )שיכולה להיות סופית או אינסופית(.
\end_layout

\begin_layout Standard
כדי לפשט את העיסוק בשפות נגדיר סוג מיוחד של מ
\begin_inset Quotes erd
\end_inset

ט: מכונות לזיהוי שפות.
\end_layout

\begin_layout Definition
מכונת טיורינג לזיהוי שפות היא מ
\begin_inset Quotes erd
\end_inset

ט שקבוצת המצבים הסופיים שלה היא 
\begin_inset Formula $F=\left\{ q_{acc},q_{rej}\right\} $
\end_inset

.
\end_layout

\begin_layout Definition
תהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט לזיהוי שפות.
\end_layout

\begin_layout Definition
נאמר ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
מקבלת
\series default
 את הקלט 
\begin_inset Formula $x$
\end_inset

 אם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 במצב 
\begin_inset Formula $q_{acc}$
\end_inset

.
\end_layout

\begin_layout Definition
נאמר ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
דוחה
\series default
 את הקלט 
\begin_inset Formula $x$
\end_inset

 אם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 במצב 
\begin_inset Formula $q_{rej}$
\end_inset

.
\end_layout

\begin_layout Definition
אם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 לא נאמר שהיא דוחה/מקבלת את 
\begin_inset Formula $x$
\end_inset

 אלא נאמר פשוט שהיא 
\series bold
אינה עוצרת
\series default
 על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
מכונות לזיהוי שפות משמשות להגדרה של שפה, אולם כאן נכנסת הבחנה שתהיה קריטית
 להמשך: יש הבדל בין מכונה ש
\series bold
עוצרת לכל קלט
\series default
, ובין מכונה שעל חלק מהקלטים פשוט אינה עוצרת.
 הבחירה השרירותית שאנחנו מבצעים בהגדרה שנציג היא זו: להניח שאם מכונה לא
 עצרה על קלט, הקלט אינו שייך לשפה שהמכונה מגדירה.
\end_layout

\begin_layout Definition
תהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט לזיהוי שפות.
\end_layout

\begin_layout Definition
השפה שהמכונה 
\begin_inset Formula $M$
\end_inset

 
\series bold
מקבלת
\series default
, המסומנת 
\begin_inset Formula $L\left(M\right)$
\end_inset

, היא שפת כל המילים אותן 
\begin_inset Formula $M$
\end_inset

 מקבלת.
 דהיינו 
\begin_inset Formula 
\begin{align*}
L\left(M\right) & \triangleq\left\{ x\in\Sigma^{*}\ |\ M\text{ accepts }x\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
אם בנוסף לכך 
\begin_inset Formula $M$
\end_inset

 עוצרת לכל קלט, נאמר ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
מכריעה
\series default
 את 
\begin_inset Formula $L\left(M\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נציג מספר דוגמאות לשפות שקיימת מ
\begin_inset Quotes erd
\end_inset

ט שמכריעה אותן:
\end_layout

\begin_layout Enumerate
השפה 
\begin_inset Formula $L=\emptyset$
\end_inset

 מוכרעת על ידי המכונה שדוחה כל מילה.
\end_layout

\begin_layout Enumerate
השפה 
\begin_inset Formula $L=\Sigma^{*}$
\end_inset

 מוכרעת על ידי המכונה שמקבלת כל מילה.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $L$
\end_inset

 היא שפה סופית, היא ניתנת להכרעה על ידי מכונת טיורינג שחלק מהקידוד שלה כולל
 את כל המילים של 
\begin_inset Formula $L$
\end_inset

 )למשל, המכונה מתחילה את ריצתה בלכתוב את כל מילות 
\begin_inset Formula $L$
\end_inset

 על הסרט ואז להשוות אותן עם הקלט(.
\end_layout

\begin_layout Enumerate
השפה 
\begin_inset Formula $L=\left\{ 1^{p}\ |\ p\text{ prime}\right\} $
\end_inset

 ניתנת להכרעה על ידי מכונה שעוברת סדרתית על כל המספרים 
\begin_inset Formula $1<k<p$
\end_inset

 ובודקים האם 
\begin_inset Formula $k$
\end_inset

 מחלק את 
\begin_inset Formula $p$
\end_inset

.
 אם כן - עוברת ל-
\begin_inset Formula $q_{rej}$
\end_inset

, ואם לא - בסוף כל הבדיקות עוברת ל-
\begin_inset Formula $q_{acc}$
\end_inset

.
\end_layout

\begin_layout Enumerate
השפה 
\begin_inset Formula $L=\left\{ G\ |\ G\text{ is connected}\right\} $
\end_inset

 של כל הגרפים הלא מכוונים הקשירים ניתנת להכרעה על ידי מכונה שמריצה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על גרף הקלט מצומת שרירותי בו ובודקת האם כל צמתי הגרף היו ישיגים ממנו.
\end_layout

\begin_layout Standard
שתי הדוגמאות האחרונות ממחישות את הגישה שבה ננקוט מעתה למכונות טיורינג -
 נתאר באופן לא פורמלי את האלגוריתם שהן מריצות, תוך התבססות על אלגוריתמים
 מוכרים, ובלי להיכנס לדקויות בסגנון האופן שבו אנו מקודדים גרף - כל פרטי
 המידע הללו אינם רלוונטיים לנו בשלב זה.
\end_layout

\begin_layout Definition
נניח כי 
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
מחלקת השפות 
\begin_inset Formula $L\subseteq\Sigma^{*}$
\end_inset

 אשר קיימת מכונת טיורינג 
\series bold
המכריעה
\series default
 אותן מסומנת ב-
\begin_inset Formula $\text{R}$
\end_inset

.
\end_layout

\begin_layout Itemize
מחלקת השפות 
\begin_inset Formula $L\subseteq\Sigma^{*}$
\end_inset

 אשר קיימת מכונת טיורינג 
\series bold
המקבלת
\series default
 אותן מסומנת ב-
\begin_inset Formula $\text{RE}$
\end_inset

.
\end_layout

\begin_layout Standard
הדרישה 
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} $
\end_inset

 אינה קריטית; אנו נוקטים בה כדי להימנע מהגדרה של 
\begin_inset Formula $\text{R,RE}$
\end_inset

 שתלויה באלפבית 
\begin_inset Formula $\Sigma$
\end_inset

.
\end_layout

\begin_layout Standard
אנו אומרים על שפה ב-
\begin_inset Formula $\text{R}$
\end_inset

 שהיא 
\series bold
כריעה
\series default
 או 
\series bold
רקורסיבית 
\series default
ועל שפה ב-
\begin_inset Formula $\text{RE}$
\end_inset

 שהיא 
\series bold
כריעה למחצה
\series default
 או 
\series bold
ניתנת למניה רקורסיבית
\series default
.
 המילה 
\begin_inset Quotes eld
\end_inset

רקורסיבית
\begin_inset Quotes erd
\end_inset

 כאן אינה במשמעות הרגילה של המונח, אלא היא לקוחה ממאמרו של קורט גדל ונכון
 יותר לפרש אותה בתור 
\begin_inset Quotes eld
\end_inset

ניתנת לחישוב
\begin_inset Quotes erd
\end_inset

.
 המשמעות של 
\begin_inset Quotes eld
\end_inset

מניה רקורסיבית
\begin_inset Quotes erd
\end_inset

 של שפה 
\begin_inset Formula $L$
\end_inset

 היא שקיים אלגוריתם שמייצר סדרתית את כל מילות 
\begin_inset Formula $L$
\end_inset

 )ויכול לרוץ לנצח אם 
\begin_inset Formula $L$
\end_inset

 אינסופית(.
\end_layout

\begin_layout Standard
ראינו כבר מספר שפות אשר שייכות ל-
\begin_inset Formula $\text{R}$
\end_inset

.
 נעמוד כעת על מספר תכונות פשוטות של מחלקת שפות זו.
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{R}\subseteq\text{RE}$
\end_inset

.
\end_layout

\begin_layout Proof
טריוויאלי: על פי הגדרה, כל מכונה אשר 
\series bold
מכריעה
\series default
 שפה 
\begin_inset Formula $L$
\end_inset

 בפרט 
\series bold
מקבלת
\series default
 את 
\begin_inset Formula $L$
\end_inset

.
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{R}$
\end_inset

 סגורה למשלים.
 כלומר אם 
\begin_inset Formula $L\in\text{R}$
\end_inset

, גם 
\begin_inset Formula $\overline{L}=\Sigma^{*}\backslash L$
\end_inset

 מקיימת 
\begin_inset Formula $\overline{L}\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Proof
הרעיון בהוכחה הוא להשתמש במכונה 
\begin_inset Formula $M$
\end_inset

 עבור 
\begin_inset Formula $L$
\end_inset

, אבל להחליף את תפקידי המצבים הסופיים שלה.
 פורמלית, מכיוון ש-
\begin_inset Formula $L\in\text{R}$
\end_inset

 קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

 ו-
\begin_inset Formula $M$
\end_inset

 מכריעה את 
\begin_inset Formula $L$
\end_inset

, ובפרט עוצרת לכל קלט.
\end_layout

\begin_layout Proof
נגדיר כעת מכונה 
\begin_inset Formula $\overline{M}$
\end_inset

 הזהה ל-
\begin_inset Formula $M$
\end_inset

 פרט לכך שכל מעבר אל 
\begin_inset Formula $q_{rej}$
\end_inset

 מוחלף במעבר אל 
\begin_inset Formula $q_{acc}$
\end_inset

, וכל מעבר אל 
\begin_inset Formula $q_{acc}$
\end_inset

 מוחלף במעבר אל 
\begin_inset Formula $q_{rej}$
\end_inset

.
\end_layout

\begin_layout Proof
כעת, 
\begin_inset Formula $x\in\overline{L}$
\end_inset

 אם ורק אם 
\begin_inset Formula $x\notin L$
\end_inset

 אם ורק אם 
\begin_inset Formula $M$
\end_inset

 לא מקבלת את 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $M$
\end_inset

 מכריעה את 
\begin_inset Formula $L$
\end_inset

, העובדה ש-
\begin_inset Formula $M$
\end_inset

 לא מקבלת את 
\begin_inset Formula $x$
\end_inset

 משמעותה ש-
\begin_inset Formula $M$
\end_inset

 בהכרח דוחה את 
\begin_inset Formula $x$
\end_inset

 - היא אינה יכולה פשוט לא לעצור על 
\begin_inset Formula $x$
\end_inset

.
 כלומר, ריצת 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 מסתיימת ב-
\begin_inset Formula $q_{rej}$
\end_inset

 ולכן ריצת 
\begin_inset Formula $\overline{M}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 תסתיים ב-
\begin_inset Formula $q_{acc}$
\end_inset

, כלומר 
\begin_inset Formula $x\in L\left(\overline{M}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
בדומה, אם 
\begin_inset Formula $x\notin\overline{L}$
\end_inset

 נקבל ש-
\begin_inset Formula $M$
\end_inset

 בריצתה על 
\begin_inset Formula $x$
\end_inset

 מסיימת ב-
\begin_inset Formula $q_{acc}$
\end_inset

 ולכן 
\begin_inset Formula $\overline{M}$
\end_inset

 תסיים על 
\begin_inset Formula $q_{rej}$
\end_inset

 ומכאן ש-
\begin_inset Formula $x\notin L\left(\overline{M}\right)$
\end_inset

.
 קיבלנו ש-
\begin_inset Formula $\overline{L}=L\left(\overline{M}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
מדוע ההוכחה לא תעבוד עבור 
\begin_inset Formula $\text{RE}$
\end_inset

? מכיוון שהחלפת מצבים של 
\begin_inset Formula $M$
\end_inset

 כללית לא משפיעה על ההתייחסות של 
\begin_inset Formula $M$
\end_inset

 למילים שעליהן היא אינה עוצרת; גם המכונה ה
\begin_inset Quotes erd
\end_inset

הפוכה
\begin_inset Quotes erd
\end_inset

 עדיין לא תקבל מילים אלו, כך ששפתה לא תהיה שפת המשלים של 
\begin_inset Formula $L\left(M\right)$
\end_inset

 אם קיימים קלטים שעליהם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת.
 זה אינו קושי שניתן לעקוף; בהמשך נראה כי 
\begin_inset Formula $\text{RE}$
\end_inset

 אכן אינה סגורה למשלים.
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{R}$
\end_inset

 סגורה לאיחוד.
 כלומר אם 
\begin_inset Formula $L_{1},L_{2}\in\text{R}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\cup L_{2}\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $M_{1},M_{2}$
\end_inset

 מכונות שמכריעות את 
\begin_inset Formula $L_{1},L_{2}$
\end_inset

 בהתאמה.
 נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שפועלת כך על קלט 
\begin_inset Formula $x$
\end_inset

: ראשית מריצה את 
\begin_inset Formula $M_{1}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 אם 
\begin_inset Formula $M_{1}$
\end_inset

 קיבלה, 
\begin_inset Formula $M$
\end_inset

 מקבלת; אחרת, 
\begin_inset Formula $M$
\end_inset

 מריצה את 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ועונה כמוה.
 קל לראות ש-
\begin_inset Formula $M$
\end_inset

 מקבלת את 
\begin_inset Formula $x$
\end_inset

 אם ורק אם לפחות אחת מהמכונות 
\begin_inset Formula $M_{1},M_{2}$
\end_inset

 מקבלת את 
\begin_inset Formula $x$
\end_inset

 ולכן 
\begin_inset Formula 
\begin{align*}
L\left(M\right) & =L\left(M_{1}\right)\cup L\left(M_{2}\right)=L_{1}\cup L_{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
באופן דומה ניתן להוכיח גם כי 
\begin_inset Formula $\text{R}$
\end_inset

 סגורה לחיתוך )או להשתמש בכללי דה-מורגן והטענות שכבר הוכחנו(:
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{R}$
\end_inset

 סגורה לחיתוך.
\end_layout

\begin_layout Standard
ראינו קודם כי בהגדרת 
\begin_inset Formula $\text{RE}$
\end_inset

 קיימת שרירותיות כלשהי - עבור מילים שעליהן המכונה 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת, קבענו כי 
\begin_inset Formula $M$
\end_inset

 אינה מקבלת אותן.
 איזו מחלקה היינו מקבלים אם היינו נוקטים בגישה ההפוכה? התשובה היא המחלקה
 
\begin_inset Formula $\text{coRE}$
\end_inset

, שניתנת להגדרה גם בלי לשנות את ההגדרות הקיימות.
\end_layout

\begin_layout Definition
המחלקה 
\begin_inset Formula $\text{coRE}$
\end_inset

 מוגדרת בתור 
\begin_inset Formula 
\begin{align*}
\text{coRE} & =\left\{ L\ |\ \overline{L}\in\text{RE}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Claim
\begin_inset Formula $L\in\text{coRE}$
\end_inset

 אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך שלכל קלט 
\begin_inset Formula $x$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $x\notin L$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 במצב 
\begin_inset Formula $q_{rej}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $x\in L$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 במצב 
\begin_inset Formula $q_{acc}$
\end_inset

 או שאינה עוצרת כלל.
\end_layout

\end_deeper
\begin_layout Proof
מכיוון ש-
\begin_inset Formula $L\in\text{coRE}$
\end_inset

 הרי ש-
\begin_inset Formula $\overline{L}\in\text{RE}$
\end_inset

 ולכן קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $\overline{M}$
\end_inset

 כך ש-
\begin_inset Formula $L\left(\overline{M}\right)=\overline{L}$
\end_inset

.
 נבנה 
\begin_inset Formula $M$
\end_inset

 מתוך 
\begin_inset Formula $\overline{M}$
\end_inset

 על ידי החלפת 
\begin_inset Formula $q_{acc},q_{rej}$
\end_inset

; מכונה זו תקיים את התכונה המבוקשת.
\end_layout

\begin_layout Standard
שימו לב כי 
\begin_inset Formula $\text{coRE}$
\end_inset

 
\series bold
אינה
\series default
 המשלימה של 
\begin_inset Formula $\text{RE}$
\end_inset

.
 בהחלט ייתכן שיהיו בה שפות ששייכות גם ל-
\begin_inset Formula $\text{RE}$
\end_inset

, וזה תוכן הטענה הבאה שלנו:
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{RE}\cap\text{coRE}=\text{R}$
\end_inset

.
 כלומר, שפה ששייכת גם ל-
\begin_inset Formula $\text{RE}$
\end_inset

 וגם ל-
\begin_inset Formula $\text{coRE}$
\end_inset

 היא כריעה.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $L\in\text{RE}\cap\text{coRE}$
\end_inset

.
 נבנה מכונה 
\begin_inset Formula $M$
\end_inset

 שמכריעה את 
\begin_inset Formula $L$
\end_inset

.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $M_{1}$
\end_inset

 מכונת ה-
\begin_inset Formula $\text{RE}$
\end_inset

 של 
\begin_inset Formula $L$
\end_inset

 ו-
\begin_inset Formula $M_{2}$
\end_inset

 מכונת ה-
\begin_inset Formula $\text{coRE}$
\end_inset

 של 
\begin_inset Formula $L$
\end_inset

.
 המכונה 
\begin_inset Formula $M$
\end_inset

 שלנו על קלט 
\begin_inset Formula $x$
\end_inset

 תריץ 
\series bold
במקביל
\series default
 את 
\begin_inset Formula $M_{1},M_{2}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 כלומר, היא תבצע צעד חישוב אחד של 
\begin_inset Formula $M_{1}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

, ואז צעד חישוב אחד של 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 וחוזר חלילה.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $x\in L$
\end_inset

 אז אחרי מספר סופי של צעדי חישוב 
\begin_inset Formula $M_{1}$
\end_inset

 תקבל את 
\begin_inset Formula $x$
\end_inset

 ואם 
\begin_inset Formula $x\notin L$
\end_inset

 אז אחרי מספר סופי של צעדי חישוב 
\begin_inset Formula $M_{2}$
\end_inset

 תדחה את 
\begin_inset Formula $x$
\end_inset

.
 בכל אחד מהמקרים הללו, 
\begin_inset Formula $M$
\end_inset

 תעצור ותענה כמו המכונה שענתה.
 קיבלנו ש-
\begin_inset Formula $M$
\end_inset

 עוצרת תמיד, ומקבלת מילה אם ורק אם המילה ב-
\begin_inset Formula $L$
\end_inset

, כך ש-
\begin_inset Formula $M$
\end_inset

 מכריעה את 
\begin_inset Formula $L$
\end_inset

 כמבוקש.
\end_layout

\begin_layout Standard
נעבור כעת להצגת דוגמאות לשפות השייכות ל-
\begin_inset Formula $\text{RE}$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\text{R}\subseteq\text{RE}$
\end_inset

 הרי שכל שפה שהיא ב-
\begin_inset Formula $\text{R}$
\end_inset

 היא דוגמא כזו; כאן נתעניין בדוגמאות שעליהן נראה בהמשך שאינן שייכות ל-
\begin_inset Formula $\text{R}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
שפת 
\series bold
בעיית העצירה
\series default
:
\end_layout

\begin_layout Standard
נתבונן בשפת הזוגות של מכונה וקלט, כך שהמכונה עוצרת על הקלט:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{HP} & =\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ M\text{ halts on }x\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Claim
\begin_inset Formula $\text{HP}\in\text{RE}$
\end_inset


\end_layout

\begin_layout Proof
מכונה 
\begin_inset Formula $M_{HP}$
\end_inset

 שמקבלת את 
\begin_inset Formula $\text{HP}$
\end_inset

 תפעל כך: על קלט 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)$
\end_inset

 תריץ את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 אם 
\begin_inset Formula $M$
\end_inset

 סיימה את ריצתה, 
\begin_inset Formula $M_{HP}$
\end_inset

 תעצור ותקבל.
 אם 
\begin_inset Formula $M$
\end_inset

 אינה מסיימת את ריצתה, מן הסתם גם 
\begin_inset Formula $M_{HP}$
\end_inset

 לא תעצור בשום שלב.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת מתישהו על 
\begin_inset Formula $x$
\end_inset

 ולכן 
\begin_inset Formula $M_{HP}$
\end_inset

 בריצתה על קלט זה תעצור ותקבל, ולכן 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in L\left(M_{HP}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 ולכן 
\begin_inset Formula $M_{HP}$
\end_inset

 בריצתה על קלט זה לא תעצור ולכן הוא לא ייכלל בשפתה, כלומר 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin L\left(M_{HP}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
קיבלנו ש-
\begin_inset Formula $L\left(M_{HP}\right)=\text{HP}$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Standard
ההוכחה לעיל פשוטה למדי, אבל מכיוון שנשתמש בטכניקה זו של 
\begin_inset Quotes eld
\end_inset

להריץ מכונה ולעשות משהו אם הוא סיימה, אחרת גם אנחנו רצים לנצח
\begin_inset Quotes erd
\end_inset

 שוב ושוב הדגמנו אותה כאן בפירוט.
 כזכור, פשטות ההוכחה נובעת מההשקעה שנדרשה בהוכחת קיום מכונה אוניברסלית שמאפשרת
 
\begin_inset Quotes eld
\end_inset

להריץ
\begin_inset Quotes erd
\end_inset

 מכונות שנתונות כקלט.
\end_layout

\begin_layout Paragraph*
השפה האוניברסלית 
\begin_inset Formula $L_{u}$
\end_inset

:
\end_layout

\begin_layout Standard
נתבונן בשפה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L_{u} & =\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ M\text{ accepts }x\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
שפה זו דומה מאוד ל-
\begin_inset Formula $\text{HP}$
\end_inset

 פרט לכך שאם מריצים את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

, בסיום ריצת 
\begin_inset Formula $M$
\end_inset

 יש לוודא שהיא נכנסה ל-
\begin_inset Formula $q_{acc}$
\end_inset

 ולא ל-
\begin_inset Formula $q_{rej}$
\end_inset

.
 מכאן נקבל:
\end_layout

\begin_layout Claim
\begin_inset Formula $L_{u}\in\text{RE}$
\end_inset


\end_layout

\begin_layout Paragraph*
שפת האלכסון 
\begin_inset Formula $L_{D}$
\end_inset


\end_layout

\begin_layout Standard
נתבונן בשפה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L_{D}= & \left\{ \left\langle M\right\rangle \ |\ M\text{ accepts }\left\langle M\right\rangle \right\} =\left\{ \left\langle M\right\rangle \ |\ \left\langle M\right\rangle \in L\left(M\right)\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
שפה זו היא מעין מקרה פרטי של 
\begin_inset Formula $L_{u}$
\end_inset

, כאשר במקום שני קלטים, הקלט השני 
\begin_inset Formula $x$
\end_inset

 הוא במובלע זהה לקלט הראשון.
 הסיבה לעניין שלנו בשפה הזו הוא בהפניה העצמית שנמצאת בהגדרתה, שפותחת לנו
 פתח להוכחה ששפה היא לא כריעה.
\end_layout

\begin_layout Standard
נשים לב לכך ש-
\begin_inset Formula $\overline{L_{D}}=\left\{ \left\langle M\right\rangle \ |\ \left\langle M\right\rangle \notin L\left(M\right)\right\} $
\end_inset

 )כזכור, בגישה שלנו כל מחרוזת מהווה קידוד חוקי של מ
\begin_inset Quotes erd
\end_inset

ט - אולי של 
\begin_inset Formula $M_{stam}$
\end_inset

 שלא עוצרת על אף קלט - ולכן ניתן לקחת כך משלים של שפת קידודי מכונות ולקבל
 שפה של קידודי מכונות(.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\overline{L_{D}}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Proof
נניח כי קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M\right)=\overline{L_{D}}$
\end_inset

.
 נשאלת השאלה - האם 
\begin_inset Formula $\left\langle M\right\rangle \in L\left(M\right)$
\end_inset

 או לא?
\end_layout

\begin_deeper
\begin_layout Itemize
נניח כי 
\begin_inset Formula $\left\langle M\right\rangle \in L\left(M\right)$
\end_inset

.
 אז על פי הגדרת השפה 
\begin_inset Formula $L_{D}$
\end_inset

 נובע ש-
\begin_inset Formula $\left\langle M\right\rangle \in L_{D}$
\end_inset

.
 מכאן על פי הגדרת משלים ש-
\begin_inset Formula $\left\langle M\right\rangle \notin\overline{L_{D}}$
\end_inset

, אבל מכיוון ש-
\begin_inset Formula $\overline{L_{D}}=L\left(M\right)$
\end_inset

 קיבלנו ש-
\begin_inset Formula $\left\langle M\right\rangle \notin L\left(M\right)$
\end_inset

 - סתירה להנחה ממנה התחלנו.
\end_layout

\begin_layout Itemize
נניח כי 
\begin_inset Formula $\left\langle M\right\rangle \notin L\left(M\right)$
\end_inset

.
 אז על פי הגדרת השפה 
\begin_inset Formula $\overline{L_{D}}$
\end_inset

 , 
\begin_inset Formula $\left\langle M\right\rangle \in\overline{L_{D}}$
\end_inset

.
 אבל מכיוון ש-
\begin_inset Formula $\overline{L_{D}}=L\left(M\right)$
\end_inset

 נקבל ש-
\begin_inset Formula $\left\langle M\right\rangle \in L\left(M\right)$
\end_inset

, בסתירה להנחה ממנה התחלנו.
\end_layout

\end_deeper
\begin_layout Proof
מכיוון שבכל אחד משני המקרים האפשריים הגענו לסתירה, הרי שעצם ההנחה שקיימת
 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M\right)=\overline{L_{D}}$
\end_inset

 מובילה לסתירה.
 מכאן שלא קיימת 
\begin_inset Formula $M$
\end_inset

 כזו, ולכן 
\begin_inset Formula $\overline{L_{D}}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Standard
ההוכחה לעיל דומה מאוד באופייה אל 
\series bold
הפרדוקס של ראסל
\series default
, שעוסק בקבוצת כל הקבוצות שאינן איבר של עצמן, ומראה שקבוצה כזו תהיה חייבת
 להיות בו זמנית איבר של עצמה ולא איבר של עצמה, ולכן אינה יכולה להתקיים.
 כך גם במקרה הנוכחי - מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שמקבלת את 
\begin_inset Formula $\overline{L_{D}}$
\end_inset

 תהיה חייבת לענות בו זמנית 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

לא
\begin_inset Quotes erd
\end_inset

 על 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ולכן אינה יכולה להתקיים.
\end_layout

\begin_layout Corollary
\begin_inset Formula $L_{D}\notin\text{R}$
\end_inset


\end_layout

\begin_layout Proof
אם היה מתקיים 
\begin_inset Formula $L_{D}\in\text{R}$
\end_inset

 אז מסגירות 
\begin_inset Formula $\text{R}$
\end_inset

 למשלים היינו מקבלים 
\begin_inset Formula $\overline{L_{D}}\in\text{R}\subseteq\text{RE}$
\end_inset

, בסתירה לכך ש-
\begin_inset Formula $\overline{L_{D}}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Subsection
רדוקציות
\end_layout

\begin_layout Subsubsection
הגדרה
\end_layout

\begin_layout Standard
נזכיר את השפה 
\begin_inset Formula $L_{u}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L_{u} & =\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ M\text{ accepts }x\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אמרנו כי 
\begin_inset Formula $L_{D}$
\end_inset

 היא מעין 
\begin_inset Quotes eld
\end_inset

מקרה פרטי
\begin_inset Quotes erd
\end_inset

 של 
\begin_inset Formula $L_{u}$
\end_inset

, ולכן אם 
\begin_inset Formula $L_{D}\notin\text{R}$
\end_inset

 ניתן לצפות לכך שיתקיים גם 
\begin_inset Formula $L_{u}\notin\text{R}$
\end_inset

.
 כיצד נראה זאת פורמלית?
\end_layout

\begin_layout Standard
טיעון אפשרי לדוגמא הוא זה: נניח כי קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{u}$
\end_inset

 אשר מכריעה את 
\begin_inset Formula $L_{u}$
\end_inset

.
 נבנה מכונה 
\begin_inset Formula $M_{D}$
\end_inset

 שתכריע את 
\begin_inset Formula $L_{D}$
\end_inset

 באופן הבא: על קלט 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, המכונה 
\begin_inset Formula $M_{D}$
\end_inset

 תריץ את 
\begin_inset Formula $M_{u}$
\end_inset

 על הקלט 
\begin_inset Formula $\left(\text{\left\langle M\right\rangle ,}\left\langle M\right\rangle \right)$
\end_inset

 ותענה כמוה.
 אם 
\begin_inset Formula $M_{u}$
\end_inset

 קיבלה את הקלט, המשמעות היא ש-
\begin_inset Formula $M$
\end_inset

 מקבלת את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ולכן 
\begin_inset Formula $\left\langle M\right\rangle \in L_{D}$
\end_inset

; אם לעומת זאת 
\begin_inset Formula $M_{u}$
\end_inset

 דחתה את הקלט המשמעות היא ש-
\begin_inset Formula $M$
\end_inset

 אינה מקבלת את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ולכן 
\begin_inset Formula $\left\langle M\right\rangle \notin L_{D}$
\end_inset

.
 קיבלנו ש-
\begin_inset Formula $M_{D}$
\end_inset

 אכן עוצרת לכל קלט עם התשובה הנכונה, מה שמוכיח ש-
\begin_inset Formula $M_{D}$
\end_inset

 מכריעה את 
\begin_inset Formula $L_{D}$
\end_inset

 ולכן 
\begin_inset Formula $L_{D}\in\text{R}$
\end_inset

.
 מכיוון שאנו יודעים שדבר זה אינו נכון, גם ההנחה ש-
\begin_inset Formula $L_{u}\in\text{R}$
\end_inset

 היא שגויה.
\end_layout

\begin_layout Standard
נעקוב אחרי המהלך הלוגי שביצענו כאן:
\end_layout

\begin_layout Itemize
הנחנו ש-
\begin_inset Formula $L_{u}$
\end_inset

 כריעה.
\end_layout

\begin_layout Itemize
לקחנו קלט שאנו רוצים לבדוק את שייכותו ל-
\begin_inset Formula $L_{D}$
\end_inset


\end_layout

\begin_layout Itemize

\series bold
המרנו
\series default
 את הקלט הזה לקלט שאנחנו רוצים לבדוק את שייכותו ל-
\begin_inset Formula $L_{u}$
\end_inset


\end_layout

\begin_layout Itemize
ענינו על הקלט המקורי את אותה תשובה שהמכונה עבור 
\begin_inset Formula $L_{u}$
\end_inset

 עונה על הקלט החדש
\end_layout

\begin_layout Standard
התהליך הזה, שבו ממירים קלט לבעיה א' בקלט לבעיה ב' כך שהתשובה עבור ב' זהה
 לתשובה שאמורה להתקבל עבור א', מכונה 
\series bold
רדוקציה
\series default
 והוא הכלי המרכזי שלנו בהוכחה שבעיות הן בלתי כריעות.
\end_layout

\begin_layout Definition
יהיו 
\begin_inset Formula $L_{1},L_{2}\subseteq\Sigma^{*}$
\end_inset

 שפות כלשהן.
 
\series bold
רדוקציה
\series default
 מ-
\begin_inset Formula $L_{1}$
\end_inset

 אל 
\begin_inset Formula $L_{2}$
\end_inset

 היא פונקציה 
\series bold
מלאה
\series default
 
\series bold
וניתנת לחישוב
\series default
 
\begin_inset Formula $f:\Sigma^{*}\to\Sigma^{*}$
\end_inset

 המקיימת
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
x\in L_{1} & \iff f\left(x\right)\in L_{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
אם קיימת רדוקציה מ-
\begin_inset Formula $L_{1}$
\end_inset

 אל 
\begin_inset Formula $L_{2}$
\end_inset

 מסמנים זאת 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

.
\end_layout

\begin_layout Standard
נדגיש מספר נקודות מבלבלות הנוגעות לרדוקציות:
\end_layout

\begin_layout Itemize
רדוקציה 
\series bold
אינה
\series default
 פונקציה 
\begin_inset Formula $f:L_{1}\to L_{2}$
\end_inset

; היא מוגדרת 
\series bold
לכל מילה
\series default
 ב-
\begin_inset Formula $\Sigma^{*}$
\end_inset

, כולל אלו שאינן ב-
\begin_inset Formula $L_{1}$
\end_inset

 )כלומר, היא פונקציה 
\series bold
מלאה
\series default
(.
 האינטואיציה היא שאנחנו משתמשים ברדוקציות בדיוק כדי לבדוק האם מילה 
\begin_inset Formula $x$
\end_inset

 שייכת ל-
\begin_inset Formula $L_{1}$
\end_inset

 או לא, על ידי המרה של בדיקה זו בבדיקה האם 
\begin_inset Formula $f\left(x\right)$
\end_inset

 שייכת ל-
\begin_inset Formula $L_{2}$
\end_inset

.
\end_layout

\begin_layout Itemize
רדוקציה אינה חייבת להיות חד-חד-ערכית או על; נראה דוגמאות מפורשות לכך בהמשך.
\end_layout

\begin_layout Itemize
הדרישה לכך ש-
\begin_inset Formula $f$
\end_inset

 תהיה ניתנת לחישוב היא קריטית; בלעדיה, קיימת רדוקציה כמעט בין כל זוג שפות
 אפשרי.
\end_layout

\begin_layout Subsubsection
דוגמאות
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Standard
ראינו כבר בצורה לא פורמלית רדוקציה 
\begin_inset Formula $L_{D}\le L_{u}$
\end_inset

; פורמלית, הרדוקציה מוגדרת באמצעות הפונקציה 
\begin_inset Formula $f\left(\left\langle M\right\rangle \right)=\left(\left\langle M\right\rangle ,\left\langle M\right\rangle \right)$
\end_inset

 שהיא בוודאי ניתנת לחישוב כי בסך הכל מתבצע בה שכפול של הקלט.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\end_layout

\begin_layout Standard
נזכיר את השפה 
\begin_inset Formula $\text{HP}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{HP} & =\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ M\text{ halts on }x\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
נראה רדוקציה 
\begin_inset Formula $\text{HP}\le L_{u}$
\end_inset

.
 הרדוקציה תוגדר כך: 
\begin_inset Formula $f\left(\left\langle M\right\rangle ,x\right)=\left(\left\langle M^{\prime}\right\rangle ,x\right)$
\end_inset

 כך ש-
\begin_inset Formula $M^{\prime}$
\end_inset

 זהה ל-
\begin_inset Formula $M$
\end_inset

 למעט שינוי כל מעבר שמוביל אל 
\begin_inset Formula $q_{rej}$
\end_inset

 למעבר שמוביל אל 
\begin_inset Formula $q_{acc}$
\end_inset

.
 שינוי כזה הוא 
\series bold
ניתן לחישוב
\series default
 - פשוט עוברים על הקידוד של 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ומשנים את המקומות המתאימים )שינוי כזה יכונה 
\begin_inset Quotes eld
\end_inset

פעולת קומפילציה פשוטה
\begin_inset Quotes erd
\end_inset

 על ידינו בהמשך(.
\end_layout

\begin_layout Standard
נראה את נכונות הרדוקציה:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 )במצב 
\begin_inset Formula $q_{acc}$
\end_inset

 או במצב 
\begin_inset Formula $q_{rej}$
\end_inset

(.
 מכאן ש-
\begin_inset Formula $M^{\prime}$
\end_inset

 עוצרת גם היא על 
\begin_inset Formula $x$
\end_inset

, אבל היא יכולה לעצור רק במצב 
\begin_inset Formula $q_{acc}$
\end_inset

 ולכן 
\begin_inset Formula $M^{\prime}$
\end_inset

 מקבלת את 
\begin_inset Formula $x$
\end_inset

, כך ש-
\begin_inset Formula $\left(\left\langle M^{\prime}\right\rangle ,x\right)\in L_{u}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 ולכן גם 
\begin_inset Formula $M^{\prime}$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 ובפרט אינה מקבלת אותו, כך ש-
\begin_inset Formula $\left(\left\langle M^{\prime}\right\rangle ,x\right)\notin L_{u}$
\end_inset

.
\end_layout

\begin_layout Standard
נראה כעת רדוקציה 
\series bold
בכיוון השני
\series default
, 
\begin_inset Formula $L_{u}\le\text{HP}$
\end_inset

.
 הרדוקציה תוגדר כך: 
\begin_inset Formula $f\left(\left\langle M\right\rangle ,x\right)=\left(\left\langle M^{\prime}\right\rangle ,x\right)$
\end_inset

 כך ש-
\begin_inset Formula $M^{\prime}$
\end_inset

 זהה ל-
\begin_inset Formula $M$
\end_inset

 למעט העובדה שבמקום מעבר אל 
\begin_inset Formula $q_{rej}$
\end_inset

, המכונה עוברת אל מצב של לולאה אינסופית )מצב שבו המכונה לא משנה כלום ונשארת
 באותו מצב(.
 כלומר, 
\begin_inset Formula $M^{\prime}$
\end_inset

 עוצרת על קלט אם ורק אם 
\begin_inset Formula $M$
\end_inset

 מקבלת אותו, מה שמראה את נכונות הרדוקציה.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\end_layout

\begin_layout Standard
לכל שפה 
\begin_inset Formula $L\in\text{R}$
\end_inset

 קיימת רדוקציה אל 
\begin_inset Formula $\text{HP}$
\end_inset

: תהא 
\begin_inset Formula $M_{1}$
\end_inset

 מכונה שעוצרת על כל קלט ו-
\begin_inset Formula $M_{2}$
\end_inset

 מכונה שאינה עוצרת על אף קלט, אז הרדוקציה 
\begin_inset Formula $L\le\text{HP}$
\end_inset

 שלנו תפעל באופן הבא: עבור קלט 
\begin_inset Formula $x$
\end_inset

, ראשית המכונה שמחשבת את פונקציית הרדוקציה תפעיל את המכונה שמכריעה את 
\begin_inset Formula $L$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ותבדוק מה תשובתה.
 אם 
\begin_inset Formula $x\in L$
\end_inset

 אז המכונה תחזיר 
\begin_inset Formula $\left(\left\langle M_{1}\right\rangle ,\varepsilon\right)$
\end_inset

 ואילו גם 
\begin_inset Formula $x\notin L$
\end_inset

 אז היא תחזיר 
\begin_inset Formula $\left(\left\langle M_{2}\right\rangle ,\varepsilon\right)$
\end_inset

.
\end_layout

\begin_layout Standard
קל לבדוק את נכונות הרדוקציה; החלק הלא טריוויאלי בבניה הוא אופן חישוב פונקציית
 הרדוקציה עצמה, שלא כולל שינוי קל בקלט אלא ביצוע חישוב מורכב עליו )בדיקת
 שייכות ל-
\begin_inset Formula $L$
\end_inset

( והחזרת אחת משתי תשובות מוכנות מראש בהתאם לתוצאה.
\end_layout

\begin_layout Standard
נשים לב לכך שאין ל-
\begin_inset Formula $\text{HP}$
\end_inset

 חשיבות גדולה בהקשר זה.
 כל שפה 
\begin_inset Formula $L^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $L^{\prime}\ne\emptyset,\Sigma^{*}$
\end_inset

 תעבוד, כי עבור כל שפה כזו קיימות מילים 
\begin_inset Formula $a,b$
\end_inset

 כך ש-
\begin_inset Formula $a\in L^{\prime}$
\end_inset

 ו-
\begin_inset Formula $b\notin L^{\prime}$
\end_inset

 והרדוקציה שתיארנו לעיל תעבוד, עם החזרת 
\begin_inset Formula $a$
\end_inset

 במקרה הראשון ו-
\begin_inset Formula $b$
\end_inset

 במקרה השני.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\end_layout

\begin_layout Standard
כל שפה 
\begin_inset Formula $L$
\end_inset

 ניתנת לרדוקציה לעצמה, 
\begin_inset Formula $L\le L$
\end_inset

, על ידי הפונקציה 
\begin_inset Formula $f\left(x\right)=x$
\end_inset

.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 וגם 
\begin_inset Formula $L_{2}\le L_{3}$
\end_inset

 אז נובע מכך ש-
\begin_inset Formula $L_{1}\le L_{3}$
\end_inset

.
 נוכיח זאת: תהא 
\begin_inset Formula $f$
\end_inset

 הרדוקציה 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 ו-
\begin_inset Formula $g$
\end_inset

 הרדוקציה 
\begin_inset Formula $L_{2}\le L_{3}$
\end_inset

, אז ההרכבה 
\begin_inset Formula $gf$
\end_inset

 היא רדוקציה 
\begin_inset Formula $L_{1}\le L_{3}$
\end_inset

:
\end_layout

\begin_layout Standard
ראשית, 
\begin_inset Formula $gf$
\end_inset

 ניתנת לחישוב על ידי מכונה שראשית מפעילה את המכונה של 
\begin_inset Formula $f$
\end_inset

 על הקלט, ואז מפעילה את המכונה של 
\begin_inset Formula $g$
\end_inset

 על הפלט של 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Standard
שנית, 
\begin_inset Formula $x\in L_{1}$
\end_inset

 אם ורק אם 
\begin_inset Formula $f\left(x\right)\in L_{2}$
\end_inset

 אם ורק אם 
\begin_inset Formula $g\left(f\left(x\right)\right)\in L_{3}$
\end_inset

, כנדרש.
\end_layout

\begin_layout Standard
התכונה 
\begin_inset Formula $L\le L$
\end_inset

 נקראת 
\series bold
רפלקסיביות
\series default
 והתכונה 
\begin_inset Formula $L_{1}\le L_{3}\Leftarrow L_{1}\le L_{2}\wedge L_{2}\le L_{3}$
\end_inset

 נקראת 
\series bold
טרנזיטיביות
\series default
.
 שתי תכונות אלו מאפיינות גם את יחס הסדר הרגיל של מספרים 
\begin_inset Formula $\le$
\end_inset

, ומכאן השימוש בסימן 
\begin_inset Formula $\le$
\end_inset

 שנפוץ במתמטיקה לתיאור יחסי סדר באופן כללי.
 עם זאת, קיים הבדל מהותי אחד: במספרים רגילים, 
\begin_inset Formula $a\le b$
\end_inset

 וגם 
\begin_inset Formula $b\le a$
\end_inset

 גורר 
\begin_inset Formula $a=b$
\end_inset

; תכונה זו נקראת 
\series bold
אנטי-סימטריה
\series default
.
 תכונה זו 
\series bold
אינה
\series default
 מתקיימת עבור רדוקציות.
 למשל, ראינו כבר כי 
\begin_inset Formula $\text{HP}\le L_{u}$
\end_inset

 וגם 
\begin_inset Formula $L_{u}\le\text{HP}$
\end_inset

 אבל אלו שפות שונות )במתמטיקה, יחס רפלקסיבי וטרנזיטיבי נקרא 
\series bold
קדם-סדר
\series default
(.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 אז גם 
\begin_inset Formula $\overline{L_{1}}\le\overline{L_{2}}$
\end_inset

.
\end_layout

\begin_layout Standard
אותה רדוקציה בדיוק שמראה את 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 תראה גם את 
\begin_inset Formula $\overline{L_{1}}\le\overline{L_{2}}$
\end_inset

.
 זאת משום ש:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
x & \in\overline{L_{1}}\iff x\notin L_{1}\iff f\left(x\right)\notin L_{2}\iff f\left(x\right)\in\overline{L_{2}}
\end{align*}

\end_inset


\end_layout

\begin_layout Subsubsection
משפט הרדוקציה
\end_layout

\begin_layout Standard
הצגנו רדוקציות בתור אמצעי להכריע שפה אחת במקרה שבו אנחנו כבר יודעים להכריע
 שפה אחרת.
 ננסח זאת פורמלית:
\end_layout

\begin_layout Theorem
תהיינה 
\begin_inset Formula $L_{1},L_{2}$
\end_inset

 שפות כך ש-
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $L_{2}\in\text{R}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $L_{2}\in\text{RE}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\in\text{RE}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
תהא 
\begin_inset Formula $M$
\end_inset

 המכונה שמחשבת את הרדוקציה 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 ותהא 
\begin_inset Formula $M_{2}$
\end_inset

 מכונה שמכריעה/מקבלת את 
\begin_inset Formula $L_{2}$
\end_inset

.
 נבנה מכונה 
\begin_inset Formula $M_{1}$
\end_inset

 שמכריעה/מקבלת את 
\begin_inset Formula $L_{1}$
\end_inset

: 
\begin_inset Formula $M_{1}$
\end_inset

 על קלט 
\begin_inset Formula $x$
\end_inset

 תפעיל את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

, תקבל פלט 
\begin_inset Formula $y$
\end_inset

 תפעיל את 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $y$
\end_inset

 ואם 
\begin_inset Formula $M_{2}$
\end_inset

 עצרה, תענה כמוה.
\end_layout

\begin_layout Proof
\begin_inset Formula $x\in L_{1}$
\end_inset

 אם ורק אם 
\begin_inset Formula $M\left(x\right)\in L_{2}$
\end_inset

 )על פי הגדרת רדוקציה(, אם ורק אם 
\begin_inset Formula $M_{2}$
\end_inset

 מקבלת את 
\begin_inset Formula $M\left(x\right)$
\end_inset

 )על פי הגדרת שפה של מ
\begin_inset Quotes erd
\end_inset

ט(, ולכן 
\begin_inset Formula $L\left(M_{1}\right)=L_{1}$
\end_inset

.
 בנוסף לכך, אם 
\begin_inset Formula $M_{2}$
\end_inset

 עוצרת לכל קלט, אז גם 
\begin_inset Formula $M$
\end_inset

 עוצרת לכל קלט )כי החישוב של 
\begin_inset Formula $M$
\end_inset

 מסתיים לכל קלט, והחישוב של 
\begin_inset Formula $M_{2}$
\end_inset

 מסתיים לכל קלט( ולכן במקרה זה 
\begin_inset Formula $M_{1}$
\end_inset

 מכריעה את 
\begin_inset Formula $L_{1}$
\end_inset

.
\end_layout

\begin_layout Standard
אנו בדרך כלל משתמשים במשפט הרדוקציה דווקא כדי להראות ששפה 
\series bold
איננה
\series default
 ב-
\begin_inset Formula $\text{R}$
\end_inset

 או ב-
\begin_inset Formula $\text{RE}$
\end_inset

 על ידי לקיחת ניסוח שקול של משפט הרדוקציה:
\end_layout

\begin_layout Theorem
תהיינה 
\begin_inset Formula $L_{1},L_{2}$
\end_inset

 שפות כך ש-
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $L_{1}\notin\text{R}$
\end_inset

 אז 
\begin_inset Formula $L_{2}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $L_{1}\notin\text{RE}$
\end_inset

 אז 
\begin_inset Formula $L_{2}\notin\text{RE}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
השימושיות של רדוקציות היא גדולה מאוד, אבל קל להתבלבל ולבצע רדוקציה 
\begin_inset Quotes eld
\end_inset

בכיוון הלא נכון
\begin_inset Quotes erd
\end_inset

 כשרוצים להוכיח ששפה איננה כריעה.
 כלל האצבע שיש לזכור הוא: אם רוצים להראות ששפה אינה כריעה, צריך לבצע רדוקציה
 
\series bold
אליה
\series default
 משפה שכבר ידוע שאינה כריעה - להראות שהשפה שלנו קשה 
\series bold
יותר
\series default
 מאשר השפה שכבר מוכרת.
\end_layout

\begin_layout Standard
למרות שאנו על פי רוב מתעניינים פחות ב-
\lang english
coRE
\lang hebrew
, משפט הרדוקציה מאפשר לנו להוכיח אי שייכות אליה באותה המידה:
\end_layout

\begin_layout Claim
תהיינה 
\begin_inset Formula $L_{1},L_{2}$
\end_inset

 שפות כך ש-
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

.
 אם 
\begin_inset Formula $L_{1}\notin\text{coRE}$
\end_inset

 אז 
\begin_inset Formula $L_{2}\notin\text{coRE}$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $L_{1}\notin\text{coRE}$
\end_inset

 אז 
\begin_inset Formula $\overline{L_{1}}\notin\text{RE}$
\end_inset

.
 הרדוקציה 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 מראה ש-
\begin_inset Formula $\overline{L_{1}}\le\overline{L_{2}}$
\end_inset

, כך שניתן להסיק ש-
\begin_inset Formula $\overline{L_{2}}\notin\text{RE}$
\end_inset

 ומכאן ש-
\begin_inset Formula $L_{2}\notin\text{coRE}$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור למספר דוגמאות.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Standard
ראינו כבר כי 
\begin_inset Formula $\overline{L_{D}}\notin\text{RE}$
\end_inset

 וכי 
\begin_inset Formula $L_{D}\le L_{u}$
\end_inset

.
 מכאן נסיק כי 
\begin_inset Formula $\overline{L_{D}}\le\overline{L_{u}}$
\end_inset

 ולכן 
\begin_inset Formula $\overline{L_{u}}\notin\text{RE}$
\end_inset

, בנוסף לכך ש-
\begin_inset Formula $L_{u}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
בדומה, 
\begin_inset Formula $L_{u}\le\text{HP}$
\end_inset

 מאפשר לנו להסיק כי 
\begin_inset Formula $\text{HP}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
מכיוון ש-
\begin_inset Formula $\text{HP}\notin\text{R}$
\end_inset

 אבל 
\begin_inset Formula $\text{HP}\in\text{RE}$
\end_inset

 נוכל להסיק כי 
\begin_inset Formula $\overline{\text{HP}}\notin\text{RE}$
\end_inset

: שכן אם היה מתקיים 
\begin_inset Formula $\overline{\text{HP}}\in\text{RE}$
\end_inset

 היינו מקבלים 
\begin_inset Formula $\text{HP}\in\text{coRE}$
\end_inset

 ולכן 
\begin_inset Formula $\text{HP}\in\text{RE}\cap\text{coRE}=\text{R}$
\end_inset

, בסתירה לכך ש-
\begin_inset Formula $\text{HP}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב כי 
\begin_inset Formula $\overline{\text{HP}}$
\end_inset

 הוגדרה בתור המשלימה של 
\begin_inset Formula $\text{HP}$
\end_inset

, ולכן היא כוללת שני סוגי איברים: זוגות 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)$
\end_inset

 כך ש-
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

; ומחרוזות 
\begin_inset Formula $w$
\end_inset

 שאינן קידוד חוקי כלל של מכונה וקלט.
 כדי לפשט את הסימונים שלנו נניח כי מחרוזות כאלו מקודדות את הזוג 
\begin_inset Formula $\left(\left\langle M_{stam}\right\rangle ,\varepsilon\right)$
\end_inset

 של המכונה שאינה עוצרת על אף קלט ושל המילה הריקה.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\end_layout

\begin_layout Standard
נתבונן בשפה 
\begin_inset Formula $L_{\varepsilon}=\left\{ \left\langle M\right\rangle \ |\ \varepsilon\in L\left(M\right)\right\} $
\end_inset

 של כל המכונות אשר מקבלות את המילה הריקה.
\end_layout

\begin_layout Standard
בבירור שפה זו שייכת ל-
\begin_inset Formula $\text{RE}$
\end_inset

; בהינתן 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 ניתן פשוט להריץ אותה על 
\begin_inset Formula $\varepsilon$
\end_inset

 ולקבל אם ורק אם 
\begin_inset Formula $M$
\end_inset

 קיבלה.
\end_layout

\begin_layout Standard
עם זאת, השפה אינה שייכת ל-
\begin_inset Formula $\text{R}$
\end_inset

 ונראה זאת באמצעות רדוקציה 
\begin_inset Formula $\text{HP}\le L_{\varepsilon}$
\end_inset

.
\end_layout

\begin_layout Standard
הרדוקציה תוגדר כך: 
\begin_inset Formula $f\left(\left\langle M\right\rangle ,x\right)=\left\langle M_{x}\right\rangle $
\end_inset

 כך ש-
\begin_inset Formula $M_{x}$
\end_inset

 היא מכונה שעל קלט 
\begin_inset Formula $w$
\end_inset

:
\end_layout

\begin_layout Itemize
מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 עצרה, מקבלת.
\end_layout

\begin_layout Standard
כלומר, האופן שבו 
\begin_inset Formula $M_{x}$
\end_inset

 פועלת אינו תלוי כלל בקלט שלה; היא כוללת בתוכה את 
\begin_inset Formula $M,x$
\end_inset

 ומתעניינת רק בתוצאה של הרצת 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 בשל כך, יש שתי דרכים אפשריות שבהן 
\begin_inset Formula $M_{x}$
\end_inset

 עשויה לפעול:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

, אז 
\begin_inset Formula $M_{x}$
\end_inset

 תקבל כל קלט.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 אז 
\begin_inset Formula $M_{x}$
\end_inset

 לא תעצור על אף קלט.
\end_layout

\begin_layout Standard
בפרט, 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 אם ורק אם 
\begin_inset Formula $\varepsilon\in L\left(M_{x}\right)$
\end_inset

, מה שמוכיח את תקפות הרדוקציה ולכן, מכיוון ש-
\begin_inset Formula $\text{HP}\notin\text{R}$
\end_inset

, מראה ש-
\begin_inset Formula $L_{\varepsilon}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\end_layout

\begin_layout Standard
נתבונן בשפה 
\begin_inset Formula $L_{EQ}=\left\{ \left(\left\langle M_{1}\right\rangle ,\left\langle M_{2}\right\rangle \right)\ |\ L\left(M_{1}\right)=L\left(M_{2}\right)\right\} $
\end_inset

 של זוגות של מכונות בעלות אותה שפה.
 קל להציג רדוקציה מ-
\begin_inset Formula $\text{HP}$
\end_inset

 לשפה זו, תוך שימוש באבחנה שראינו קודם - שאם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

, אז 
\begin_inset Formula $M_{x}$
\end_inset

 מקבלת כל קלט.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $M_{\Sigma^{*}}$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט שעוברת מייד ל-
\begin_inset Formula $q_{acc}$
\end_inset

 על כל קלט, והרדוקציה 
\begin_inset Formula $\text{HP}\le L_{EQ}$
\end_inset

 תוגדר על ידי
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(\left\langle M\right\rangle ,x\right) & \mapsto\left(\left\langle M_{x}\right\rangle ,\left\langle M_{\Sigma^{*}}\right\rangle \right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
תקפות הרדוקציה נובעת מכך שאם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 אז 
\begin_inset Formula $L\left(M_{x}\right)=\Sigma^{*}$
\end_inset

 ואילו אם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

 אז 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset$
\end_inset

.
\end_layout

\begin_layout Standard
מכאן נקבל באמצעות משפט הרדוקציה ש-
\begin_inset Formula $L_{EQ}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
נוכל להראות גם שמתקיים 
\begin_inset Formula $L_{EQ}\notin\text{RE}$
\end_inset

 באמצעות רדוקציה מ-
\begin_inset Formula $\overline{\text{HP}}$
\end_inset

.
 הרדוקציה תהיה דומה מאוד ותשתמש באבחנה שכבר ראינו:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(\left\langle M\right\rangle ,x\right) & \mapsto\left(\left\langle M_{x}\right\rangle ,\left\langle M_{\emptyset}\right\rangle \right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $M_{\emptyset}$
\end_inset

 היא מכונה שדוחה מייד כל קלט ולכן 
\begin_inset Formula $L\left(M_{\emptyset}\right)=\emptyset$
\end_inset

.
\end_layout

\begin_layout Standard
האם הרדוקציה הראשונה שלנו הייתה מיותרת? לא, שכן היא מראה גם כי 
\begin_inset Formula $L_{EQ}\notin\text{coRE}$
\end_inset

, כך ש-
\begin_inset Formula $L_{EQ}$
\end_inset

 שלנו אינה שייכת ל-
\begin_inset Formula $\text{RE}\cup\text{coRE}$
\end_inset

 - השפה הראשונה שראינו שמקיימת זאת.
\end_layout

\begin_layout Subsection
משפט רייס
\end_layout

\begin_layout Standard
משפט רייס עוסק בסיטואציה הבאה: נניח ששפה כלשהי נתונה לנו באמצעות מכונת טיורינג;
 מה אנחנו יכולים להגיד על השפה? התשובה היא 
\begin_inset Quotes eld
\end_inset

כלום
\begin_inset Quotes erd
\end_inset

.
 ליתר דיוק - אין לנו אלגוריתם שמקבל מכונת טיורינג ומכריע את השאלה האם השפה
 של אותה מכונה מקיימת תכונה לא טריוויאלית כלשהי.
\end_layout

\begin_layout Standard
באופן כללי, אם אנחנו מסכימים על שיטה כלשהי לייצוג שפות, ייתכן שנוכל לחלץ
 מידע על השפה מתוך הייצוג שלה.
 למשל, אם בשיטת הייצוג שלנו כל שפה סופית מיוצגת על ידי רשימת כל המילים שבה,
 בעוד שבשפות אינסופיות משתמשים בקיצור או בסימן 
\begin_inset Formula $\ldots$
\end_inset

, אז ממבט בייצוג של השפה נוכל להבין אם היא סופית או אינסופית.
 עבור מכונות טיורינג אפילו זה יהיה בלתי אפשרי.
\end_layout

\begin_layout Standard
נחדד את הכוונה שלנו באמצעות הגדרה פורמלית:
\end_layout

\begin_layout Definition

\series bold
תכונה
\series default
 של שפות ב-
\begin_inset Formula $\text{RE}$
\end_inset

 היא תת-קבוצה 
\begin_inset Formula $S\subseteq\text{RE}$
\end_inset

.
 נאמר שתכונה 
\begin_inset Formula $S$
\end_inset

 היא 
\series bold
טריוויאלית
\series default
 אם 
\begin_inset Formula $S=\emptyset$
\end_inset

 או 
\begin_inset Formula $S=\text{RE}$
\end_inset

.
\end_layout

\begin_layout Standard
כשנגדיר תכונה בפועל לא נטרח לציין את העובדה שהשפות בתכונה הן ב-
\begin_inset Formula $\text{RE}$
\end_inset

 כדי למנוע סירבול.
 למשל, 
\begin_inset Quotes eld
\end_inset

להיות שפה אינסופית
\begin_inset Quotes erd
\end_inset

 היא תכונה לא טריוויאלית של שפות ב-
\begin_inset Formula $\text{RE}$
\end_inset

; 
\begin_inset Quotes eld
\end_inset

להכיל את 
\begin_inset Formula $\varepsilon$
\end_inset


\begin_inset Quotes erd
\end_inset

 היא תכונה לא טריוויאלית של שפות ב-
\begin_inset Formula $\text{RE}$
\end_inset

, וכדומה.
\end_layout

\begin_layout Standard
משפט רייס מבהיר לנו שהתקווה לבדוק אם שפה של מ
\begin_inset Quotes erd
\end_inset

ט נתונה מקיימת תכונה 
\begin_inset Formula $S$
\end_inset

 היא משוללת יסוד:
\end_layout

\begin_layout Theorem
)משפט רייס(: תהא 
\begin_inset Formula $S$
\end_inset

 תכונה לא טריוויאלית של שפות ב-
\begin_inset Formula $\text{RE}$
\end_inset

.
 נסמן
\begin_inset Formula 
\begin{align*}
L_{S} & =\left\{ \left\langle M\right\rangle \ |\ L\left(M\right)\in S\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Theorem
אז 
\begin_inset Formula $L_{S}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Theorem
אם בנוסף לכך 
\begin_inset Formula $\emptyset\in S$
\end_inset

 אז 
\begin_inset Formula $L_{S}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Standard
מדוע חשוב שהתכונה 
\begin_inset Formula $S$
\end_inset

 תהיה לא טריוויאלית? שכן אם 
\begin_inset Formula $S=\emptyset$
\end_inset

, כלומר 
\series bold
כל
\series default
 שפה ב-
\begin_inset Formula $\text{RE}$
\end_inset

 אינה מקיימת את התכונה, אז 
\begin_inset Formula $L_{S}$
\end_inset

 מוכרעת על ידי מכונה שתמיד אומרת 
\begin_inset Quotes eld
\end_inset

לא
\begin_inset Quotes erd
\end_inset

.
 בדומה, אם 
\begin_inset Formula $S=\text{RE}$
\end_inset

 אז 
\begin_inset Formula $L_{S}$
\end_inset

 מוכרעת על ידי מכונה שתמיד אומרת 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
הוכחת משפט רייס היא בבסיסה רדוקציה הדומה לאלו שראינו עד כה:
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Proof
נניח ש-
\begin_inset Formula $\emptyset\notin S$
\end_inset

.
 במקרה זה נציג רדוקציה 
\begin_inset Formula $\text{HP}\le L_{S}$
\end_inset

, מה שיוכיח ש-
\begin_inset Formula $L_{S}\notin\text{R}$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $S$
\end_inset

 היא תכונה לא טריוויאלית, קיימת שפה 
\begin_inset Formula $L\in S$
\end_inset

.
 תהא 
\begin_inset Formula $M_{L}$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט כך ש-
\begin_inset Formula $L\left(M_{L}\right)=L$
\end_inset

.
\end_layout

\begin_layout Proof
כעת הרדוקציה 
\begin_inset Formula $\text{HP}\le L_{S}$
\end_inset

 שלנו תוגדר כך: 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\mapsto\left\langle M_{x}\right\rangle $
\end_inset

 כאשר 
\begin_inset Formula $M_{x}$
\end_inset

 היא מכונה שעל קלט 
\begin_inset Formula $w$
\end_inset

 פועלת כך:
\end_layout

\begin_deeper
\begin_layout Itemize
מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M$
\end_inset

 עצרה על 
\begin_inset Formula $x$
\end_inset

, מריצה את 
\begin_inset Formula $M_{L}$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 ועונה כמוה.
\end_layout

\begin_layout Standard
נבדיל כעת בין שני מקרים:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

, ולכן 
\begin_inset Formula $M_{x}$
\end_inset

 בריצתה על 
\begin_inset Formula $w$
\end_inset

 תמיד מריצה את 
\begin_inset Formula $M_{L}$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 ועונה כמוה, ולכן 
\begin_inset Formula $L\left(M_{x}\right)=L\left(M_{L}\right)\in S$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\text{HP}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

, ולכן 
\begin_inset Formula $M_{x}$
\end_inset

 בריצתה על 
\begin_inset Formula $w$
\end_inset

 תמיד אינה עוצרת, ולכן 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset\notin S$
\end_inset

.
\end_layout

\begin_layout Standard
הראינו את תקפות הרדוקציה 
\begin_inset Formula $\text{HP}\le L_{S}$
\end_inset

 במקרה שבו 
\begin_inset Formula $\emptyset\notin S$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
נעבור כעת אל המקרה 
\begin_inset Formula $\emptyset\in S$
\end_inset

.
 מקרה זה יהיה דומה לקודמו, אך הפעם נראה רדוקציה 
\begin_inset Formula $\overline{\text{HP}}\le L_{S}$
\end_inset

; רדוקציה זו תראה לנו ש-
\begin_inset Formula $L_{S}\notin\text{RE}$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Proof
ראשית, מכיוון ש-
\begin_inset Formula $S$
\end_inset

 אינה טריוויאלית, קיימת 
\begin_inset Formula $L$
\end_inset

 כך ש-
\begin_inset Formula $L\notin S$
\end_inset

 )שימו לב להיפוך התפקידים ביחס לחלק הקודם של ההוכחה(.
 כמקודם, תהא 
\begin_inset Formula $M_{L}$
\end_inset

 מכונה כך ש-
\begin_inset Formula $L\left(M_{L}\right)=L$
\end_inset

.
\end_layout

\begin_layout Proof
הרדוקציה שלנו 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\mapsto\left\langle M_{x}\right\rangle $
\end_inset

 תוגדר בדיוק כמו קודם.
 נשים לב לתקפות שלה:
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

, ולכן 
\begin_inset Formula $M_{x}$
\end_inset

 בריצתה על 
\begin_inset Formula $w$
\end_inset

 תמיד אינה עוצרת, ולכן 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset\in S$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

, ולכן 
\begin_inset Formula $M_{x}$
\end_inset

 בריצתה על 
\begin_inset Formula $w$
\end_inset

 תמיד מריצה את 
\begin_inset Formula $M_{L}$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 ועונה כמוה, ולכן 
\begin_inset Formula $L\left(M_{x}\right)=L\left(M_{L}\right)\notin S$
\end_inset

.
\end_layout

\begin_layout Standard
זה מסיים את הוכחת המקרה השני.
\end_layout

\end_deeper
\begin_layout Standard
משפט רייס הוא כלי יעיל מאוד להוכחה ששפות רבות אינן ב-
\begin_inset Formula $\text{R}$
\end_inset

 או ב-
\begin_inset Formula $\text{RE}$
\end_inset

.
 נראה מספר דוגמאות לכך.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Standard
התכונה 
\begin_inset Formula $S=\text{\left\{  L\in\text{RE}\ |\ \varepsilon\in L\right\}  }$
\end_inset

 היא תכונה של שפות ב-
\begin_inset Formula $\text{RE}$
\end_inset

 שאינה טריוויאלית )כי 
\begin_inset Formula $\emptyset\notin S$
\end_inset

 אבל 
\begin_inset Formula $\Sigma^{*}\in S$
\end_inset

( ומכאן ש-
\begin_inset Formula $L_{S}=L_{\varepsilon}$
\end_inset

 אינה ב-
\begin_inset Formula $\text{R}$
\end_inset

.
 זה לא מחדש לנו הרבה כי כבר ראינו רדוקציה מפורשת כזו שלמעשה הייתה זהה לזו
 שניתנת בהוכחה הכללית של משפט רייס )באותה רדוקציה מפורשת, השפה 
\begin_inset Formula $L$
\end_inset

 שבה השתמשנו הייתה 
\begin_inset Formula $\Sigma^{*}$
\end_inset

(.
 עם זאת, אנו רואים כאן כי גם עבור מילים שונות מ-
\begin_inset Formula $\varepsilon$
\end_inset

, או כל תת-קבוצה אפשרית של מילים שאנו דורשים שכולן ישתייכו ל-
\begin_inset Formula $L$
\end_inset

, עדיין נקבל שהשפה אינה ב-
\begin_inset Formula $\text{R}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\end_layout

\begin_layout Standard
נתבונן בתכונה 
\begin_inset Formula $S=\text{\left\{  \Sigma^{*}\right\}  }$
\end_inset

, שמניבה את השפה 
\begin_inset Formula $L_{\Sigma^{*}}=\left\{ \left\langle M\right\rangle \ |\ L\left(M\right)=\Sigma^{*}\right\} $
\end_inset

.
 משפט רייס מראה לנו מייד כי 
\begin_inset Formula $L_{\Sigma^{*}}\notin\text{R}$
\end_inset

.
 עם זאת, זו תוצאה חלשה יחסית למה שניתן להוכיח על השפה בדרכים אחרות: בפועל,
 
\begin_inset Formula $L_{\Sigma^{*}}\notin\text{RE}\cup\text{coRE}$
\end_inset

.
 אך משפט רייס אינו מאפשר לנו להוכיח זאת, שכן 
\begin_inset Formula $\emptyset\notin S$
\end_inset

 ולכן לא ניתן להסיק 
\begin_inset Formula $L_{\Sigma^{*}}\notin\text{RE}$
\end_inset

 )אם כי במקרה זה המשפט אכן מראה את הטענה שפחות מעניינת אותנו, 
\begin_inset Formula $L_{\Sigma^{*}}\notin\text{coRE}$
\end_inset

(.
 בהמשך נראה טכניקות שמאפשרות לנו להוכיח את הטענה המורכבת יותר.
\end_layout

\begin_layout Paragraph*
דוגמא
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\end_layout

\begin_layout Standard
נגדיר שלוש שפות:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L_{\le3} & =\left\{ \left\langle M\right\rangle \ |\ \left|L\left(M\right)\right|\le3\right\} \\
L_{=3} & =\left\{ \left\langle M\right\rangle \ |\ \left|L\left(M\right)\right|=3\right\} \\
L_{\ge3} & =\left\{ \left\langle M\right\rangle \ |\ \left|L\left(M\right)\right|\ge3\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
התכונות המתאימות לשפות אלו הן:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
S_{\le3} & =\left\{ L\in\text{RE}\ |\ \left|L\right|\le3\right\} \\
S_{=3} & =\left\{ L\in\text{RE}\ |\ \left|L\right|=3\right\} \\
S_{\ge3} & =\left\{ L\in\text{RE}\ |\ \left|L\right|\ge3\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
תכונות אלו הן בבירור לא טריוויאליות ולכן כל שלוש השפות אינן ב-
\begin_inset Formula $\text{R}$
\end_inset

.
 בנוסף לכך ממשפט רייס ניתן להסיק כי 
\begin_inset Formula $L_{\le3}\notin\text{RE}$
\end_inset

, כי 
\begin_inset Formula $\emptyset\in S_{\le3}$
\end_inset

.
\end_layout

\begin_layout Standard
עבור השפות האחרות, 
\begin_inset Formula $L_{\ge3}\in\text{RE}$
\end_inset

 אך נזדקק לטכניקות נוספות כדי להראות זאת, ואילו 
\begin_inset Formula $L_{=3}\notin\text{RE}$
\end_inset

 ונוכל להראות זאת כעת.
\end_layout

\begin_layout Standard
כדי להראות כי 
\begin_inset Formula $L_{=3}$
\end_inset

 נשתמש ברדוקציה 
\begin_inset Formula $\overline{\text{HP}}\le L_{=3}$
\end_inset

 שדומה לרדוקציה בה משתמשים במשפט רייס אך מחוכמת מעט יותר; זה מראה את האופן
 השרירותי במידת מה שבו הגדרנו את משפט רייס, כי את השפה 
\begin_inset Formula $\emptyset$
\end_inset

 היינו יכולים להחליף בשפות רבות נוספות.
 קיימת למשפט רייס גרסה מלאה יותר, של 
\begin_inset Quotes eld
\end_inset

אם ורק אם
\begin_inset Quotes erd
\end_inset

 , שבה מנוסח קריטריון מורכב שמצליח להתייחס לכל השפות האפשריות הללו.
\end_layout

\begin_layout Standard
הרדוקציה תוגדר כך: 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\mapsto\left\langle M_{x}\right\rangle $
\end_inset

 כך ש-
\begin_inset Formula $M_{x}$
\end_inset

 על קלט 
\begin_inset Formula $w$
\end_inset

 פועלת כך:
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $w\in\left\{ \varepsilon,0,1\right\} $
\end_inset

, אז 
\begin_inset Formula $M_{x}$
\end_inset

 מקבלת מייד.
\end_layout

\begin_layout Itemize
אחרת, 
\begin_inset Formula $M_{x}$
\end_inset

 מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ואם 
\begin_inset Formula $M$
\end_inset

 עצרה - מקבלת.
\end_layout

\begin_layout Standard
כתוצאה מכך, יש שתי אפשרויות:
\end_layout

\begin_layout Standard
\begin_inset Formula $L\left(M_{x}\right)=\begin{cases}
\left\{ \varepsilon,0,1\right\}  & \left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}\\
\Sigma^{*} & \left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
בבירור, רדוקציה זו מראה ש-
\begin_inset Formula $L_{=3}\notin\text{RE}$
\end_inset

, וכי היינו יכולים להחליף את 
\begin_inset Formula $\emptyset$
\end_inset

 במשפט רייס גם בשפה 
\begin_inset Formula $\left\{ \varepsilon,0,1\right\} $
\end_inset

.
\end_layout

\begin_layout Subsection
הרצה מבוקרת
\end_layout

\begin_layout Standard
עד כה הרדוקציות שלנו היו כולן מאותו סגנון: בהינתן מכונה 
\begin_inset Formula $M$
\end_inset

 וקלט 
\begin_inset Formula $x$
\end_inset

, בנינו מכונה 
\begin_inset Formula $M_{x}$
\end_inset

 שדבר ראשון הריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ואולי עשתה אז דברים נוספים.
 כלומר, הפעולה הראשונה של המכונה שלנו הייתה להפוך באופן זמני למכונה אחרת,
 כך שהמשך הריצה שלה היה תלוי בכך שהמכונה האחרת תסיים.
 זו גישה נאיבית למדי, שאינה מנצלת את מלוא היכולות של מכונת טיורינג.
\end_layout

\begin_layout Standard
כזכור, כאשר בנינו את המכונה האוניברסלית, ראינו כי יש לנו שליטה מלאה על אופן
 הרצת המכונה - אנחנו מייצרים קונפיגורציות בצורה סדרתית, ויכולים בכל עת לקחת
 הפסקה מייצור הקונפיגורציות, לשנות את הקונפיגורציות כאוות נפשנו, וכדומה.
 בפרט, אנחנו מסוגלים לבצע 
\series bold
מספר חישובים במקביל
\series default
 ואנחנו גם יכולים לקבוע שנבצע חישוב מסויים רק למשך מספר 
\series bold
מוגבל
\series default
 של צעדים.
 את היכולות הנוספות הללו אנחנו מכניסים תחת השם 
\series bold
הרצה מבוקרת
\series default
 שכן במקום להריץ בצורה 
\begin_inset Quotes eld
\end_inset

חופשית
\begin_inset Quotes erd
\end_inset

 את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 אנחנו מכניסים ממד של 
\series bold
בקרה
\series default
 על האופן שבו הריצה הזו מתבצעת )הדבר דומה למנגנון ה-
\lang english
interrupt
\lang hebrew
-ים שקיים במחשבים מודרניים, או פשוט להרצה באמצעות דיבאגר(.
\end_layout

\begin_layout Paragraph*
דוגמא - הרצה על אינסוף קלטים במקביל
\end_layout

\begin_layout Standard
נוכיח כי 
\begin_inset Formula $L_{\ge3}\in\text{RE}$
\end_inset

 על ידי מכונה שמקבלת את השפה.
 הרעיון של המכונה יהיה להריץ את מכונת הקלט 
\begin_inset Formula $M$
\end_inset

 
\begin_inset Quotes eld
\end_inset

במקביל
\begin_inset Quotes erd
\end_inset

 על כל אינסוף המילים האפשריות; אם בשלב כלשהו של ההרצה המקבילית הזו תתקבלנה
 שלוש מילים, אפשר לעצור ולקבל את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

.
 אחרת, בהכרח שפת 
\begin_inset Formula $M$
\end_inset

 כוללת פחות מ–
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מילים ולכן ריצה לנצח שמשמעותה אי-קבלת 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

 היא אכן מה שצריך להתרחש פה.
\end_layout

\begin_layout Standard
כיצד ניתן לרוץ על יותר מקלט אחד בו זמנית? במקום לשמור על הסרט קונפיגורציה
 אחת בכל פעם, אפשר לשמור עליו סדרה )סופית( של קונפיגורציות, כל אחת שמתאימה
 לריצה על קלט אחר, ובכל פעם לקדם את אחת מהקונפיגורציות צעד אחד, כרצוננו.
 בפועל המכונה יכולה לפעול כך:
\end_layout

\begin_layout Itemize
בצעי צעד אחד על הקלט 
\begin_inset Formula $\varepsilon$
\end_inset


\end_layout

\begin_layout Itemize
בצעי שני צעדים על הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

 ושני צעדים על הקלט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Itemize
בצעי שלושה צעדים על הקלט 
\begin_inset Formula $\varepsilon$
\end_inset

, שלושה צעדים על הקלט 
\begin_inset Formula $1$
\end_inset

 ושלושה צעדים על הקלט 
\begin_inset Formula $2$
\end_inset


\end_layout

\begin_layout Itemize
וכן הלאה
\end_layout

\begin_layout Standard
נוכל לסמן 
\begin_inset Formula $\Sigma^{*}=\left\{ w_{1},w_{2},w_{3},\ldots\right\} $
\end_inset

 על פי סדר כלשהו כדוגמת הסדר הלקסיקוגרפי )
\begin_inset Formula $\Sigma^{*}=\left\{ \varepsilon,0,1,00,01,10,11,\ldots\right\} $
\end_inset

( ואז האלגוריתם ניתן לתיאור כללי כך: לכל 
\begin_inset Formula $n=1,2,3,\ldots$
\end_inset

, מבוצעים 
\begin_inset Formula $n$
\end_inset

 צעדי חישוב על הקלטים 
\begin_inset Formula $w_{1},w_{2},\ldots,w_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
נניח כי 
\begin_inset Formula $M$
\end_inset

 מקבלת את הקלט 
\begin_inset Formula $w_{t}$
\end_inset

 תוך 
\begin_inset Formula $k$
\end_inset

 צעדים.
 אז בשלב שבו 
\begin_inset Formula $n=\max\left\{ k,t\right\} $
\end_inset

 מובטח לנו כי 
\begin_inset Formula $M$
\end_inset

 תבצע לפחות 
\begin_inset Formula $k$
\end_inset

 צעדים על הקלט 
\begin_inset Formula $w_{t}$
\end_inset

, ולכן נגלה בשלב זה כי 
\begin_inset Formula $M$
\end_inset

 מקבלת את 
\begin_inset Formula $w_{t}$
\end_inset

.
 כך יהיה עבור כל קלט אותו 
\begin_inset Formula $M$
\end_inset

 מקבלת, כך שאם קיימים שלושה קלטים שהיא מקבלת, אנחנו נזהה זאת ונוכל לקבל.
\end_layout

\begin_layout Paragraph*
דוגמא - הרצה למספר מוגבל של צעדים
\end_layout

\begin_layout Standard
נרצה להוכיח כי 
\begin_inset Formula $L_{\Sigma^{*}}\notin\text{RE}$
\end_inset

.
 נעשה זאת באמצעות רדוקציה 
\begin_inset Formula $\overline{\text{HP}}\le L_{\Sigma^{*}}$
\end_inset

.
 תחילה נציג שתי רדוקציות כושלות ונבין מה בדיוק השתבש בהן.
\end_layout

\begin_layout Standard
הרדוקציה הראשונה היא זו שבה השתמשנו כבר פעמים רבות: 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\mapsto\left\langle M_{x}\right\rangle $
\end_inset

 כאשר 
\begin_inset Formula $M_{x}$
\end_inset

 מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ומקבלת אם 
\begin_inset Formula $M$
\end_inset

 עצרה.
 במקרה זה מקבלים
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L\left(M_{x}\right) & =\begin{cases}
\emptyset & \left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}\\
\Sigma^{*} & \left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}
\end{cases}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
זה כמעט הפוך ממה שאנחנו רוצים.
 אנחנו רוצים שדווקא אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $L\left(M_{x}\right)=\Sigma^{*}$
\end_inset

, ואילו אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}$
\end_inset

 )כלומר, 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

( אז 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset$
\end_inset

.
\end_layout

\begin_layout Standard
ננסה לתקן את הרדוקציה: כעת 
\begin_inset Formula $M_{x}$
\end_inset

 תריץ את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 כמקודם, אבל אם 
\begin_inset Formula $M$
\end_inset

 עצרה אז 
\begin_inset Formula $M_{x}$
\end_inset

 
\series bold
תדחה
\series default
 את הקלט.
 כלומר, אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset$
\end_inset

.
 לרוע המזל, אם 
\begin_inset Formula $M$
\end_inset

 אינה עוצרת על 
\begin_inset Formula $x$
\end_inset

, אז בפרט 
\begin_inset Formula $M_{x}$
\end_inset

 לעולם לא תגיע לשלב שבו היא מקבלת קלטים, ולכן נקבל 
\begin_inset Formula $L\left(M_{x}\right)=\emptyset$
\end_inset

 גם אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}$
\end_inset

, וזה בוודאי לא מה שרצינו.
\end_layout

\begin_layout Standard
לכן ננקוט בתעלול.
 
\begin_inset Formula $M_{x}$
\end_inset

 על הקלט 
\begin_inset Formula $w$
\end_inset

 תפעל כך:
\end_layout

\begin_layout Enumerate
תריץ את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 למשך 
\begin_inset Formula $\left|w\right|$
\end_inset

 צעדים.
\end_layout

\begin_layout Enumerate
אם במהלך הריצה הזו 
\begin_inset Formula $M$
\end_inset

 עצרה על 
\begin_inset Formula $x$
\end_inset

, אז 
\begin_inset Formula $M_{x}$
\end_inset

 
\series bold
תדחה
\series default
 את 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Enumerate
אחרת, 
\begin_inset Formula $M_{x}$
\end_inset

 
\series bold
תקבל
\series default
 את 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}$
\end_inset

, אז מובטח לנו ששלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא יתקיים לעולם - לא משנה למשך כמה צעדים נריץ את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

, היא לעולם לא תעצור.
 לכן תמיד נגיע לשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותמיד נקבל, כך ש-
\begin_inset Formula $L\left(M_{x}\right)=\Sigma^{*}$
\end_inset

 - כפי שרצינו.
\end_layout

\begin_layout Standard
אם לעומת זאת 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 אחרי 
\begin_inset Formula $k$
\end_inset

 צעדים בדיוק.
 אם כן, לכל קלט 
\begin_inset Formula $w$
\end_inset

 כך ש-
\begin_inset Formula $\left|w\right|<k$
\end_inset

 בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 לא נגיע לכך ש-
\begin_inset Formula $M$
\end_inset

 עצרה על 
\begin_inset Formula $x$
\end_inset

 ולכן 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נקבל
\series default
 כל קלט כזה; אבל אם 
\begin_inset Formula $\left|w\right|\ge k$
\end_inset

 אז בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תמיד
\series default
 נגיע לכך ש-
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 ולכן 
\begin_inset Formula $M_{x}$
\end_inset

 תדחה.
 מכאן שבמקרה זה, 
\begin_inset Formula $L\left(M_{x}\right)=\left\{ w\in\Sigma^{*}\ |\ \left|w\right|<k\right\} $
\end_inset

, ומכיוון ששפה זו שונה מ-
\begin_inset Formula $\Sigma^{*}$
\end_inset

, זה מסיים את הוכחת נכונות הרדוקציה.
\end_layout

\begin_layout Standard
כיצד ניתן להשתמש בטכניקה שראינו על מנת להתמודד עם שפות נוספות? אותה רדוקציה
 בדיוק תעבוד גם עבור השפה 
\begin_inset Formula $L_{inf}=\left\{ \left\langle M\right\rangle \ |\ \left|L\left(M\right)\right|=\infty\right\} $
\end_inset

, כי אם 
\begin_inset Formula $M$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 אז השפה של 
\begin_inset Formula $M_{x}$
\end_inset

 היא סופית ואם אינה עוצרת, אז שפת 
\begin_inset Formula $M_{x}$
\end_inset

 היא אינסופית.
\end_layout

\begin_layout Standard
בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של פעולת 
\begin_inset Formula $M_{x}$
\end_inset

 המכונה אינה 
\series bold
חייבת
\series default
 לקבל; היא יכולה להריץ מכונה כלשהי על הקלט 
\begin_inset Formula $w$
\end_inset

 ולענות כמוה, כך שנקבל את ההפרדה הבאה: אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}$
\end_inset

 אז נקבל ש-
\begin_inset Formula $L\left(M_{x}\right)$
\end_inset

 היא שפה כלשהי ב-
\begin_inset Formula $\text{RE}$
\end_inset

 לבחירתנו, ואילו אם 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)\notin\overline{\text{HP}}$
\end_inset

 אז 
\begin_inset Formula $L\left(M_{x}\right)$
\end_inset

 היא שפה כלשהי שאנחנו יודעים שהיא 
\series bold
סופית
\series default
.
 כך למשל אפשר להראות ששפת כל המכונות 
\begin_inset Formula $M$
\end_inset

 שמקבלות בדיוק את כל המילים מאורך זוגי אינה ב-
\begin_inset Formula $\text{RE}$
\end_inset

; בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
, במקום לקבל את 
\begin_inset Formula $w$
\end_inset

 ראשית נבדוק אם 
\begin_inset Formula $w$
\end_inset

 מאורך זוגי ורק אם כן, נקבל.
\end_layout

\begin_layout Subsection
חישוב פונקציות
\end_layout

\begin_layout Standard
התחלנו עם המושג של פונקציה ניתנת לחישוב ואז עברנו לעסוק בשפות.
 כעת נראה את הקשר בין שני המושגים.
 נזכיר את ההגדרות הבסיסיות שלנו:
\end_layout

\begin_layout Definition
פונקציה 
\begin_inset Formula $f:\Sigma^{*}\to\Gamma^{*}$
\end_inset

 נקראת 
\series bold
מלאה
\series default
 אם היא מוגדרת לכל קלט.
 היא נקראת 
\series bold
ניתנת לחישוב
\series default
 אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $f_{M}=f$
\end_inset

.
\end_layout

\begin_layout Standard
בהינתן פונקציה 
\begin_inset Formula $f$
\end_inset

, נגדיר את השפה המתארת אותה: 
\begin_inset Formula $L_{f}=\left\{ \left(x,y\right)\ |\ f\left(x\right)=y\right\} $
\end_inset

.
 שימו לב כי 
\begin_inset Formula $\left(x,y\right)\in L_{f}$
\end_inset

 פירושו ש-
\begin_inset Formula $f$
\end_inset

 מוגדרת על 
\begin_inset Formula $x$
\end_inset

 
\series bold
וגם
\series default
 
\begin_inset Formula $f\left(x\right)=y$
\end_inset

; אם 
\begin_inset Formula $f$
\end_inset

 אינה מוגדרת על 
\begin_inset Formula $x$
\end_inset

, אז לא יופיע זוג שבו 
\begin_inset Formula $x$
\end_inset

 הוא האיבר השמאלי.
\end_layout

\begin_layout Theorem
תהא 
\begin_inset Formula $f$
\end_inset

 פונקציה
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $f$
\end_inset

 ניתנת לחישוב אם ורק אם 
\begin_inset Formula $L_{f}\in\text{RE}$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $f$
\end_inset

 מלאה, אז 
\begin_inset Formula $f$
\end_inset

 ניתנת לחישוב אם ורק אם 
\begin_inset Formula $L_{f}\in\text{R}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
נניח כי 
\begin_inset Formula $f$
\end_inset

 ניתנת לחישוב באמצעות מכונה 
\begin_inset Formula $M_{f}$
\end_inset

.
 מכונה 
\begin_inset Formula $M$
\end_inset

 עבור 
\begin_inset Formula $L_{f}$
\end_inset

 תפעל כך על קלט 
\begin_inset Formula $\left(x,y\right)$
\end_inset

: ראשית תריץ את 
\begin_inset Formula $M_{f}$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 אם 
\begin_inset Formula $M_{f}$
\end_inset

 עצרה, 
\begin_inset Formula $M$
\end_inset

 תשווה את הפלט של 
\begin_inset Formula $M_{f}$
\end_inset

 ל-
\begin_inset Formula $y$
\end_inset

 ותקבל רק אם הם שווים.
 בבירור 
\begin_inset Formula $M$
\end_inset

 אכן מקבלת את 
\begin_inset Formula $L_{f}$
\end_inset

, ואם 
\begin_inset Formula $f$
\end_inset

 מלאה אז 
\begin_inset Formula $M_{f}$
\end_inset

 עוצרת לכל קלט ולכן 
\begin_inset Formula $M$
\end_inset

 תעצור לכל קלט, אז במקרה זה היא 
\series bold
מכריעה
\series default
 את 
\begin_inset Formula $L_{f}$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון השני, אם 
\begin_inset Formula $L_{f}\in\text{RE}$
\end_inset

 עם מכונה 
\begin_inset Formula $M_{f}$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M_{f}\right)=L_{f}$
\end_inset

 אז מכונה לחישוב 
\begin_inset Formula $f$
\end_inset

 תפעל כך: בהינתן קלט 
\begin_inset Formula $x$
\end_inset

, המכונה תבצע הרצה מבוקרת של 
\begin_inset Formula $M_{f}$
\end_inset

 על כל הקלטים מהצורה 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 לכל 
\begin_inset Formula $y\in\Sigma^{*}$
\end_inset

.
 אם 
\begin_inset Formula $M_{f}$
\end_inset

 עצרה וקיבלה זוג 
\begin_inset Formula $\left(x,y\right)$
\end_inset

, המכונה לחישוב 
\begin_inset Formula $f$
\end_inset

 תעצור ותוציא את 
\begin_inset Formula $y$
\end_inset

 כפלט.
\end_layout

\begin_layout Standard
בסיוע המשפט ניתן להמיר את השאלה האם פונקציה היא ניתנת לחישוב בשאלה האם שפה
 שייכת ל-
\begin_inset Formula $\text{RE}$
\end_inset

, שיכולה להיות קלה יותר למענה בזכות כלי הרדוקציות שברשותנו.
\end_layout

\begin_layout Paragraph*
דוגמא: פונקציית גודל השפה
\end_layout

\begin_layout Standard
נגדיר פונקציה אשר בהינתן מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 מחזירה את גודל השפה של 
\begin_inset Formula $M$
\end_inset

 אם היא סופית, ואינה מוגדרת במקרה שבו השפה אינסופית:
\end_layout

\begin_layout Standard
\begin_inset Formula $f\left(\left\langle M\right\rangle \right)=\begin{cases}
\left|L\left(M\right)\right| & \left|L\left(M\right)\right|<\infty\\
\perp & \left|L\left(M\right)\right|=\infty
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
ניתן להראות באופן ישיר כי 
\begin_inset Formula $f$
\end_inset

 אינה ניתנת לחישוב.
 נניח כי היא כן ניתנת לחישוב עם מכונה 
\begin_inset Formula $M_{f}$
\end_inset

 וניעזר בה כדי להוכיח שהשפה 
\begin_inset Formula $L_{\emptyset}=\left\{ \left\langle M\right\rangle \ |\ L\left(M\right)=\emptyset\right\} $
\end_inset

 שייכת ל-
\begin_inset Formula $\text{RE}$
\end_inset

 למרות שרואים מיידית ממשפט רייס כי 
\begin_inset Formula $L_{\emptyset}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Standard
נבנה מכונה 
\begin_inset Formula $M_{\emptyset}$
\end_inset

 שפועלת כך על קלט 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

:
\end_layout

\begin_layout Itemize
מריצה את 
\begin_inset Formula $M_{f}$
\end_inset

 על 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $M_{f}$
\end_inset

 סיימה עם פלט 
\begin_inset Formula $y$
\end_inset

, 
\begin_inset Formula $M_{\emptyset}$
\end_inset

 מקבלת אם 
\begin_inset Formula $y=0$
\end_inset

 ודוחה אחרת.
\end_layout

\begin_layout Standard
על פי הגדרה, 
\begin_inset Formula $L\left(M\right)=\emptyset$
\end_inset

 אם ורק אם 
\begin_inset Formula $f\left(\left\langle M\right\rangle \right)=0$
\end_inset

 ומכאן נכונות המכונה 
\begin_inset Formula $M_{\emptyset}$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת להוכחה עקיפה כי 
\begin_inset Formula $f$
\end_inset

 אינה ניתנת לחישוב.
 ראשית נתבונן על השפה 
\begin_inset Formula $L_{f}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
L_{f} & =\left\{ \left(\left\langle M\right\rangle ,\left|L\left(M\right)\right|\right)\ |\ \left|L\left(M\right)\right|<\infty\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אם נראה ש-
\begin_inset Formula $L_{f}\notin\text{RE}$
\end_inset

 זה יוכיח שהפונקציה אינה ניתנת לחישוב.
 נעשה זאת באמצעות רדוקציה 
\begin_inset Formula $L_{\emptyset}\le L_{f}$
\end_inset

 שתוגדר על ידי
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left\langle M\right\rangle  & \mapsto\left(\left\langle M\right\rangle ,0\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בבירור הרדוקציה תקפה, שכן 
\begin_inset Formula $\left\langle M\right\rangle \in L_{\emptyset}$
\end_inset

 אם ורק אם 
\begin_inset Formula $L\left(M\right)=0$
\end_inset

.
 זה מסיים את ההוכחה במקרה זה.
\end_layout

\begin_layout Paragraph*
דוגמא: פונקציית העצירה
\end_layout

\begin_layout Standard
נתבונן כעת על פונקציה שמזכירה בהגדרתה את 
\begin_inset Formula $\text{HP}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula $f\left(\left\langle M\right\rangle ,x\right)=\begin{cases}
1 & M\text{ halts on }x\\
0 & \text{else}
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
במקרה זה, 
\begin_inset Formula 
\begin{align*}
L_{f} & =\left\{ \left(\left(\left\langle M\right\rangle ,x\right),1\right)\ |\ \left(\left\langle M\right\rangle ,x\right)\in\text{HP}\right\} \cup\left\{ \left(\left(\left\langle M\right\rangle ,x\right),0\right)\ |\ \left(\left\langle M\right\rangle ,x\right)\notin\text{HP}\right\} 
\end{align*}

\end_inset

 והרדוקציה 
\begin_inset Formula $\text{HP}\le L_{f}$
\end_inset

 הנתונה על ידי 
\begin_inset Formula $w\mapsto\left(w,1\right)$
\end_inset

 מוכיחה שאינה ניתנת לחישוב, שכן אם הייתה ניתנת לחישוב, עקב כך שהיא מלאה
 היה מתקיים 
\begin_inset Formula $L_{f}\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
אם לעומת זאת היינו מרשים לפונקציה להיות לא מלאה:
\end_layout

\begin_layout Standard
\begin_inset Formula $g\left(\left\langle M\right\rangle ,x\right)=\begin{cases}
1 & M\text{ halts on }x\\
\perp & \text{else}
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
אז במקרה זה היא הייתה ניתנת לחישוב - מכונה לחישוב 
\begin_inset Formula $g$
\end_inset

 פשוט מריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ומחזירה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם הריצה הסתיימה.
\end_layout

\begin_layout Standard
אם היינו מחליפים את המקרה שבו הפונקציה לא מחזירה פלט:
\end_layout

\begin_layout Standard
\begin_inset Formula $h\left(\left\langle M\right\rangle ,x\right)=\begin{cases}
\perp & M\text{ halts on }x\\
0 & \text{else}
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
אז היינו מקבלים 
\begin_inset Formula $L_{h}=\left\{ \left(\left(\left\langle M\right\rangle ,x\right),0\right)\ |\ \left(\left\langle M\right\rangle ,x\right)\in\overline{\text{HP}}\right\} $
\end_inset

 והרדוקציה 
\begin_inset Formula $\overline{\text{HP}}\le L_{h}$
\end_inset

 הנתונה על ידי 
\begin_inset Formula $w\mapsto\left(w,0\right)$
\end_inset

 הייתה מראה ש-
\begin_inset Formula $L_{h}\notin\text{RE}$
\end_inset

 ולכן 
\begin_inset Formula $h$
\end_inset

 אינה ניתנת לחישוב )גם כשלוקחים בחשבון את העובדה שאינה מלאה(.
\end_layout

\begin_layout Subsection
בעיות זיהוי וחיפוש של יחסים
\end_layout

\begin_layout Standard
נעבור כעת לסוג נוסף של בעיות, שעומד להפוך למרכזי מאוד בחלקו השני של הקורס
 - בעיות של 
\series bold
זיהוי
\series default
 ו
\series bold
חיפוש
\series default
 של יחסים.
\end_layout

\begin_layout Standard
כזכור, 
\series bold
יחס
\series default
 הוא תת-קבוצה של זוגות של מילים, 
\begin_inset Formula $S\subseteq\Sigma^{*}\times\Sigma^{*}$
\end_inset

 )קיימות הגדרות כלליות יותר ליחס אך לא נזדקק להן(.
 כל מה שנציג כעת תקף באופן כללי ליחסים כלשהם, אך לטובת האינטואיציה כדאי
 לחשוב על היחס 
\begin_inset Formula $S$
\end_inset

 כמכיל זוגות 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 של איברים כך ש-
\begin_inset Formula $x$
\end_inset

 מתאר אובייקט מתמטי כלשהו ו-
\begin_inset Formula $y$
\end_inset

 מתאר פריט מידע מעניין כלשהו עליו.
 למשל, 
\begin_inset Formula $S=\left\{ \left(\left\langle M\right\rangle ,w\right)\ |\ w\in L\left(M\right)\right\} $
\end_inset

 הוא יחס שבו 
\begin_inset Formula $x$
\end_inset

 מייצג מכונת טיורינג ו-
\begin_inset Formula $y$
\end_inset

 מייצג מילה שאותה היא מקבלת.
 דוגמא נוספת, מיקום מתמטי אחר, היא אוסף הזוגות 
\begin_inset Formula $\left(G,T\right)$
\end_inset

 כך ש-
\begin_inset Formula $G$
\end_inset

 הוא גרף ו-
\begin_inset Formula $T$
\end_inset

 הוא עץ פורש של 
\begin_inset Formula $T$
\end_inset

.
\end_layout

\begin_layout Standard
אנו מבדילים בין שני סוגים של בעיות הקשורות ליחסים:
\end_layout

\begin_layout Itemize

\series bold
בעיית הזיהוי
\series default
 היא הבעיה של להכריע האם זוג 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 קונקרטי שייך ליחס - האם 
\begin_inset Formula $M$
\end_inset

 מקבלת את 
\begin_inset Formula $w$
\end_inset

? האם 
\begin_inset Formula $T$
\end_inset

 הוא עץ פורש של 
\begin_inset Formula $G$
\end_inset

?
\end_layout

\begin_layout Itemize

\series bold
בעיית החיפוש
\series default
 היא הבעיה שבה, בהינתן 
\begin_inset Formula $x$
\end_inset

, עלינו למצוא 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)$
\end_inset

 שייך ליחס )אם קיים 
\begin_inset Formula $y$
\end_inset

 כזה(.
 האם בהינתן 
\begin_inset Formula $M$
\end_inset

 אנו מסוגלים למצוא מילה שהיא מקבלת? האם בהינתן גרף 
\begin_inset Formula $G$
\end_inset

 אנו יודעים למצוא לו עץ פורש?
\end_layout

\begin_layout Standard
נגדיר זאת פורמלית.
\end_layout

\begin_layout Definition
יהא יחס 
\begin_inset Formula $S\subseteq\Sigma^{*}\times\Sigma^{*}$
\end_inset

.
\end_layout

\begin_deeper
\begin_layout Itemize
אומרים ש
\series bold
בעיית הזיהוי
\series default
 של 
\begin_inset Formula $S$
\end_inset

 ניתנת לפתרון אם 
\begin_inset Formula $S\in\text{RE}$
\end_inset

.
\end_layout

\begin_layout Itemize
אומרים ש
\series bold
בעיית החיפוש
\series default
 של 
\begin_inset Formula $S$
\end_inset

 ניתנת לפתרון אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{S}$
\end_inset

 כך שלכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

, אם קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 אז 
\begin_inset Formula $M_{S}$
\end_inset

 עוצרת על 
\begin_inset Formula $x$
\end_inset

 עם פלט 
\begin_inset Formula $y^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y^{\prime}\right)\in S$
\end_inset

 )לאו דווקא 
\begin_inset Formula $y=y^{\prime}$
\end_inset

( ואילו אם לא קיים 
\begin_inset Formula $y$
\end_inset

 כזה אז 
\begin_inset Formula $M_{S}$
\end_inset

 אינה עוצרת.
\end_layout

\end_deeper
\begin_layout Standard
נשים לב לכך שעבור פונקציה 
\begin_inset Formula $f$
\end_inset

, השפה 
\begin_inset Formula $L_{f}=\left\{ \left(x,y\right)\ |\ f\left(x\right)=y\right\} $
\end_inset

 היא עצמה יחס.
 בעיית הזיהוי של יחס זה היא הבעיה של בדיקה האם 
\begin_inset Formula $f$
\end_inset

 מוגדרת על 
\begin_inset Formula $x$
\end_inset

 והפלט שלה שווה ל-
\begin_inset Formula $y$
\end_inset

, ובעיית החיפוש היא הבעיה של חישוב 
\begin_inset Formula $f$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

.
 עם זאת, זהו מקרה פרטי שכן באופן כללי עבור יחסים ל-
\begin_inset Formula $x$
\end_inset

 יכול להיות יותר מ-
\begin_inset Formula $y$
\end_inset

 אחד כך ש-
\begin_inset Formula $\left(x,y\right)$
\end_inset

 ביחס.
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $S$
\end_inset

 ניתן לזיהוי, אז 
\begin_inset Formula $S$
\end_inset

 ניתן לחיפוש.
\end_layout

\begin_layout Proof
בהינתן 
\begin_inset Formula $x$
\end_inset

 נבצע הרצה מבוקרת על כל ה-
\begin_inset Formula $y$
\end_inset

 האפשריים.
 לכל 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 נריץ על הזוג את המכונה שמזהה את 
\begin_inset Formula $S$
\end_inset

.
 אם אחת מההרצות הסתיימה בקבלה של הזוג 
\begin_inset Formula $\left(x,y\right)$
\end_inset

, נוציא את 
\begin_inset Formula $y$
\end_inset

 כפלט.
\end_layout

\begin_layout Standard
משפט זה היה פשוט מאוד להוכחה, בהינתן ההיכרות שלנו עם הרצה מבוקרת; הטענה
 המקבילה בחלקו השני של הקורס תהיה 
\series bold
השאלה הפתוחה המרכזית של מדעי המחשב התיאורטיים
\series default
.
 אינטואטיבית, הסיבה להבדל נעוצה בכך שבחלק השני נדבר על זיהוי וחיפוש 
\series bold
יעילים
\series default
 מבחינת זמן ריצה, אבל הרצה מבוקרת היא טכניקה 
\series bold
לא יעילה
\series default
 מבחינת זמן ריצה.
\end_layout

\begin_layout Standard
הכיוון השני של המשפט כלל אינו נכון.
 יחס 
\begin_inset Formula $S$
\end_inset

 יכול להיות ניתן לחיפוש למרות שאינו ניתן לזיהוי: למשל, אם נחשוב על השפה
 
\begin_inset Formula $L_{\text{EQ}}$
\end_inset

 בתור יחס, היא אינה ניתנת לזיהוי כי ראינו כבר ש-
\begin_inset Formula $L_{\text{EQ}}\notin\text{RE}$
\end_inset

.
 מצד שני, בעיית החיפוש שלה פתירה בצורה 
\begin_inset Quotes eld
\end_inset

טיפשית
\begin_inset Quotes erd
\end_inset

: בהינתן 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, הפלט שלנו יהיה 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, שכן 
\begin_inset Formula $\left(\left\langle M\right\rangle ,\left\langle M\right\rangle \right)\in L_{\text{EQ}}$
\end_inset

 שהרי כל מכונה שקולה לעצמה.
\end_layout

\begin_layout Paragraph*
דוגמא: השפה 
\begin_inset Formula $L_{u}$
\end_inset


\end_layout

\begin_layout Standard
נתבונן על השפה 
\begin_inset Formula $L_{u}=\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ x\in L\left(M\right)\right\} $
\end_inset

 בתור יחס.
\end_layout

\begin_layout Itemize

\series bold
בעיית הזיהוי
\series default
 של השפה ניתנת לפתרון, מכיוון ש-
\begin_inset Formula $L_{u}\in\text{RE}$
\end_inset

 )בהינתן 
\begin_inset Formula $\left(\left\langle M\right\rangle ,x\right)$
\end_inset

 מריצים את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 ובודקים אם הריצה הסתיימה בקבלה(.
\end_layout

\begin_layout Itemize

\series bold
בעיית החיפוש
\series default
 של השפה ניתנת לפתרון, שכן ראינו כי זיהוי יעיל גורר חיפוש יעיל.
\end_layout

\begin_layout Standard
נתבונן כעת על השפה המשלימה 
\begin_inset Formula $\overline{L_{u}}=\left\{ \left(\left\langle M\right\rangle ,x\right)\ |\ x\notin L\left(M\right)\right\} $
\end_inset

 בתור יחס.
\end_layout

\begin_layout Itemize

\series bold
בעיית הזיהוי
\series default
 של השפה אינה ניתנת לפתרון, שכן 
\begin_inset Formula $\overline{L_{u}}\notin\text{RE}$
\end_inset

 כפי שראינו קודם.
\end_layout

\begin_layout Itemize

\series bold
בעיית החיפוש
\series default
 של השפה אינה ניתנת לפתרון.
 כדי לראות זאת, נשים לב לכך שאם בעיית החיפוש הייתה ניתנת לפתרון, זה היה
 מניב מכונה שמקבלת את השפה 
\begin_inset Formula $\overline{L_{\Sigma^{*}}}=\left\{ \left\langle M\right\rangle \ |\ L\left(M\right)\ne\Sigma^{*}\right\} $
\end_inset

; בהינתן 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, היינו מחפשים 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Formula $x\notin L\left(M\right)$
\end_inset

.
 מכאן ש-
\begin_inset Formula $\overline{L_{\Sigma^{*}}}\in\text{RE}$
\end_inset

.
 מצד שני, משפט רייס מראה מייד כי 
\begin_inset Formula $\overline{L_{\Sigma^{*}}}\notin\text{RE}$
\end_inset

.
\end_layout

\begin_layout Subsection
סיבוכיות קולמוגורוב
\end_layout

\begin_layout Standard
נעסוק כעת בבעיית חישוב פונקציה שאינה פתירה, וניתן להראות זאת באופן 
\begin_inset Quotes eld
\end_inset

ישיר
\begin_inset Quotes erd
\end_inset

, שאינו עובר דרך שימוש בבעיות הלא כריעות שכבר ראינו - הבעיה של חישוב 
\series bold
סיבוכיות קולומוגורב
\series default
 של מחרוזת.
\end_layout

\begin_layout Standard
המטרה של סיבוכיות קולומוגורב היא לתת מדד כמותי ל
\begin_inset Quotes erd
\end_inset

אקראיות
\begin_inset Quotes erd
\end_inset

 של מחרוזת - ככל שמחרוזת היא פחות תבניתית ויותר אקראית למראה, הסיבוכיות
 שלה אמורה לעלות.
 כך למשל עבור שלוש המחרוזות
\end_layout

\begin_layout Itemize
\begin_inset Formula $000000000000000000$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $010101010101010101$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $011010110010100101$
\end_inset


\end_layout

\begin_layout Standard
המחרוזת הראשונה פשוטה מאוד, השניה רק מעט יותר מורכבת, והשלישית כבר 
\begin_inset Quotes eld
\end_inset

אקראית
\begin_inset Quotes erd
\end_inset

 ללא תבנית ברורה.
\end_layout

\begin_layout Definition

\series bold
סיבוכיות קולמוגורוב
\series default
 של מחרוזת 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 המסומנת 
\begin_inset Formula $k\left(x\right)$
\end_inset

 היא מספר המצבים הקטן ביותר של מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 עם 
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} ,\Gamma=\left\{ 0,1,\flat\right\} $
\end_inset

 כך ש-
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\varepsilon$
\end_inset

 פולטת 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
מטרתנו היא להוכיח כי 
\begin_inset Formula $k\left(x\right)$
\end_inset

 אינה ניתנת לחישוב.
 אם היינו יכולים להניח כי מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 שאנו בונים יודעת את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

, ההוכחה הייתה פשוטה למדי: 
\begin_inset Formula $M$
\end_inset

 הייתה עוברת סדרתית על כל ה-
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 ומחשבת את 
\begin_inset Formula $k\left(x\right)$
\end_inset

 לכל אחד מהם.
 בהמשך נראה כי 
\begin_inset Formula $k$
\end_inset

 היא פונקציה לא חסומה, כך שמתישהו 
\begin_inset Formula $M$
\end_inset

 הייתה מוצאת 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Formula $k\left(x\right)>\left|Q_{M}\right|$
\end_inset

; בשלב זה 
\begin_inset Formula $M$
\end_inset

 הייתה עוצרת ומוציאה את 
\begin_inset Formula $x$
\end_inset

 כפלט, וכך היינו מגיעים לסתירה - כי סיבוכיות הקולמוגורב של 
\begin_inset Formula $x$
\end_inset

 היא 
\begin_inset Formula $k\left(x\right)$
\end_inset

 אבל 
\begin_inset Formula $M$
\end_inset

 היא מכונה עם 
\series bold
פחות
\series default
 מצבים מ-
\begin_inset Formula $k\left(x\right)$
\end_inset

 שפולטת את 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
בפועל אנחנו באמת יכולים להניח כי 
\begin_inset Formula $M$
\end_inset

 יודעת את 
\begin_inset Formula $\left\langle M\right\rangle $
\end_inset

; זהו תוכן 
\series bold
משפט הרקורסיה של קלייני
\series default
 שהזכרנו מוקדם יותר בקורס.
 אולם לא נניח כאן כי יש לנו אותו, ולכן ננקוט ב
\begin_inset Quotes erd
\end_inset

תעלול
\begin_inset Quotes erd
\end_inset

 טכני שמאפשר לנו להשיג אפקט דומה.
\end_layout

\begin_layout Standard
נתחיל עם הטענה הקריטית לנו - כי 
\begin_inset Formula $k$
\end_inset

 היא פונקציה לא חסומה, כך שמעבר סדרתי על כל ה-
\begin_inset Formula $x$
\end_inset

-ים וחישוב 
\begin_inset Formula $k$
\end_inset

 עבורם בהכרח יניב מספרים גדולים כרצוננו:
\end_layout

\begin_layout Claim
לכל 
\begin_inset Formula $n$
\end_inset

 טבעי קיים 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 כך ש-
\begin_inset Formula $k\left(x\right)\ge n$
\end_inset

.
\end_layout

\begin_layout Proof
קיים רק מספר סופי של מכונות טיורינג לא שקולות זו לזו עם 
\begin_inset Formula $\left|Q\right|<n$
\end_inset

, שכן מספר מכונות הטיורינג שאינן שקולות חסום על ידי מספר הקידודים של מכונות
 טיורינג, וכאשר 
\begin_inset Formula $\text{\left|\Gamma\right|,\left|Q\right|}$
\end_inset

 חסומים גם גודל הקידוד חסום.
 מכיוון שכל מכונת טיורינג מייצרת מחרוזת בודדת על 
\begin_inset Formula $\varepsilon$
\end_inset

, קיים רק מספר סופי של מחרוזות המיוצרות על ידי מ
\begin_inset Quotes erd
\end_inset

ט עם 
\begin_inset Formula $\left|Q\right|<n$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\Sigma^{*}$
\end_inset

 אינסופית, קיימת בה מחרוזת 
\begin_inset Formula $x$
\end_inset

 שאינה שייכת לקבוצה הסופית של המחרוזות המיוצרות על ידי מ
\begin_inset Quotes erd
\end_inset

ט עם 
\begin_inset Formula $\left|Q\right|<n$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת להוכחת הטענה המרכזית.
 במקום לבנות מ
\begin_inset Quotes erd
\end_inset

ט בודדת שמייצרת מחרוזת שהיא 
\begin_inset Quotes eld
\end_inset

מורכבת מדי מכדי שהמכונה תוכל לייצר אותה
\begin_inset Quotes erd
\end_inset

 )מה שדרש מהמכונה להכיר את הקידוד של עצמה(, נבנה 
\series bold
סדרה
\series default
 של מכונות, כך שמובטח לנו שאם נתקדם מספיק בסדרה נגיע אל מכונה שמייצרת מחרוזת
 
\begin_inset Quotes eld
\end_inset

מורכבת מדי
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Theorem
הפונקציה 
\begin_inset Formula $k\left(x\right)$
\end_inset

 אינה ניתנת לחישוב.
\end_layout

\begin_layout Proof
נניח ש-
\begin_inset Formula $k$
\end_inset

 ניתנת לחישוב בעזרת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $K$
\end_inset

 ונגיע לסתירה.
\end_layout

\begin_layout Proof
לכל 
\begin_inset Formula $n$
\end_inset

 טבעי, נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{n}$
\end_inset

 שפועלת כך על כל קלט:
\end_layout

\begin_deeper
\begin_layout Itemize
כותבת על הסרט את המספר 
\begin_inset Formula $n$
\end_inset

 בכתיב בינארי.
\end_layout

\begin_layout Itemize
רצה בהרצה מבוקרת על כל ה-
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 ומחשבת את 
\begin_inset Formula $k\left(x\right)$
\end_inset

 לכל 
\begin_inset Formula $x$
\end_inset

 כזה על ידי הרצת 
\begin_inset Formula $K$
\end_inset

.
\end_layout

\begin_layout Itemize
אם התגלה 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Formula $K\left(x\right)\ge n$
\end_inset

, המכונה 
\begin_inset Formula $M_{n}$
\end_inset

 עוצרת עם פלט 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
מספר המצבים של 
\begin_inset Formula $M_{n}$
\end_inset

 מורכב משלושה רכיבים:
\end_layout

\begin_layout Itemize
הרכיב שכותב 
\begin_inset Formula $n$
\end_inset

 על הסרט.
 מכיוון ש-
\begin_inset Formula $n$
\end_inset

 בכתיב בינארי הוא מאורך 
\begin_inset Formula $\lg n$
\end_inset

 אז נדרשים 
\begin_inset Formula $O\left(\lg n\right)$
\end_inset

 מצבים לצורך כך.
\end_layout

\begin_layout Itemize
הרכיב שכולל את 
\begin_inset Formula $K$
\end_inset

.
 מספר המצבים של 
\begin_inset Formula $K$
\end_inset

 אינו תלוי ב-
\begin_inset Formula $n$
\end_inset

 כך שהוא כולל 
\begin_inset Formula $O\left(1\right)$
\end_inset

 מצבים.
\end_layout

\begin_layout Itemize
הרכיב שאחראי לביצוע הרצת 
\begin_inset Formula $K$
\end_inset

 וההרצה המבוקרת על 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

.
 גם רכיב זה כולל 
\begin_inset Formula $O\left(1\right)$
\end_inset

 מצבים.
\end_layout

\begin_layout Standard
בסך הכל, מספר מצבי 
\begin_inset Formula $M_{n}$
\end_inset

 הוא 
\begin_inset Formula $O\left(\lg n\right)$
\end_inset

 ולכן הוא 
\begin_inset Formula $o\left(n\right)$
\end_inset

.
 כלומר, קיים 
\begin_inset Formula $n_{0}$
\end_inset

 כך שאם 
\begin_inset Formula $n>n_{0}$
\end_inset

 אז 
\begin_inset Formula $\left|Q_{M_{n}}\right|<n$
\end_inset

.
 מצד שני, על פי הגדרתה, 
\begin_inset Formula $M_{n}$
\end_inset

 מוציאה כפלט 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Formula $k\left(x\right)\ge n$
\end_inset

 בתנאי שקיים כזה.
 המשפט הקודם שהוכחנו הראה שתמיד קיים כזה, כך ש-
\begin_inset Formula $M_{n}$
\end_inset

 תוציא כפלט 
\begin_inset Formula $x$
\end_inset

 כך ש-
\begin_inset Formula $k\left(x\right)\ge n>\left|Q_{M_{n}}\right|$
\end_inset

 והגענו לסתירה המבוקשת.
\end_layout

\end_deeper
\begin_layout Section
מבוא לתורת הסיבוכיות
\end_layout

\begin_layout Subsection
הגדרת חישוב יעיל
\end_layout

\begin_layout Standard
עד כה כל הבעיות החישוביות שעסקנו בהן הניחו שהמשאבים שעומדים לרשות מכונת
 הטיורינג שפותרת אותן הם 
\series bold
בלתי מוגבלים
\series default
.
 כעת נעבור לעסוק בשאלה מה קורה כאשר אנו מגבילים חלק ממשאבים אלו.
 יש סוגים רבים של משאבים שניתן לעסוק בהם, אבל שני הנפוצים ביותר בתיאוריה
 של מדעי המחשב הם 
\series bold
זמן החישוב
\series default
 ו
\series bold
הזיכרון שנדרש לצורך החישוב
\series default
.
\end_layout

\begin_layout Standard
אחת מהבעיות שבהן נתקלים כשמעוניינים למדוד את צריכת המשאבים הללו של אלגוריתם
 מסויים היא שלא ברור כיצד למדוד אותם - האם זמן חישוב נמדד בשניות? אבל אם
 כן, כיצד ניתן לחשב את זמן החישוב עבור אלגוריתם נתון? האם עלינו לקודד ולהריץ
 אותו על מחשב מסוים? אבל במחשבים שונים האלגוריתם ירוץ זמנים שונים בשל יעילות
 המעבד, אופטימיזציות שמתבצעות ברמת המעבד, אופטימיזציות בזמן הקומפליצה וכיוצא
 בזה.
 אפילו תנאים חיצוניים כמו החום בסביבת המעבד עשויים להשפיע על זמן הריצה.
 מכאן הרצון למצוא הגדרה 
\series bold
תיאורטית
\series default
 של זמן ריצה, שאינה תלויה בחומרה זו או אחרת.
 מכונת טיורינג היא סביבה טבעית להגדרה כזו:
\end_layout

\begin_layout Definition

\series bold
זמן הריצה
\series default
 של מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 על קלט 
\begin_inset Formula $x$
\end_inset

 הוא מספר צעדי החישוב ש-
\begin_inset Formula $M$
\end_inset

 מבצעת על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב לכך שמספר צעדי החישוב עשוי להיות אינסופי, אבל כמובן שסיטואציה כזו
 אינה רלוונטית לנו אם אנו מעוניינים להגביל את זמן הריצה.
\end_layout

\begin_layout Standard
בעיה נוספת היא שעל פי רוב, זמן הריצה של אלגוריתם תלוי 
\series bold
בגודל הקלט
\series default
 שמוזן אליו.
 נתבונן על מ
\begin_inset Quotes erd
\end_inset

ט פשוטה במיוחד - כזה שמכריע את השפה 
\begin_inset Formula $L=\left\{ 1^{n}\ |\ n\in\mathbb{N}\right\} $
\end_inset

 של כל המחרוזות האונריות.
 על קלט 
\begin_inset Formula $x$
\end_inset

, המכונה פשוט עוברת סדרתית על כל תווי 
\begin_inset Formula $x$
\end_inset

.
 אם אחד מהם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא דוחה, ואם הגיעה אל ה-
\begin_inset Formula $\flat$
\end_inset

 שבסוף הקלט היא מקבלת.
 מה מספר צעדי החישוב של המכונה על קלט? היא מבצעת לכל היותר 
\begin_inset Formula $\left|x\right|+1$
\end_inset

 צעדים; מספר זה תלוי באורך הקלט.
 ככל שהקלט ארוך יותר, כך המכונה תבצע צעדי חישוב רבים יותר.
 באופן כללי, אם מכונה על קלט 
\begin_inset Formula $x$
\end_inset

 מבצעת פחות מ-
\begin_inset Formula $\left|x\right|$
\end_inset

 צעדי חישוב, המשמעות היא שהמכונה כלל לא קראה את כל הקלט, וזה אינו מקרה נפוץ
 במיוחד )אם כי הוא בהחלט קיים(.
 אם כן, ברור שמדידת זמן הריצה שלנו היא תמיד 
\series bold
ביחס לאורך הקלט
\series default
.
\end_layout

\begin_layout Definition
תהא 
\begin_inset Formula $f:\mathbb{N}\to\mathbb{N}$
\end_inset

 פונקציה ותהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט.
 אומרים ש-
\begin_inset Formula $M$
\end_inset

 פועלת 
\series bold
בסיבוכיות זמן ריצה
\series default
 
\begin_inset Formula $O\left(f\right)$
\end_inset

 אם לכל 
\begin_inset Formula $x$
\end_inset

, זמן ריצת 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 הוא 
\begin_inset Formula $O\left(f\left(\left|x\right|\right)\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נקודה עדינה שנובעת מהגדרת סיבוכיות זמן ריצה בתור פונקציה של אורך הקלט היא
 שיש חשיבות 
\series bold
לאופן הייצוג
\series default
 של הקלט כשאנו מנסים לקבוע אם אלגוריתם הוא יעיל או לא.
 דוגמא קלאסית היא האלגוריתם הנאיבי לבדיקת ראשוניות: עבור מספר 
\begin_inset Formula $n$
\end_inset

, ניתן לבדוק אם 
\begin_inset Formula $n$
\end_inset

 ראשוני על ידי מעבר סדרתי על כל המספרים 
\begin_inset Formula $1<k<n$
\end_inset

 ובדיקה האם 
\begin_inset Formula $k$
\end_inset

 מחלק את 
\begin_inset Formula $n$
\end_inset

.
 אם כן - דוחים, ואם לכל 
\begin_inset Formula $k$
\end_inset

 הבדיקה נכשלה, מקבלים.
 אלגוריתם זה מבצע 
\begin_inset Formula $O\left(n\right)$
\end_inset

 פעולות חלוקה ולכן הוא לכאורה יעיל, כי 
\begin_inset Quotes eld
\end_inset

זמן ריצה לינארי הוא יעיל
\begin_inset Quotes erd
\end_inset

, אך בפועל זה אלגוריתם לא יעיל מאוד.
 הסיבה לכך היא שכדי לייצג את המספר 
\begin_inset Formula $n$
\end_inset

 אנו זקוקים רק ל-
\begin_inset Formula $\lg n$
\end_inset

 ביטים, והאלגוריתמים שלנו לחיבור, כפל וכו' של מספרים פועלים בסיבוכיות 
\begin_inset Formula $O\left(\lg n\right)$
\end_inset

 ו-
\begin_inset Formula $O\left(\lg^{2}n\right)$
\end_inset

 וכדומה.
 כלומר, אם 
\begin_inset Formula $n$
\end_inset

 מיוצג בבסיס בינארי אז האלגוריתם שראינו דורש זמן אקספוננציאלי 
\series bold
בגודל הייצוג
\series default
 של 
\begin_inset Formula $n$
\end_inset

.
 לעומת זאת, אם 
\begin_inset Formula $n$
\end_inset

 מיוצג בבסיס אונרי, כלומר בתור 
\begin_inset Formula $1^{n}$
\end_inset

, אז האלגוריתם לבדיקת ראשוניות אכן יהיה 
\begin_inset Formula $O\left(n\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בעיה נוספת עם הגדרת סיבוכיות זמן ריצה היא שגם במודל האבסטרקטי של מכונת טיורינג,
 אנחנו עדיין עלולים לבצע הזנחות בעייתיות.
 למשל, בהצגה של אלגוריתם בדיקת הראשוניות אמרנו שהוא מבצע 
\begin_inset Formula $O\left(n\right)$
\end_inset

 
\begin_inset Quotes eld
\end_inset

פעולות חלוקה
\begin_inset Quotes erd
\end_inset

.
 אולם פעולת חלוקה בעצמה אינה פעולה אטומית, אלא היא דורשת פירוק לתת-פעולות,
 ויש למנות גם את תת-הפעולות הללו.
 בפועל, ברוב המקרים שבהם מנתחים סיבוכיות של אלגוריתמים הסיבוכיות נמדדת במספר
 
\begin_inset Quotes eld
\end_inset

פעולות בסיס
\begin_inset Quotes erd
\end_inset

 שהאלגוריתם מבצע, כאשר חלוקה יכולה להיחשב לפעולת בסיס שכזו; אבל בהגדרה שלנו
 פעולת הבסיס היחידה היא 
\series bold
צעד
\series default
 של מכונת טיורינג.
\end_layout

\begin_layout Standard
דוגמא קלאסית לאופן שבו ניסוח מילולי של פעולת מכונת טיורינג מסתיר תת-פעולות
 שאינן אטומיות הוא 
\begin_inset Quotes eld
\end_inset

המכונה 
\begin_inset Formula $M$
\end_inset

 תריץ את המכונה 
\begin_inset Formula $M^{\prime}$
\end_inset

 ותענה כמוה
\begin_inset Quotes erd
\end_inset

.
 כזכור, באופן שבו ביצענו הרצה מבוקרת נזקקנו למכונה רב-סרטית 
\begin_inset Formula $M$
\end_inset

 שבכל צעד חישוב שלה סורקת את כל פונקציית המעברים של 
\begin_inset Formula $M^{\prime}$
\end_inset

.
 סריקה שכזו גורמת לניפוח בזמן הריצה, שכן בריצה של מכונת טיורינג רגילה, פונקציית
 המעברים 
\begin_inset Quotes eld
\end_inset

מופעלת אוטומטית
\begin_inset Quotes erd
\end_inset

 בלי שיתבצעו צעדי חישוב כלשהם.
\end_layout

\begin_layout Standard
גם עצם השימוש במכונה רב-סרטית מסתיר חיסכון בזמן ריצה; האופן שבו מכונה חד-סרטית
 מסמלצת ריצת מכונה רב-סרטית יוצר גם הוא גידול בזמן הריצה.
 פירוש הדבר הוא שהגדרת זמן הריצה שנתנו היא 
\series bold
תלויה במודל
\series default
 של מכונת הטיורינג שאיתו אנחנו עובדים.
 טבעי לבחור בתור מודל את המכונה הפשוטה ביותר, החד-סרטית; אבל אז, כאשר אנו
 מתארים אלגוריתמים בצורה מילולית, זמן הריצה שנתאר לא יהיה מדויק.
\end_layout

\begin_layout Standard
ניתן להתמודד עם קשיים אלו, אך לא נעשה זאת בקורס, זאת מכיוון שההגדרה של זמן
 חישוב 
\series bold
יעיל
\series default
 שבה נשתמש מאפשרת להתעלם מכל ההבדלים הללו.
 לפני שנציג הגדרה זו ניתן מוטיבציה אחת נוספת לשימוש בה.
\end_layout

\begin_layout Standard
כזכור, רדוקציה 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 מאפשרת לנו להכריע את השפה 
\begin_inset Formula $L_{1}$
\end_inset

 אם בידינו אלגוריתם שמכריע את 
\begin_inset Formula $L_{2}$
\end_inset

.
 היינו רוצים להשתמש ברדוקציות גם בהקשר של סיבוכיות זמן ריצה, באופן הבא:
 אם בידינו אלגוריתם יעיל להכרעת 
\begin_inset Formula $L_{2}$
\end_inset

 ואנו יודעים לחשב ביעילות את הרדוקציה מ-
\begin_inset Formula $L_{1}$
\end_inset

 אל 
\begin_inset Formula $L_{2}$
\end_inset

, אז גם 
\begin_inset Formula $L_{1}$
\end_inset

 ניתנת לפתרון ביעילות.
 כעת, אם קיבלנו קלט 
\begin_inset Formula $x$
\end_inset

 שעלינו להכריע אם הוא שייך ל-
\begin_inset Formula $L_{1}$
\end_inset

, אחרי הפעלת הרדוקציה נקבל פלט 
\begin_inset Formula $y=f\left(x\right)$
\end_inset

.
 אורכו של 
\begin_inset Formula $y$
\end_inset

 עשוי להיות גדול מאורכו של 
\begin_inset Formula $x$
\end_inset

.
 זמן הריצה של האלגוריתם היעיל להכרעת 
\begin_inset Formula $L_{2}$
\end_inset

 נמדד ביחס לאורך של 
\begin_inset Formula $y$
\end_inset

, לא של 
\begin_inset Formula $x$
\end_inset

.
 מכך נובע שהמושג שלנו של 
\begin_inset Quotes eld
\end_inset

זמן ריצה יעיל
\begin_inset Quotes erd
\end_inset

 צריך להיות סגור ל
\series bold
הרכבה
\series default
: אם 
\begin_inset Formula $a,b$
\end_inset

 הן שתי פונקציות שמתארות זמן ריצה יעיל, גם 
\begin_inset Formula $b\circ a$
\end_inset

 צריכה לתאר זמן ריצה יעיל, שכן זה עשוי להיות זמן הריצה שנדרש כדי להכריע
 את 
\begin_inset Formula $L_{1}$
\end_inset

.
\end_layout

\begin_layout Standard
למשל, אם נקבע ש
\begin_inset Quotes erd
\end_inset

זמן ריצה יעיל
\begin_inset Quotes erd
\end_inset

 הוא זמן ריצה 
\begin_inset Formula $O\left(n^{2}\right)$
\end_inset

, אז אחרי הפעלת 
\begin_inset Formula $f$
\end_inset

 אנו עלולים לקבל פלט 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left|y\right|=\left|x\right|^{2}$
\end_inset

, ואז הכרעת 
\begin_inset Formula $L_{2}$
\end_inset

 עלולה לדרוש זמן ריצה 
\begin_inset Formula $O\left(\left|y\right|^{2}\right)=O\left(\left|x\right|^{4}\right)$
\end_inset

, ואנו נדחפים לכך שגם 
\begin_inset Formula $O\left(n^{4}\right)$
\end_inset

 ייחשב זמן ריצה יעיל, ובצורה זו אנו מגיעים לכך ש-
\begin_inset Formula $O\left(n^{c}\right)$
\end_inset

 ייחשב זמן ריצה יעיל לכל 
\begin_inset Formula $c\in\mathbb{N}$
\end_inset

.
 זו אכן ההגדרה שבה נשתמש:
\end_layout

\begin_layout Definition
מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 תיקרא 
\series bold
פולינומית
\series default
 או 
\series bold
יעילה
\series default
 אם קיים 
\begin_inset Formula $c\in\mathbb{N}$
\end_inset

 כך ש-
\begin_inset Formula $M$
\end_inset

 פועלת בסיבוכיות זמן ריצה 
\begin_inset Formula $O\left(n^{c}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
מכאן ואילך נתבסס בצורה אינטנסיבית על הגדרה זו ל
\begin_inset Quotes erd
\end_inset

יעילות
\begin_inset Quotes erd
\end_inset

 ולכן מוטב לזכור את הסיגים המתבקשים אליה:
\end_layout

\begin_layout Itemize
לא כל אלגוריתם 
\begin_inset Quotes eld
\end_inset

יעיל
\begin_inset Quotes erd
\end_inset

 ייתפס על ידינו כיעיל בפועל.
 אלגוריתם עם סיבוכיות זמן ריצה של 
\begin_inset Formula $O\left(n^{100}\right)$
\end_inset

 בהחלט עשוי להיות בלתי פרקטי בעליל לכל צורך מעשי.
 כדי להבין מדוע זה עדיין מתקבל על הדעת, נזכור שמטרתנו בהמשך תהיה להוכיח
 שבעיות מסויימות הן )בסבירות גדולה( 
\series bold
לא יעילות
\series default
, כלומר ש
\series bold
אפילו
\series default
 אלגוריתם בסיבוכיות 
\begin_inset Formula $O\left(n^{100}\right)$
\end_inset

 הוא יותר ממה שניתן לקוות לו עבורן.
\end_layout

\begin_layout Itemize
בהחלט 
\series bold
קיימים
\series default
 אלגוריתמים שאנחנו משתמשים בהם בפועל שפועלים בסיבוכיות ריצה שאינה פולינומית.
 דוגמא מפורסמת היא 
\series bold
אלגוריתם הסימפלקס
\series default
 לפתרון בעיות תכנון לינארי, אך נזכיר מקרים נוספים בהמשך.
\end_layout

\begin_layout Itemize
בהמשך לנקודה הקודמת, האופן שבו אנו מודדים זמן ריצה הוא ביחס 
\series bold
למקרה הגרוע ביותר
\series default
.
 בפועל, המקרה הגרוע ביותר אינו בהכרח מעיד על המקרה הממוצע, או המקרה הנפוץ
 בפועל; אבל מושג לא מוגדר היטב כמו 
\begin_inset Quotes eld
\end_inset

המקרה הנפוץ בפועל
\begin_inset Quotes erd
\end_inset

 מונע מאיתנו ניתוח תיאורטי מלכתחילה, כך שאנו מתמקדים בדברים שאנו כן יכולים
 לדבר עליהם ונזהרים לא לייחס להם משמעות גדולה יותר מדי.
\end_layout

\begin_layout Definition
)מחלקות חישוב יעיל(
\end_layout

\begin_deeper
\begin_layout Itemize
המחלקה 
\begin_inset Formula $\text{P}$
\end_inset

 היא אוסף השפות שקיימת מכונת טיורינג פולינומית 
\begin_inset Formula $M$
\end_inset

 המקבלת אותן.
\end_layout

\begin_layout Itemize
המחלקה 
\begin_inset Formula $\text{POLY}$
\end_inset

 היא אוסף הפונקציות שקיימת מכונת טיורינג פולינומית 
\begin_inset Formula $M$
\end_inset

 המחשבת אותן.
\end_layout

\end_deeper
\begin_layout Standard
נשים לב שחסם על זמן ריצה של מכונה גורר אוטומטית את העצירה שלה על כל קלט,
 ולכן:
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{P}\subseteq\text{R}$
\end_inset

 ואם 
\begin_inset Formula $f\in\text{POLY}$
\end_inset

 אז 
\begin_inset Formula $f$
\end_inset

 מלאה.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $L\in\text{P}$
\end_inset

 ותהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט פולינומית כך ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $M$
\end_inset

 פולינומית, היא עוצרת על כל קלט ולכן 
\begin_inset Formula $M$
\end_inset

 מכריעה את 
\begin_inset Formula $L$
\end_inset

 ו-
\begin_inset Formula $L\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $f\in\text{POLY}$
\end_inset

 ותהא 
\begin_inset Formula $M$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט פולינומית כך ש-
\begin_inset Formula $f_{M}=f$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $M$
\end_inset

 פולינומית, היא עוצרת על כל קלט ולכן 
\begin_inset Formula $f$
\end_inset

 מוגדרת על כל קלט.
\end_layout

\begin_layout Standard
עם זאת, נשים לב לכך שהטענה 
\begin_inset Formula $L\in\text{P}$
\end_inset

 אין משמעותה ש
\series bold
כל
\series default
 מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

 מכריעה את 
\begin_inset Formula $L$
\end_inset

.
 למשל, עבור 
\begin_inset Formula $L=\emptyset$
\end_inset

 המכונה שדוחה מייד כל קלט היא מ
\begin_inset Quotes erd
\end_inset

ט פולינומית עבור 
\begin_inset Formula $L$
\end_inset

, אך גם המכונה שאינה עוצרת כלל לכל קלט.
\end_layout

\begin_layout Standard
אילו בעיות שאנו מכירים שייכות ל-
\begin_inset Formula $\text{P}$
\end_inset

? למשל, רוב הבעיות שנלמדות בקורס סטנדטי של אלגוריתמים בתורת הגרפים:
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
יהא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף.
 בקורס זה נניח כי גרפים מיוצגים על ידי רשימה מפורשת של אברי 
\begin_inset Formula $V$
\end_inset

 ואוסף הקשתות 
\begin_inset Formula $E$
\end_inset

, כך ש-
\begin_inset Formula $\left|V\right|,\left|E\right|=O\left(\left|G\right|\right)$
\end_inset

 )זאת להבדיל מייצוגים מובלעים של גרפים שבהם גודל הייצוג של הגרף עשוי להיות
 קטן משמעותית ממספר צמתיו/קשתותיו; נציג דוגמא לסיטואציה כזו בהמשך הקורס(.
\end_layout

\begin_layout Standard
תחת הנחת ייצוג זו, בעיות ההכרעה הבאות שייכות ל-
\begin_inset Formula $\text{P}$
\end_inset

:
\end_layout

\begin_layout Itemize
האם 
\begin_inset Formula $G$
\end_inset

 קשיר או לא.
\end_layout

\begin_layout Itemize
האם קיים מסלול ב-
\begin_inset Formula $G$
\end_inset

 בין הצמתים 
\begin_inset Formula $a,b$
\end_inset

.
\end_layout

\begin_layout Itemize
בהינתן פונקציית משקל על קשתות 
\begin_inset Formula $G$
\end_inset

, האם קיים מסלול ב-
\begin_inset Formula $G$
\end_inset

 בין הצמתים 
\begin_inset Formula $a,b$
\end_inset

 ממשקל קטן מערך נתון.
\end_layout

\begin_layout Itemize
בהינתן פונקציית משקל על קשתות 
\begin_inset Formula $G$
\end_inset

, האם קיים ל-
\begin_inset Formula $G$
\end_inset

 עץ פורש ממשקל קטן מערך נתון.
\end_layout

\begin_layout Itemize
בהינתן רשת זרימה 
\begin_inset Formula $\left(G,s,t,c\right)$
\end_inset

, האם קיימת זרימה ברשת מערך גדול או שווה לערך נתון.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
תהא 
\begin_inset Formula $L$
\end_inset

 שפה סופית כלשהי, אז 
\begin_inset Formula $L\in\text{P}$
\end_inset

.
 כדי לראות זאת נתבונן על מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שמכילה את רשימת כל המילים ב-
\begin_inset Formula $L$
\end_inset

 ועל קלט 
\begin_inset Formula $x$
\end_inset

 עוברת אחת-אחת על כל המילים ב-
\begin_inset Formula $L$
\end_inset

 ומשווה אותן ל-
\begin_inset Formula $x$
\end_inset

.
 זמן הריצה של המכונה הזו הוא 
\begin_inset Formula $O\left(1\right)$
\end_inset

; הוא אינו תלוי באורך 
\begin_inset Formula $x$
\end_inset

, שכן אין צורך לעבור על כל 
\begin_inset Formula $x$
\end_inset

 כדי לבצע השוואה כזו; אם הגענו לסופה של מילה ב-
\begin_inset Formula $L$
\end_inset

 ולא הגענו לסופו של 
\begin_inset Formula $x$
\end_inset

 ניתן להחזיר את הראש לתחילת הסרט ולעבור להשוואה עם המילה הבאה.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
השפה 
\begin_inset Formula $\text{PRIMES}=\left\{ n\in\mathbb{N}\ |\ n\text{ is prime}\right\} $
\end_inset

 שייכת ל-
\begin_inset Formula $\text{P}$
\end_inset

.
 תוצאה זו הייתה במשך שנים רבות בעיה פתוחה, עד המאמר 
\begin_inset Quotes eld
\end_inset


\lang english
PRIMES in P
\lang hebrew

\begin_inset Quotes erd
\end_inset

 משנת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2002
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Agrawal, Kayal, Saxena
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)האלגוריתם במאמר נקרא אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
AKS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על שמם(.
\end_layout

\begin_layout Subsection
המחלקה 
\begin_inset Formula $\text{NP}$
\end_inset


\end_layout

\begin_layout Subsubsection
מבוא
\end_layout

\begin_layout Standard

\series bold
סודוקו
\series default
 הוא משחק לשחקן יחיד שבו לוח 
\begin_inset Formula $9\times9$
\end_inset

 משבצות, והמטרה היא למלא את כל משבצות הלוח במספרים בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\numeric on
9
\numeric off
, כך שבכל שורה ועמודה כל המספרים יהיו שונים זה מזה, מה שמכונה במתמטיקה 
\series bold
ריבוע לטיני
\series default
.
 בנוסף לכך בסודוקו קיים עוד אילוץ: מחלקים את הלוח ל-
\numeric on
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תתי-ריבועים של 
\begin_inset Formula $3\times3$
\end_inset

 והדרישה היא שגם בכל אחד מהם כל המספרים יהיו שונים זה מזה.
\end_layout

\begin_layout Standard
קל לבנות לוח סודוקו שעומד בכל הדרישות הללו, ולכן משחק סודוקו כולל אתגר נוסף:
 
\series bold
חלק
\series default
 ממשבצות הלוח כבר מכילות מספרים, ויש 
\series bold
להשלים
\series default
 את הלוח תוך שמירה על מספרים אלו.
 בחירה שונה של מצב התחלתי של הלוח מניבה חידת סודוקו אחרת.
\end_layout

\begin_layout Standard
פתרון חידת סודוקו כולל הפעלה של כללי אלימינציה פשוטים )למשל, אם המשבצת שלנו
 נמצאת בשורה שבה כבר מופיע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
, אסור למשבצת שלנו להכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
( אבל בפתרון חידות סודוקו מדי פעם נקלעים למצב שבו חייבים 
\begin_inset Quotes eld
\end_inset

לנחש
\begin_inset Quotes erd
\end_inset

: לכתוב מספר באחת המשבצות, לבדוק אם אפשר לפתור את הלוח בסיוע מהלך זה, ואם
 הגענו למבוי סתום - למחוק את המספר שכתבנו ולנסות אחר.
 ברור שניחוש לבדו לא יאפשר לנו לפתור את חידת הסודוקו - יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות לכל משבצת, כך שניחוש של 
\begin_inset Formula $n$
\end_inset

 משבצות מוביל ל-
\begin_inset Formula $9^{n}$
\end_inset

 אפשרויות שונות שחייבים לבדוק, וזהו מספר אקספוננציאלי שהופך לבלתי סביר מהר
 מאוד; אלימינציה דטרמיניסטית כלשהי היא הכרחית.
\end_layout

\begin_layout Standard
אם כן, הקושי של משחק סודקו אינו לגמרי ברור ונראה שהוא נעוץ במספר הפעמים
 שבהן ניאלץ 
\begin_inset Quotes eld
\end_inset

לנחש
\begin_inset Quotes erd
\end_inset

, אבל בסודוקו כן יש אספקט שבו הוא פשוט מאוד: אם בעיית סודוקו כבר נפתרה,
 
\series bold
קל
\series default
 לנו לבדוק שהפתרון הוא אכן לגיטימי ולא כולל 
\begin_inset Quotes eld
\end_inset

רמאויות
\begin_inset Quotes erd
\end_inset

.
 כל שאנו נדרשים לעשות הוא לבדוק את הלוח שהוא הפתרון: להסתכל על כל שורה,
 עמודה ותת-ריבוע ולוודא שכל המספרים בהם שונים זה מזה, ולוודא שכל משבצת שכללה
 מספר בחידה המקורית כוללת את אותו מספר גם בפתרון.
 בדיקות אלו מתבצעות בצורה ישירה ובזמן קצר.
\end_layout

\begin_layout Standard
משחק הסודוקו הוא דוגמא טיפוסית למה שנכנה בהמשך 
\begin_inset Quotes eld
\end_inset

בעיית 
\begin_inset Formula $\text{NP}$
\end_inset


\begin_inset Quotes erd
\end_inset

 - בעיה חישובית שעשויה להיות קשה לפתרון, אבל קל לבדוק לה פתרון.
 בעיות אלו צצות בכל תחומי מדעי המחשב, לעתים קרובות בהקשרים פרקטיים מאוד,
 ולכן השאלה האם 
\series bold
לכל
\series default
 בעיה ב-
\lang english

\begin_inset Formula $\text{NP}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קיים פתרון יעיל היא מעניינת; כל כך מעניינת, עד שהיא זכתה למעמד של הבעיה
 הפתוחה המרכזית של מדעי המחשב התיאורטיים - בעיית 
\begin_inset Formula $\text{P=NP}$
\end_inset

.
\end_layout

\begin_layout Subsubsection
הגדרה פורמלית
\end_layout

\begin_layout Standard
כזכור, עסקנו קודם בבעיות 
\series bold
זיהוי וחיפוש
\series default
 של יחסים.
 נרצה לחזור להגדרות אלו גם בהקשר של סיבוכיות זמן יעילה.
 האינטואיציה שלנו היא שיחס 
\begin_inset Formula $S\subseteq\Sigma^{*}\times\Sigma^{*}$
\end_inset

 מתאר זוגות 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 של 
\begin_inset Quotes eld
\end_inset

בעיה
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

פתרון
\begin_inset Quotes erd
\end_inset

 עבורה.
 למשל, 
\begin_inset Formula $x$
\end_inset

 יכול לקודד לוח סודוקו, ו-
\begin_inset Formula $y$
\end_inset

 הוא פתרון מוצע עבורו.
 בעיית הזיהוי האם 
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 היא הבעיה של 
\series bold
בדיקת פתרון
\series default
 ובעיית החיפוש שבה בהינתן 
\begin_inset Formula $x$
\end_inset

 יש למצוא 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 היא הבעיה של 
\series bold
מציאת פתרון
\series default
.
 
\end_layout

\begin_layout Definition
יחס 
\begin_inset Formula $S$
\end_inset

 הוא 
\series bold
ניתן לזיהוי פולינומי
\series default
 )או 
\series bold
ניתן לזיהוי יעיל
\series default
( אם 
\begin_inset Formula $S\in\text{P}$
\end_inset

.
\end_layout

\begin_layout Standard
כשהגדרנו את בעיית החיפוש בהקשר של מכונות טיורינג שאינן מוגבלות בזמן, הרשנו
 למכונה לא לעצור אם אין לה פלט מתאים להוציא.
 בהקשר של מכונות עם חסמי זמן ריצה עלינו להשתמש בהגדרה עדינה יותר:
\end_layout

\begin_layout Definition
יחס 
\begin_inset Formula $S$
\end_inset

 הוא 
\series bold
ניתן לחיפוש פולינומי
\series default
 )או 
\series bold
ניתן לחיפוש יעיל
\series default
( אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $M$
\end_inset

 עם מצבים סופיים 
\begin_inset Formula $F=\left\{ q_{acc},q_{rej}\right\} $
\end_inset

 כך שלכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Itemize
אם לא קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 אז 
\begin_inset Formula $M$
\end_inset

 עוצרת במצב 
\begin_inset Formula $q_{rej}$
\end_inset

.
\end_layout

\begin_layout Itemize
אחרת, המכונה עוצרת במצב 
\begin_inset Formula $q_{acc}$
\end_inset

 עם פלט 
\begin_inset Formula $y$
\end_inset

 כלשהו כך ש-
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
עם זאת, קיימת נקודה עדינה נוספת שעלינו להתייחס אליה.
 מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $M$
\end_inset

 שבודקת האם 
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 צריכה להיות פולינומית בגודל הקלט; במקרה זה, הקלט כולל הן את 
\begin_inset Formula $x$
\end_inset

 והן את 
\begin_inset Formula $y$
\end_inset

, כך ש-
\begin_inset Formula $M$
\end_inset

 צריכה להיות פולינומית ב-
\begin_inset Formula $\left|x\right|+\left|y\right|$
\end_inset

.
 זה פותח פתח לסיטואציה אבסורדית שבה 
\begin_inset Formula $x$
\end_inset

 מייצג בעיה מורכבת כלשהי )נאמר, לוח סודוקו( אבל 
\begin_inset Formula $y=1^{n}$
\end_inset

 הוא פשוט מחרוזת ארוכה מאוד של 
\begin_inset Formula $1$
\end_inset

-ים.
 בהינתן 
\begin_inset Formula $y$
\end_inset

 ארוך מאוד, מכונה 
\begin_inset Formula $M$
\end_inset

 יכולה לפתור את 
\begin_inset Formula $x$
\end_inset

 פשוט על ידי ביצוע חיפוש ממצה על כל האפשרויות, גם אם מספר האפשרויות הוא
 אקספוננציאלי ב-
\begin_inset Formula $\left|x\right|$
\end_inset

.
 אנו מעוניינים למנוע סיטואציה כזו; אנו רוצים ש-
\begin_inset Formula $y$
\end_inset

 יסייע לנו בבדיקת 
\begin_inset Formula $x$
\end_inset

 בזכות תוכן אינפורמטיבי שיש בו, לא בגלל שהוא מאפשר לנו לבצע מניפולציה של
 הגדרת המושג 
\begin_inset Quotes eld
\end_inset

יעיל
\begin_inset Quotes erd
\end_inset

.
 לכן נוסיף עוד דרישה:
\end_layout

\begin_layout Definition
יחס 
\begin_inset Formula $S\subseteq\Sigma^{*}\times\Sigma^{*}$
\end_inset

 הוא 
\series bold
חסום פולינומית
\series default
 אם קיים פולינום 
\begin_inset Formula $p$
\end_inset

 כך שלכל 
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 מתקיים 
\begin_inset Formula $\left|y\right|\le p\left(\left|x\right|\right)$
\end_inset

.
\end_layout

\begin_layout Standard
אם יחס אינו חסום פולינומית, בהחלט ייתכן שהוא יהיה ניתן לזיהוי יעיל אבל לא
 לחיפוש יעיל, מהסיבה הטריוויאלית הבאה: אם 
\begin_inset Formula $\left|y\right|$
\end_inset

 הוא אקספוננציאלי ב-
\begin_inset Formula $\left|x\right|$
\end_inset

, אז בהינתן קלט 
\begin_inset Formula $x$
\end_inset

, מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $M$
\end_inset

 לא תוכל לפלוט את 
\begin_inset Formula $y$
\end_inset

 פשוט כי אין לה מספיק זמן לכתוב את כל 
\begin_inset Formula $y$
\end_inset

 לסרט.
\end_layout

\begin_layout Standard
כאשר אנו מוסיפים את הדרישה ש-
\begin_inset Formula $S$
\end_inset

 יהיה חסום פולינומית אנו מנטרלים את המקרים הללו, ונשארים עם השאלה הבאה:
\end_layout

\begin_layout Itemize
בהינתן יחס חסום פולינומית 
\begin_inset Formula $S$
\end_inset

, האם העובדה ש-
\begin_inset Formula $S$
\end_inset

 ניתן לזיהוי יעיל תמיד גוררת ש-
\begin_inset Formula $S$
\end_inset

 ניתן לחיפוש יעיל?
\end_layout

\begin_layout Standard
זוהי 
\series bold
שאלה פתוחה
\series default
 השקולה לשאלת 
\begin_inset Formula $\text{P=NP}$
\end_inset

 שנציג בקרוב; נוכיח את השקילות בהמשך.
\end_layout

\begin_layout Standard
נעבור כעת להגדרת המחלקה 
\begin_inset Formula $\text{NP}$
\end_inset

.
 זוהי מחלקה של 
\series bold
שפות
\series default
, כלומר של בעיות הכרעה.
 למשל, האם בהינתן לוח סודוקו בכלל קיים לו פתרון:
\end_layout

\begin_layout Definition
שפה 
\begin_inset Formula $L$
\end_inset

 שייכת למחלקה 
\begin_inset Formula $\text{NP}$
\end_inset

 אם קיים יחס 
\begin_inset Formula $R_{L}$
\end_inset

 כך ש:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $R_{L}$
\end_inset

 ניתן לזיהוי פולינומי.
\end_layout

\begin_layout Itemize
\begin_inset Formula $R_{L}$
\end_inset

 חסום פולינומית.
\end_layout

\begin_layout Itemize
\begin_inset Formula $L=\left\{ x\in\Sigma^{*}\ |\ \exists y\in\Sigma^{*}:\left(x,y\right)\in R_{L}\right\} $
\end_inset


\end_layout

\begin_layout Subsubsection
דוגמאות
\end_layout

\end_deeper
\begin_layout Paragraph*
מסלולים המילטוניים
\end_layout

\begin_layout Standard
בהינתן גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

, 
\series bold
מסלול המילטוני
\series default
 בגרף הוא מסלול שעובר בכל צומת בגרף בדיוק פעם אחת ויחידה.
 נסמן ב-
\begin_inset Formula $\text{HL}$
\end_inset

 את שפת כל הגרפים שיש בהם מסלול המילטוני.
\end_layout

\begin_layout Standard
נגדיר יחס 
\begin_inset Formula $R_{\text{HL}}$
\end_inset

 עבור השפה.
 היחס יכלול את כל הזוגות 
\begin_inset Formula $\left(G,p\right)$
\end_inset

 של גרף 
\begin_inset Formula $G$
\end_inset

 ומסלול המילטוני 
\begin_inset Formula $p$
\end_inset

 בו.
 בבירור 
\begin_inset Formula $\text{HL}=\left\{ G\ |\ \exists p:\left(G,p\right)\in R_{\text{HL}}\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב לכך שמסלול המילטוני הוא פשוט סדרה של אברי 
\begin_inset Formula $V$
\end_inset

 מאורך 
\begin_inset Formula $\left|V\right|$
\end_inset

, כך שזהו יחס חסום פולינומית ב-
\begin_inset Formula $\left|G\right|$
\end_inset

.
\end_layout

\begin_layout Standard
היחס 
\begin_inset Formula $R_{\text{HL}}$
\end_inset

 ניתן לזיהוי פולינומי שכן בהינתן 
\begin_inset Formula $p$
\end_inset

 מספיק מעבר אחד עליו כדי לקבוע את העובדות הבאות:
\end_layout

\begin_layout Itemize
כל 
\begin_inset Formula $v\in V$
\end_inset

 מופיע ב-
\begin_inset Formula $p$
\end_inset

 בדיוק פעם אחת )ניתן לתחזק מערך שמונה לכל 
\begin_inset Formula $v\in V$
\end_inset

 את מספר המופעים שלו ב-
\begin_inset Formula $p$
\end_inset

(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $p=v_{1},v_{2},\ldots,v_{n}$
\end_inset

 אז לכל 
\begin_inset Formula $1\le i<n$
\end_inset

 מתקיים 
\begin_inset Formula $\left(p_{i},p_{i+1}\right)\in E$
\end_inset

.
\end_layout

\begin_layout Paragraph*
שפות ב-
\lang english
P
\end_layout

\begin_layout Claim
אם 
\begin_inset Formula $L\in\text{P}$
\end_inset

 אז 
\begin_inset Formula $L\in\text{NP}$
\end_inset

, כלומר 
\begin_inset Formula $\text{P}\subseteq\text{NP}$
\end_inset

.
\end_layout

\begin_layout Proof
נתבונן ביחס 
\begin_inset Formula $R_{L}=\left\{ \left(x,\varepsilon\right)\ |\ x\in L\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
בבירור 
\begin_inset Formula $L=\left\{ x\in\Sigma^{*}\ |\ \exists y\in\Sigma^{*}:\left(x,y\right)\in R_{L}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
היחס 
\begin_inset Formula $R_{L}$
\end_inset

 חסום פולינומית כי אם 
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

 אז 
\begin_inset Formula $\left|y\right|=\left|\varepsilon\right|=0=p\left(\left|x\right|\right)$
\end_inset

 כאשר 
\begin_inset Formula $p$
\end_inset

 הוא פולינום האפס.
\end_layout

\begin_layout Proof
היחס 
\begin_inset Formula $R_{L}$
\end_inset

 ניתן לזיהוי פולינומי כי בהינתן 
\begin_inset Formula $\left(x,y\right)$
\end_inset

, בדיקה ש-
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

 כוללת בדיקה ש-
\begin_inset Formula $y=\varepsilon$
\end_inset

 )טריוויאלי( ובדיקה ש-
\begin_inset Formula $x\in L$
\end_inset

 )ניתן לביצוע בזמן פולינומי 
\begin_inset Formula $L\in\text{P}$
\end_inset

(.
\end_layout

\begin_layout Paragraph*
סודוקו
\end_layout

\begin_layout Standard
דוגמת הסודוקו שבה פתחנו היא למעשה מקרה מנוון 
\series bold
מדי
\series default
 מכדי שיהיה מעניין בזכות עצמו בהקשר התיאורטי שלנו.
 אם ננסה להגדיר את 
\begin_inset Quotes eld
\end_inset

שפת הסודוקו
\begin_inset Quotes erd
\end_inset

 בתור שפת כל הלוחות 
\begin_inset Formula $9\times9$
\end_inset

 שממולאים באופן חלקי וניתנים להשלמה בצורה חוקית, התוצאה תהיה שפה 
\series bold
סופית
\series default
 שכן מספרם הכולל של כל הלוחות המלאים חלקית הוא בדיוק 
\begin_inset Formula $10^{81}$
\end_inset

 )בלוח
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
81
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
משבצות ויש לנו בחירה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ערכים לכל משבצת; או שתישאר ריקה, או עם מספר מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\numeric off
(.
 כפי שכבר ראינו, כל שפה סופית היא באופן טריוויאלי ב-
\begin_inset Formula $\text{P}$
\end_inset

 )ולכן גם ב-
\begin_inset Formula $\text{NP}$
\end_inset

(.
\end_layout

\begin_layout Standard
זוהי 
\begin_inset Quotes eld
\end_inset

בעיה
\begin_inset Quotes erd
\end_inset

 נפוצה מאוד בכל סיטואציה שבה אנו עוסקים בבעיה קונקרטית אחת שגודלה חסום.
 הדרך להתמודד עם הסיטואציה היא 
\series bold
הכללה
\series default
 של הבעיה לגודל לא חסום.
 במקרה של סודוקו, לכל 
\begin_inset Formula $n\in\mathbb{N}$
\end_inset

 ניתן להגדיר בעיית סודוקו הכוללת לוח בגודל 
\begin_inset Formula $n^{2}\times n^{2}$
\end_inset

 כך שיש למלא אותו במספרים מהתחום 
\begin_inset Formula $\left\{ 1,2,\ldots,n^{2}\right\} $
\end_inset

 כך שכל שורה ועמודה כוללת את כל המספרים מקבוצה זו, ובנוסף לכך מחלקים את
 הלוח ל-
\begin_inset Formula $n^{2}$
\end_inset

 תתי-ריבועים מגודל 
\begin_inset Formula $n^{2}$
\end_inset

 כל אחד שגם בהם צריכים כל המספרים להיות שונים זה מזה.
 סודוקו 
\begin_inset Quotes eld
\end_inset

רגיל
\begin_inset Quotes erd
\end_inset

 מתקבל עבור 
\begin_inset Formula $n=3$
\end_inset

.
\end_layout

\begin_layout Standard
בעיית הסודוקו המוכללת בבירור שייכת ל-
\begin_inset Formula $\text{NP}$
\end_inset

; היחס יכלול זוגות 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 של לוח ממולא חלקית 
\begin_inset Formula $x$
\end_inset

 ולוח מלא לגמרי 
\begin_inset Formula $y$
\end_inset

 שזהה ל-
\begin_inset Formula $x$
\end_inset

 בכל המשבצות של 
\begin_inset Formula $x$
\end_inset

 שאינן ריקות, וממולא על פי כללי הסודוקו.
\end_layout

\begin_layout Subsubsection
הגדרה אלטרנטיבית - מכונות אי-דטרמיניסטיות
\end_layout

\begin_layout Standard
שם המחלקה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
P
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מגיע מהמילה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Polynomial
\lang hebrew
.
 מהיכן מגיע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
? שגיאה רווחת היא לומר שמקור השם הוא ב-
\lang english
Non-Polynomial
\lang hebrew
, כלומר בעיות שאינן פתירות בזמן פולינומי, אך ממה שראינו עד כה ברור כי זה
 אינו נכון )בהמשך, כשנדבר על בעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות, יהיה קצת יותר ברור מדוע יש כאלו שעושים טעות שכזו(.
\end_layout

\begin_layout Standard
מקור ה-
\lang english
NP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא בביטוי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nondeterministic Polynomial
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמתייחס לאופן המקורי שבו הוגדרה המחלקה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
באמצעות 
\series bold
מכונות טיורינג אי דטרמיניסטיות
\series default
.
 השימוש במושג זה פחת מאוד בשנים שעברו מאז, שכן הוא מבלבל יותר וריאליסטי
 פחות מאשר הגדרה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתור 
\begin_inset Quotes eld
\end_inset

בעיות שקל לבדוק פתרונות עבורן
\begin_inset Quotes erd
\end_inset

, אך נציג גם אותו כדי להכיר את המושג.
 השורה התחתונה הרלוונטית היא ש
\series bold
שתי ההגדרות הן שקולות 
\series default
והשקילות היא מאוד פשוטה, עד שההבדלים בין שתי ההגדרות הם בעיקר אשליה אופטית.
\end_layout

\begin_layout Standard
הרעיון במ
\begin_inset Quotes erd
\end_inset

ט אי-דטרמיניסטית הוא לאפשר למכונה בכל צעד שלה לבחור בין 
\series bold
שתי
\series default
 דרכי פעולה אפשריות.
 משמעות הדבר היא שעל אותו קלט, למכונה יש חישובים פוטנציאליים אפשריים רבים.
 חלק מהחישובים הללו עשויים להסתיים בקבלה, חלקם בדחיה וחלקם עלולים לא להסתיים
 כלל.
 המוסכמה שאנו עובדים לפיה היא שמילה תהיה שייכת לשפת המכונה אם 
\series bold
קיים
\series default
 מסלול חישוב אחד לפחות שמסתיים בקבלה של המילה.
\end_layout

\begin_layout Definition

\series bold
מכונת טיורינג אי דטרמיניסטית
\series default
 מוגדרת בדומה למכונת טיורינג רגילה, פרט להגדרת פונקציית המעברים, שמוגדרת
 בתור 
\begin_inset Formula 
\begin{align*}
\delta:Q\times\Gamma & \to\left(Q\times\Gamma\times\left\{ L,R,S\right\} \right)^{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Definition

\series bold
חישוב
\series default
 של המכונה הוא סדרת קונפיגורציות כך שמכל קונפיגורציה ניתן להגיע אל הבאה
 אליה על ידי בחירה של אחד משני אברי הזוג 
\begin_inset Formula $\delta\left(q,\sigma\right)=\left(\left(p_{1},\tau_{1},X_{1}\right),\left(p_{2},\tau_{2},X_{2}\right)\right)$
\end_inset

 ושינוי הקונפיגורציה בהתאם אליו.
\end_layout

\begin_layout Definition
עבור מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 נסמן ב-
\begin_inset Formula $L\left(M\right)$
\end_inset

 את אוסף המילים 
\begin_inset Formula $w$
\end_inset

 כך שקיים חישוב של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 שמסתיים ב-
\begin_inset Formula $q_{acc}$
\end_inset

.
\end_layout

\begin_layout Definition
נאמר שמ
\begin_inset Quotes erd
\end_inset

ט אי דטרמיניסטית 
\begin_inset Formula $M$
\end_inset

 היא 
\series bold
פולינומית
\series default
 אם קיים פולינום 
\begin_inset Formula $p$
\end_inset

 כך ש
\series bold
כל
\series default
 מסלול חישוב שלה על 
\begin_inset Formula $w$
\end_inset

 מסתיים לאחר לכל היותר 
\begin_inset Formula $p\left(\left|w\right|\right)$
\end_inset

 צעדים.
\end_layout

\begin_layout Standard
בצורה לא פורמלית, נאמר ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
מקבלת
\series default
 את 
\begin_inset Formula $w$
\end_inset

 אם היא מקבלת את 
\begin_inset Formula $w$
\end_inset

 במסלול חישוב ספציפי כלשהו, ונאמר ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
לא מקבלת
\series default
 את 
\begin_inset Formula $w$
\end_inset

 אם כל מסלול חישוב של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 מסתיים בדחיית 
\begin_inset Formula $w$
\end_inset

 או שאינו מסתיים כלל.
\end_layout

\begin_layout Standard
נשים לב לכך ש-
\begin_inset Formula $M$
\end_inset

 
\series bold
אינה
\series default
 מכונה הסתברותית.
 במכונה הסתברותית, עבור כל מילה 
\begin_inset Formula $w$
\end_inset

 קיימת הסתברות כלשהי ש-
\begin_inset Formula $M$
\end_inset

 תדחה או תקבל את 
\begin_inset Formula $w$
\end_inset

; עבור מכונה אי דטרמיניסטית הגדרנו ש-
\begin_inset Formula $M$
\end_inset

 תקבל את 
\begin_inset Formula $w$
\end_inset

 אם קיים ולו מסלול אחד שמקבל את 
\begin_inset Formula $w$
\end_inset

.
 אם מסכימים לוותר על הריאליזם, ניתן לדמיין את 
\begin_inset Formula $M$
\end_inset

 בתור מכונה בעלת 
\begin_inset Quotes eld
\end_inset

מטבע קסם
\begin_inset Quotes erd
\end_inset

 כך שבכל צעד שלה היא מטילה אותו ובוחרת את המשך צעדיה לפי התוצאה; הקסם של
 המטבע מתבטא בכך שאם קיימת דרך כלשהי להגיע אל קבלת 
\begin_inset Formula $w$
\end_inset

, מטבע הקסם יבחר אותה.
\end_layout

\begin_layout Standard
דרך לא ריאליסטית נוספת להתבונן על 
\begin_inset Formula $M$
\end_inset

 היא בתור מכונה שעובדת במספר 
\begin_inset Quotes eld
\end_inset

יקומים מקבילים
\begin_inset Quotes erd
\end_inset

, ומקבלת את המילה אם קיים ולו יקום אחד שבו היא קיבלה אותו.
\end_layout

\begin_layout Standard
בגישה ריאליסטית, ניתן לבצע סימולציה של ריצה של מכונה אי-דטרמיניסטית על ידי
 כך שבכל שלב של הסימולציה, אנו שומרים את הקונפיגורציה הנוכחית של כל אחד
 מה
\begin_inset Quotes erd
\end_inset

יקומים המקבילים
\begin_inset Quotes erd
\end_inset

 שבהם המכונה נמצאת; בכל צעד מספר הקונפיגורציות שעלינו לשמור יוכפל ב-
\numeric on
2
\numeric off
.
 זוהי גישה בזבזנית מאוד, אך היא ניתנת לביצוע.
\end_layout

\begin_layout Standard
נדמיין כעת מכונת טיורינג רגילה שבנוסף לסרט הרגיל שלה יש לה גם סרט מיוחד
 הנקרא 
\begin_inset Quotes eld
\end_inset

סרט האי-דטרמיניזם
\begin_inset Quotes erd
\end_inset

 וכולל מחרוזת של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
-ים ו-
\numeric on
1
\numeric off
-ים אשר כבר קיימת באופן פלאי על הסרט בתחילת הריצה על 
\begin_inset Formula $w$
\end_inset

.
 בכל צעד שלה, המכונה קובעת את הצעד הבא שלה לא רק על פי 
\begin_inset Formula $\left(q,\sigma\right)$
\end_inset

 אלא גם על פי התו הנוכחי שהיא קוראת בסרט האי-דטרמיניזם; עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תתבצע בחירה אחת, ועבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בחירה אחרת, ולאחר מכן המכונה תעבור לתו הבא בסרט האי-דטרמיניזם.
 מכונה כזו מזכירה מאוד את המודל האי דטרמיניסטי, פרט לכך שהיא מקבלת 
\series bold
מראש
\series default
 את כל המידע האי דטרמיניסטי על סרט האי-דטרמיניזם שלה, בעוד המכונה האי-דטרמיניסטי
ת מחליטה 
\begin_inset Quotes eld
\end_inset

על המקום
\begin_inset Quotes erd
\end_inset

 בכל צעד באיזו גישה לנקוט.
\end_layout

\begin_layout Standard
האם יש הבדל מהותי בין שתי גישות אלו? רק במקרים שבהם המכונה רצה עד אינסוף,
 אבל מקרים אלו אינם מעניינים ממילא שכן המכונה אינה מקבלת בהם את הקלט.
 דה פקטו שתי הגישות שקולות; אולם הגישה השניה, עם 
\begin_inset Quotes eld
\end_inset

סרט האי-דטרמיניזם
\begin_inset Quotes erd
\end_inset

 היא פשוט גישת היחסים הניתנים לזיהוי: עבור הזוג 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 אפשר לחשוב על 
\begin_inset Formula $x$
\end_inset

 בתור הקלט למכונה האי-דטרמיניסטית ועל 
\begin_inset Formula $y$
\end_inset

 בתור תוכן סרט האי-דטרמיניזם.
\end_layout

\begin_layout Standard
זה מוביל אותנו למשפט הבא:
\end_layout

\begin_layout Theorem
תהא 
\begin_inset Formula $L$
\end_inset

 שפה.
 
\begin_inset Formula $L\in\text{NP}$
\end_inset

 אם ורק אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט אי דטרמיניסטית פולינומית 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L=L\left(M\right)$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון אחד, אם 
\begin_inset Formula $L\in\text{NP}$
\end_inset

 אז קיים יחס 
\begin_inset Formula $R_{L}$
\end_inset

 חסום פולינומית עם פולינום 
\begin_inset Formula $p$
\end_inset

 וניתן לזיהוי פולינומי המגדיר את 
\begin_inset Formula $L$
\end_inset

.
\end_layout

\begin_layout Proof
נבנה מכונה א
\begin_inset Quotes erd
\end_inset

ד 
\begin_inset Formula $M$
\end_inset

 אשר פועלת כך על קלט 
\begin_inset Formula $x$
\end_inset

: ראשית, מייצרת בצורה אי-דטרמיניסטית מחרוזת 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left|y\right|\le p\left(\left|x\right|\right)$
\end_inset

, כך שכל מחרוזת העונה על מגבלת האורך הזה עשויה להיווצר.
 שנית, בודקת בזמן פולינומי האם 
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

.
 אם כן - מקבלת.
 אחרת - דוחה.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $x\in L$
\end_inset

 אם ורק אם קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left|y\right|\le p\left(\left|x\right|\right)$
\end_inset

 וגם 
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

, הרי ש-
\begin_inset Formula $M$
\end_inset

 תקבל את 
\begin_inset Formula $x$
\end_inset

 אם ורק אם 
\begin_inset Formula $x\in L$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $q$
\end_inset

 הוא הפולינום החוסם את זמן בדיקת השייכות ל-
\begin_inset Formula $R_{L}$
\end_inset

 הרי שזמן ריצת המכונה שלנו חסום על ידי 
\begin_inset Formula $q\left(\left|x\right|+\left|y\right|\right)=q\left(\left|x\right|+p\left(\left|x\right|\right)\right)$
\end_inset

 וזה זמן פולינומי כי פולינומים סגורים להרכבה.
\end_layout

\begin_layout Proof
בכיוון השני, אם קיימת מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 אי-דטרמיניסטית כך ש-
\begin_inset Formula $L=L\left(M\right)$
\end_inset

 אז נגדיר יחס 
\begin_inset Formula $R_{L}$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

 אם ורק אם 
\begin_inset Formula $y$
\end_inset

 הוא סדרת בחירות אי-דטרמיניסטיות ש-
\begin_inset Formula $M$
\end_inset

 מקיימת בריצה שלה על 
\begin_inset Formula $x$
\end_inset

 שמסתיימת בקבלת 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Proof
בבירור 
\begin_inset Formula $L=\left\{ x\in\Sigma^{*}\ |\ \exists y\in\Sigma^{*}:\left(x,y\right)\in R_{L}\right\} $
\end_inset

 על פי הגדרת הקבלה של מכונה אי-דטרמיניסטית )היא מקבלת את 
\begin_inset Formula $x$
\end_inset

 אם ורק אם קיימת סדרת בחירות א
\begin_inset Quotes erd
\end_inset

ד שמובילה למצב מקבל(.
\end_layout

\begin_layout Proof
היחס 
\begin_inset Formula $R_{L}$
\end_inset

 חסום פולינומית שכן 
\begin_inset Formula $M$
\end_inset

 היא פולינומית ולכן זמן הריצה שלה )ומכאן - מספר הבחירות האי דטרמיניסטיות
 שהיא מבצעת( הוא פולינומי.
\end_layout

\begin_layout Proof
היחס 
\begin_inset Formula $R_{L}$
\end_inset

 ניתן לזיהוי פולינומי שכן בהינתן 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 ניתן לבצע סימולציה של 
\begin_inset Formula $M$
\end_inset

 כאשר הבחירות האי-דטרמיניסטיות של 
\begin_inset Formula $M$
\end_inset

 נקראות ישירות מתוך 
\begin_inset Formula $y$
\end_inset

, ולענות כמוה.
\end_layout

\begin_layout Standard
הצגנו מכונות אי-דטרמיניסטיות בהקשר של חישובים יעילים, אבל היינו יכולים להציג
 אותן גם בחלקו הראשון של הקורס.
 הוכחה דומה לזו שראינו מראה כי מחלקת השפות המתקבלות על ידי מכונות אי דטרמיניסטיו
ת ללא חסמי סיבוכיות זמן ריצה היא 
\begin_inset Formula $\text{RE}$
\end_inset

.
\end_layout

\begin_layout Subsection
שאלת
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
P=NP
\end_layout

\begin_layout Standard
ראינו כבר כי 
\begin_inset Formula $\text{P}\subseteq\text{NP}$
\end_inset

.
 השאלה האם 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 - כלומר, האם העובדה שבעיה ניתנת ל
\series bold
וידוא יעיל
\series default
 גוררת שהיא ניתנת ל
\series bold
פתרון יעיל
\series default
 היא שאלה פתוחה.
 ההשערה המקובלת בקרב רוב )אך לא כל( מדעני המחשב היא כי 
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

 אך אנחנו טרם יודעים כיצד להוכיח זאת.
\end_layout

\begin_layout Standard
כפי שנראה בהמשך, קיים מספר רב מאוד של בעיות, הנקראות 
\begin_inset Quotes eld
\end_inset

בעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות
\begin_inset Quotes erd
\end_inset

, כך שפתרון יעיל 
\series bold
לאחת
\series default
 מבעיות אלו יוכיח ש-
\begin_inset Formula $\text{P=NP}$
\end_inset

.
 למרות שבעיות אלו נמצאות במרכזם של תחומים רבים, ונעשים נסיונות בלתי פוסקים
 לשפר את האלגוריתמים שבהם אנו משתמשים לפתרונן, עד היום לא נמצא לצורך כך
 אף אלגוריתם יעיל מספיק במקרה הגרוע כדי להראות שבעיה כזו שייכת ל-
\begin_inset Formula $\text{P}$
\end_inset

.
 זה מטיל צל על ההיתכנות של 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
\end_layout

\begin_layout Standard
מן העבר השני, מדוע קשה להוכיח ש-
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

 אם זהו המצב? ראינו את הוכחתו של טיורינג לכך ש-
\begin_inset Formula $\text{R}\ne\text{RE}$
\end_inset

; נסיונות להשתמש באותה הוכחה, או בוריאציות עליה, עבור 
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

 נידונות לכישלון; קיימות הוכחות לכך ששיטות כאלו )לאחר שיוגדר היטב מה הכוונה
 ב
\begin_inset Quotes erd
\end_inset

שיטות כאלו
\begin_inset Quotes erd
\end_inset

( אינן מסוגלות להוכיח ש-
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

.
 התחושה המקובלת היא שעל מנת להתמודד עם 
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

 אנו זקוקים לגישה חדשה במתמטיקה, כזו שעדיין אינה בהישג ידינו, בדומה לאופן
 שבו תעלומת 
\begin_inset Quotes eld
\end_inset

המשפט האחרון של פרמה
\begin_inset Quotes erd
\end_inset

 שנולדה במאה ה-
\numeric on
17
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נפתרה רק עם כלים מתמטיים של המאה ה-
\numeric on
20
\numeric off
.
\end_layout

\begin_layout Standard
כזכור, ראינו בחלקו הקודם של הקורס כי אם יחס הוא ניתן לזיהוי, אז הוא ניתן
 לחיפוש.
 ההוכחה הייתה 
\begin_inset Quotes eld
\end_inset

בזבזנית
\begin_inset Quotes erd
\end_inset

 מבחינת זמן ריצה, אך הדבר לא הפריע לנו.
 אותה 
\begin_inset Quotes eld
\end_inset

בזבזנות
\begin_inset Quotes erd
\end_inset

 בהקשר הנוכחי שלנו מתבטאת בכך שהשאלה האם זיהוי יעיל גורר חיפוש יעיל היא
 
\series bold
שקולה
\series default
 לשאלת 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
 החיסכון המפתיע ב
\begin_inset Quotes erd
\end_inset

בזבזנות
\begin_inset Quotes erd
\end_inset

 ש-
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 יאפשר לנו, יחול גם על בעיית החיפוש היעיל.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 אם ורק אם כל יחס 
\begin_inset Formula $S$
\end_inset

 חסום פולינומית הניתן לזיהוי יעיל, ניתן לחיפוש יעיל.
\end_layout

\begin_layout Proof
)כיוון אחד(: נניח כי כל יחס 
\begin_inset Formula $S$
\end_inset

 חסום פולינומית הניתן לזיהוי יעיל, ניתן לחיפוש יעיל ונוכיח כי 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
 תהא 
\begin_inset Formula $L\in\text{NP}$
\end_inset

, אז קיים יחס 
\begin_inset Formula $R_{L}$
\end_inset

 הניתן לזיהוי יעיל, חסום פולינומית ומקיים 
\begin_inset Formula $L=\left\{ x\in\Sigma^{*}\ |\ \exists y\in\Sigma^{*}:\left(x,y\right)\in R_{L}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
על פי ההנחה שלנו, מכיוון ש-
\begin_inset Formula $R_{L}$
\end_inset

 ניתן לזיהוי יעיל, הוא ניתן לחיפוש יעיל.
 תהא 
\begin_inset Formula $M$
\end_inset

 מכונה שמבצעת חיפוש יעיל שכזה.
 
\end_layout

\begin_layout Proof
נשים לב לכך ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

 בשל האופן המדויק שבו הגדרנו את מושג החיפוש היעיל:
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $x\in L$
\end_inset

 אז קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in R_{L}$
\end_inset

.
 על פי הגדרתה, 
\begin_inset Formula $M$
\end_inset

 תסיים את החישוב על 
\begin_inset Formula $x$
\end_inset

 במקרה זה במצב 
\begin_inset Formula $q_{acc}$
\end_inset

 )ובנוסף לכך תחזיר פלט, אך איננו מתעניינים בו כאן שכן אנו רק צריכים לקבל
 או לדחות את 
\begin_inset Formula $x$
\end_inset

(.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $x\notin L$
\end_inset

 אז על פי הגדרתה, 
\begin_inset Formula $M$
\end_inset

 מסיימת את החישוב על 
\begin_inset Formula $x$
\end_inset

 במצב 
\begin_inset Formula $q_{rej}$
\end_inset

, כלומר דוחה את 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
מכאן ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

, ובנוסף לכך 
\begin_inset Formula $M$
\end_inset

 פולינומית, כך שקיבלנו ש-
\begin_inset Formula $L\in\text{P}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
כיוון זה של ההוכחה היה פשוט יחסית, אבל הכיוון השני מורכב יותר ולכן לפני
 שנוכיח אותו נפתח עם אינטואיציה בסיוע משחק הסודוקו שכבר ראינו.
\end_layout

\begin_layout Standard
כשחושבים על סודוקו כבעית חיפוש, הקלט 
\begin_inset Formula $x$
\end_inset

 הוא לוח מלא בחלקו במספרים, והפלט 
\begin_inset Formula $y$
\end_inset

 הוא אותו לוח, כאשר כל המשבצות הריקות מולאו בצורה חוקית.
 השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SUDOKU
\lang hebrew
 שמוגדרת על ידי בעיית הסודוקו היא שפת כל הלוחות החלקיים ש
\series bold
ניתן להשלים
\series default
 לפתרון מלא.
\end_layout

\begin_layout Standard
בבירור 
\begin_inset Formula $\text{SUDOKU}\in\text{NP}$
\end_inset

 בסיוע היחס שתיארנו זה עתה.
 לכן, אם 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

, נזכה ביכולת לקבוע, על ידי מבט על לוח חלקי, אם ניתן להשלים אותו לפתרון
 מלא.
 כיצד יכולת זו עוזרת לנו 
\series bold
למצוא
\series default
 פתרון?
\end_layout

\begin_layout Standard
בהינתן הלוח 
\begin_inset Formula $x$
\end_inset

, נפעל כך: ראשית נבדוק האם 
\begin_inset Formula $x\in\text{SUDOKU}$
\end_inset

, כלומר האם 
\begin_inset Formula $x$
\end_inset

 פתיר בכלל, אחרת אפשר פשוט לדחות.
 כעת, משידוע לנו ש-
\begin_inset Formula $x$
\end_inset

 פתיר, נעבור סדרתית על כל המשבצות הריקות ב-
\begin_inset Formula $x$
\end_inset

.
 לכל משבצת כזו, ננסה להציב בה את כל המספרים מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\numeric off
.
 לכל הצבה כזו נקבל לוח חדש 
\begin_inset Formula $x^{\prime}$
\end_inset

, וכעת נבדוק האם 
\begin_inset Formula $x^{\prime}\in\text{SUDOKU}$
\end_inset

.
 כלומר, האם גם אחרי המספר שהצבנו במשבצת הלוח נותר פתיר.
 אם הוא נותר פתיר, נעבור הלאה אל המשבצת הבאה; אחרת נמחק את המספר שהצבנו
 בתא וננסה מספר אחר.
 מכיוון ש-
\begin_inset Formula $x$
\end_inset

 פתיר 
\series bold
מובטח לנו
\series default
 כי לפחות אחת מההצבות תצליח ותותיר את הלוח פתיר; כעת נמשיך לפעול באותו אופן
 על הלוח 
\begin_inset Formula $x^{\prime}$
\end_inset

 שהתקבל מההצבה המוצלחת, וכן הלאה - עד אשר נקבל לוח מלא.
\end_layout

\begin_layout Standard
הסיבה שהאלגוריתם כולו הוא פולינומי, היא שבכל שלב של האלגוריתם אנחנו צריכים
 לבחור בין מספר קטן יחסית של אפשרויות )במקרה שלנו מספר קבוע:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות(, ואחרי כל בחירה של אפשרות אנחנו מקבלים בזמן פולינומי פידבק האם
 זו הייתה בחירה מוצלחת או לא.
 בצורה זו אנו נבדלים מהסיטואציה הרגילה, שבה אחרי בחירה כזו ייתכן שהיה עלינו
 להמשיך לשחק עוד ועוד, ולבצע עוד בחירות רבות, לפני שהיינו משתכנעים שהבחירה
 שלנו הייתה לא מוצלחת.
 במקרה הרגיל היה עלינו 
\series bold
לטייל בעומק עץ המשחק
\series default
 ואילו בסיוע 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 הצלחנו 
\begin_inset Quotes eld
\end_inset

לקטום
\begin_inset Quotes erd
\end_inset

 את עץ המשחק ומספיק לנו בכל שלב להציץ צעד אחד קדימה.
\end_layout

\begin_layout Standard
סודוקו הוא דוגמא למקרה פשוט במיוחד, הסיטואציה הכללית יותר מסובכת מעט יותר,
 ואת זאת ניתן להדגים בעזרת בעיית המסלול ההמילטוני.
 הקלט לבעיית המסלול ההמילטוני הוא גרף 
\begin_inset Formula $G$
\end_inset

 ותו לא; הגרף אינו כבר 
\begin_inset Quotes eld
\end_inset

פתור חלקית
\begin_inset Quotes erd
\end_inset

 כפי שקורה בסודוקו.
 עם זאת, ניתן להסתכל על בעיה דומה מאוד: במקום שהקלט יהיה 
\begin_inset Formula $G$
\end_inset

, הוא יהיה זוג 
\begin_inset Formula $\left(G,p^{\prime}\right)$
\end_inset

 שכולל גרף 
\begin_inset Formula $G$
\end_inset

 ו
\series bold
התחלה
\series default
 של מסלול 
\begin_inset Formula $p^{\prime}$
\end_inset

 בו, כאשר השאלה שיש לענות עליה היא האם ניתן 
\series bold
להמשיך
\series default
 את המסלול 
\begin_inset Formula $p^{\prime}$
\end_inset

 עד אשר יתקבל מסלול המילטוני.
 בעיה זו נפתרת באותה גישת חיפוש כמו בעיית הסודוקו: בכל שלב נבחר צומת אחד
 להוסיף למסלול הקיים, ונבדוק האם התוצאה ניתנת להשלמה למסלול המילטוני.
 אם כן, נמשיך עם הצומת שבחרנו ואחרת ננסה צומת אחר.
\end_layout

\begin_layout Standard
ההוכחה הפורמלית היא שילוב של שתי הטכניקות שראינו: המעבר אל בעיית הכרעה שכוללת
 בתוכה גם פתרון חלקי, וההרחבה הסדרתית של פתרון חלקי בעזרת חיפוש של 
\begin_inset Quotes eld
\end_inset

הצעד הבא
\begin_inset Quotes erd
\end_inset

.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Proof
)כיוון שני(: נניח כי 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
 יהא 
\begin_inset Formula $S$
\end_inset

 יחס הניתן לזיהוי פולינומי; נוכיח כי הוא ניתן לחיפוש פולינומי.
\end_layout

\begin_layout Proof
נגדיר את השפה הבאה: 
\begin_inset Formula $L=\left\{ \left(x,y^{\prime}\right)\ |\ \exists y^{\prime\prime}:\left(x,y^{\prime}y^{\prime\prime}\right)\in S\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
נראה כי 
\begin_inset Formula $L\in\text{NP}$
\end_inset

: מכונת טיורינג אי דטרמיניסטית שבהינתן 
\begin_inset Formula $\left(x,y^{\prime}\right)$
\end_inset

 מנחשת מחרוזת 
\begin_inset Formula $y^{\prime\prime}$
\end_inset

 שהיא פולינומית ב-
\begin_inset Formula $\left|x\right|$
\end_inset

 ומפעילה את המכונה שמזהה את 
\begin_inset Formula $S$
\end_inset

 על 
\begin_inset Formula $\left(x,y^{\prime}y^{\prime\prime}\right)$
\end_inset

 בבירור מקבלת את השפה 
\begin_inset Formula $L$
\end_inset

 והיא פולינומית מכיון שניחוש 
\begin_inset Formula $y^{\prime\prime}$
\end_inset

 שהוא פולינומי ב-
\begin_inset Formula $\left|x\right|$
\end_inset

 הוא פולינומי ב-
\begin_inset Formula $\left|x\right|+\left|y^{\prime}\right|$
\end_inset

, והרצת המכונה שמזהה את 
\begin_inset Formula $S$
\end_inset

 על 
\begin_inset Formula $\left(x,y^{\prime}y^{\prime\prime}\right)$
\end_inset

 היא פולינומית ב-
\begin_inset Formula $\left|x\right|$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון שהנחנו כי 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

, נקבל ש-
\begin_inset Formula $L\in\text{P}$
\end_inset

.
 תהא 
\begin_inset Formula $M_{L}$
\end_inset

 מכונה פולינומית המכריעה את 
\begin_inset Formula $L$
\end_inset

.
 נראה כיצד להשתמש בה כדי לבנות מכונה 
\begin_inset Formula $M$
\end_inset

 שתבצע חיפוש פולינומי של היחס 
\begin_inset Formula $S$
\end_inset

.
\end_layout

\begin_layout Proof
בהינתן קלט 
\begin_inset Formula $x$
\end_inset

, המכונה 
\begin_inset Formula $M$
\end_inset

 תבצע את התהליך האיטרטיבי הבא:
\end_layout

\begin_deeper
\begin_layout Enumerate
)בדיקה ראשונית(: הרץ את 
\begin_inset Formula $M_{L}$
\end_inset

 על 
\begin_inset Formula $\left(x,\varepsilon\right)$
\end_inset

.
 אם 
\begin_inset Formula $M_{L}$
\end_inset

 דחתה, דוחים )עוברים למצב 
\begin_inset Formula $q_{rej}$
\end_inset

(.
\end_layout

\begin_layout Enumerate
)אתחול( 
\begin_inset Formula $y\leftarrow\varepsilon$
\end_inset

.
\end_layout

\begin_layout Enumerate
)תנאי עצירה( בדוק האם 
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 באמצעות המכונה המזהה את 
\begin_inset Formula $S$
\end_inset

.
 אם כן, הוצא את הפלט 
\begin_inset Formula $y$
\end_inset

 ועבור למצב 
\begin_inset Formula $q_{acc}$
\end_inset

.
\end_layout

\begin_layout Enumerate
)צעד(: לכל 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
הגדר 
\begin_inset Formula $y^{\prime}\leftarrow y\sigma$
\end_inset

.
\end_layout

\begin_layout Enumerate
הרץ את 
\begin_inset Formula $M_{L}$
\end_inset

 על 
\begin_inset Formula $\left(x,y^{\prime}\right)$
\end_inset

.
 אם 
\begin_inset Formula $M_{L}$
\end_inset

 קיבלה, קבע 
\begin_inset Formula $y\leftarrow y^{\prime}$
\end_inset

 וחזור לשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
\end_layout

\end_deeper
\end_deeper
\begin_layout Proof
המכונה 
\begin_inset Formula $M$
\end_inset

 פותרת את בעיית החיפוש של 
\begin_inset Formula $S$
\end_inset

.
\end_layout

\begin_layout Proof
ראשית, אם לא קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 אז מהגדרת 
\begin_inset Formula $L$
\end_inset

 נקבל ש-
\begin_inset Formula $\left(x,\varepsilon\right)\notin L$
\end_inset

 ולכן 
\begin_inset Formula $M$
\end_inset

 תעבור ל-
\begin_inset Formula $q_{rej}$
\end_inset

, כנדרש.
\end_layout

\begin_layout Proof
הדרך הנוספת שבה 
\begin_inset Formula $M$
\end_inset

 עשויה לעצור היא בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
 מכיוון שזה מתבצע רק אם 
\begin_inset Formula $\left(x,y\right)\in S$
\end_inset

 כאשר 
\begin_inset Formula $y$
\end_inset

 הוא פלט המכונה בשלב זה, ברור ש
\series bold
אם
\series default
 המכונה עוצרת, היא עונה נכון.
 מה שנותר להראות הוא שאם קיים 
\begin_inset Formula $z$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,z\right)\in S$
\end_inset

 אז המכונה תעצור אחרי מספר פולינומי של צעדים.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על מספר החזרות על שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כי בתחילת שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תמיד מתקיים שקיים 
\begin_inset Formula $y^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,yy^{\prime}\right)\in S$
\end_inset

.
 במילים אחרות, שתמיד מתקיים ש-
\begin_inset Formula $\left(x,y\right)\in L$
\end_inset

.
\end_layout

\begin_layout Proof
עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
חזרות, 
\begin_inset Formula $y=\varepsilon$
\end_inset

 .
 מכיוון ששלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הסתיים בקבלת 
\begin_inset Formula $\left(x,\varepsilon\right)$
\end_inset

 הטענה נכונה במקרה זה.
\end_layout

\begin_layout Proof
נניח שהטענה הייתה נכונה עבור 
\begin_inset Formula $n$
\end_inset

 חזרות ונוכיח עבור 
\begin_inset Formula $n+1$
\end_inset

: בתחילת שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
, 
\begin_inset Formula $\left(x,y\right)\in L$
\end_inset

 על פי הנחת האינדוקציה.
 אם בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
 
\begin_inset Formula $M_{L}$
\end_inset

 קיבלה את 
\begin_inset Formula $\left(x,y^{\prime}\right)$
\end_inset

 עבור 
\begin_inset Formula $y^{\prime}$
\end_inset

 כלשהו, אז מכיוון שמייד אחר כך הוגדר 
\begin_inset Formula $y=y^{\prime}$
\end_inset

 והאלגוריתם עבר לשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
 נקבל ש-
\begin_inset Formula $\left(x,y\right)\in L$
\end_inset

.
\end_layout

\begin_layout Proof
נניח בשלילה שבשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\numeric off
 
\begin_inset Formula $M_{L}$
\end_inset

 דחתה את 
\series bold
כל
\series default
 ה-
\begin_inset Formula $y^{\prime}$
\end_inset

 האפשריים.
 כלומר, את כל הזוגות 
\begin_inset Formula $\left(x,y\sigma\right)$
\end_inset

 עבור 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון שעל פי הנחת האינדוקציה 
\begin_inset Formula $\left(x,y\right)\in L$
\end_inset

 אז קיים 
\begin_inset Formula $y^{\prime}$
\end_inset

 כך ש-
\begin_inset Formula $\left(x,yy^{\prime}\right)\in S$
\end_inset

.
 נתבונן על האות הראשונה של 
\begin_inset Formula $y^{\prime}$
\end_inset

: 
\begin_inset Formula $y^{\prime}=\sigma y^{\prime\prime}$
\end_inset

.
 אז על פי הגדרה, 
\begin_inset Formula $\left(x,y\sigma\right)\in L$
\end_inset

 שכן 
\begin_inset Formula $\left(x,y\sigma\cdot y^{\prime\prime}\right)\in S$
\end_inset

.
 זאת בסתירה לכך ש-
\begin_inset Formula $M_{L}$
\end_inset

 דחתה את 
\begin_inset Formula $\left(x,y\sigma\right)$
\end_inset

.
 מכאן שמקרה זה הוא בלתי אפשרי, וסיימנו את ההוכחה.
\end_layout

\begin_layout Standard
כעת נוכל להציג טענה דומה ופשוטה יותר, שעוסקת בחישוב פונקציות:
\end_layout

\begin_layout Claim
תהא 
\begin_inset Formula $f:\Sigma^{*}\to\Sigma^{*}$
\end_inset

 פונקציה מלאה.
 אז 
\begin_inset Formula $f\in\text{POLY}$
\end_inset

 אם ורק אם 
\begin_inset Formula $f$
\end_inset

 חסומה פולינומית )כלומר 
\begin_inset Formula $\left|f\left(x\right)\right|\le p\left(\left|x\right|\right)$
\end_inset

 עבור פולינום 
\begin_inset Formula $p$
\end_inset

 כלשהו( וגם 
\begin_inset Formula $L_{f}^{\prime}\in\text{P}$
\end_inset

 כאשר 
\begin_inset Formula $L_{f}^{\prime}=\left\{ \left(x,y^{\prime}\right)\ |\ \exists y^{\prime\prime}\in\Sigma^{*}:f\left(x\right)=y^{\prime}y^{\prime\prime}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
הרעיון דומה מאוד להוכחה שכבר ראינו.
 מצד אחד, אם 
\begin_inset Formula $f\in\text{POLY}$
\end_inset

 ברור שהיא חסומה פולינומית כי מ
\begin_inset Quotes erd
\end_inset

ט עם חסם זמן ריצה 
\begin_inset Formula $p$
\end_inset

 שרצה על קלט 
\begin_inset Formula $x$
\end_inset

 יכולה להוציא לפלט לכל היותר 
\begin_inset Formula $p\left(\left|x\right|\right)$
\end_inset

 תווים.
 בנוסף, כדי לבדוק האם 
\begin_inset Formula $\left(x,y^{\prime}\right)\in L_{f}^{\prime}$
\end_inset

 בזמן פולינומי פשוט מחשבים את 
\begin_inset Formula $f\left(x\right)$
\end_inset

 ובודקים האם 
\begin_inset Formula $y^{\prime}$
\end_inset

 סיפא של התוצאה.
\end_layout

\begin_layout Proof
הכיוון השני הוא המסובך יותר: אם 
\begin_inset Formula $f$
\end_inset

 חסומה פולינומית ו-
\begin_inset Formula $L_{f}^{\prime}$
\end_inset

, אז כדי לחשב את 
\begin_inset Formula $f\left(x\right)$
\end_inset

 נפעל כך: נגדיר 
\begin_inset Formula $y^{\prime}=\varepsilon$
\end_inset

 ובאופן אינדוקטיבי, נבדוק לכל 
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

 האם 
\begin_inset Formula $\left(x,y^{\prime}\sigma\right)\in L_{f}^{\prime}$
\end_inset

.
 אם מצאנו 
\begin_inset Formula $\sigma$
\end_inset

 כזה, נגדיר 
\begin_inset Formula $y^{\prime}\leftarrow y^{\prime}\sigma$
\end_inset

 ונמשיך; אם לא מצאנו 
\begin_inset Formula $\sigma$
\end_inset

 כזה אז 
\begin_inset Formula $f\left(x\right)=y^{\prime}$
\end_inset

.
 בסך הכל נדרשות 
\begin_inset Formula $\left|f\left(x\right)\right|$
\end_inset

 איטרציות שבכל אחת מהן בודקים לכל היותר 
\begin_inset Formula $\left|\Sigma\right|$
\end_inset

 אפשרויות כשכל בדיקה מתבצעת בזמן פולינומי - בסך הכל פולינומי.
\end_layout

\begin_layout Section
בעיות
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות
\end_layout

\begin_layout Subsection
מבוא
\end_layout

\begin_layout Standard
בחלקו הראשון של הקורס ראינו שתי מחלקות: 
\begin_inset Formula $\text{R},\text{RE}$
\end_inset

 ובחלקו השני ראינו שתי מחלקות: 
\begin_inset Formula $\text{P},\text{NP}$
\end_inset

.
 היחס בין אברי הזוג הראשון זהה ליחס בין אברי הזוג השני, אך כפי שראינו -
 יש לנו הוכחה פשוטה ש-
\begin_inset Formula $\text{R}\ne\text{RE}$
\end_inset

 אך אין לנו הוכחה ש-
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

.
\end_layout

\begin_layout Standard
בחלקו הראשון של הקורס ראינו כי 
\begin_inset Formula $\text{HP}\notin\text{R}$
\end_inset

 ואז הוכחנו באמצעותה עבור שפות נוספת שהן אינן ב-
\begin_inset Formula $\text{R}$
\end_inset

 על ידי כך שהראינו 
\series bold
רדוקציה
\series default
 
\begin_inset Formula $\text{HP}\le L$
\end_inset

.
 בחלק השני של הקורס לא ברור מאליו מה הגרסה המקבילה ל-
\begin_inset Formula $\text{HP}$
\end_inset

 שבה נרצה להשתמש - אם אין לנו שפה ב-
\begin_inset Formula $\text{NP}$
\end_inset

 שאנו יודעים שאינה ב-
\begin_inset Formula $\text{P}$
\end_inset

, מה כן יש לנו? מתברר שעדיין יש לנו משהו - שפות כך ש
\series bold
אם
\series default
 
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

 אז 
\series bold
בודאות
\series default
 הן אינן שייכות ל-
\begin_inset Formula $\text{P}$
\end_inset

.
\end_layout

\begin_layout Standard
נפתח בהגדרת התכונה המדויקת של שפות אלו שתעניין אותנו ולאחר מכן נציג דוגמאות
 רבות.
 גם כאן, כמו בחלק הראשון של הקורס, הכלי המרכזי שבו נשתמש יהיה 
\series bold
רדוקציה
\series default
, אלא שעלינו להתאים את ההגדרה להקשר של זמן הריצה הפולינומי שמאפיין את 
\begin_inset Formula $\text{P}$
\end_inset

.
\end_layout

\begin_layout Definition
יהיו 
\begin_inset Formula $L_{1},L_{2}\subseteq\Sigma^{*}$
\end_inset

 שפות כלשהן.
 
\series bold
רדוקציה פולינומית
\series default
 מ-
\begin_inset Formula $L_{1}$
\end_inset

 אל 
\begin_inset Formula $L_{2}$
\end_inset

 היא פונקציה 
\begin_inset Formula $f:\Sigma^{*}\to\Sigma^{*}$
\end_inset

 כך ש-
\begin_inset Formula $f\in\text{POLY}$
\end_inset

 המקיימת
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
x\in L_{1} & \iff f\left(x\right)\in L_{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
אם קיימת רדוקציה פולינומית מ-
\begin_inset Formula $L_{1}$
\end_inset

 אל 
\begin_inset Formula $L_{2}$
\end_inset

 מסמנים זאת 
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset

.
\end_layout

\begin_layout Standard
כמו בחלקו הראשון של הקורס, כך גם כאן - רדוקציות פולינומיות הן מעניינות בזכות
 משפט הרדוקציה המתאים:
\end_layout

\begin_layout Theorem
תהיינה 
\begin_inset Formula $L_{1},L_{2}$
\end_inset

 שפות כך ש-
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $L_{2}\in\text{P}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\in\text{P}$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $L_{2}\in\text{NP}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\in\text{NP}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
תהא 
\begin_inset Formula $M_{f}$
\end_inset

 המכונה שמחשבת את הרדוקציה.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $L_{2}\in\text{P}$
\end_inset

 עם מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{2}$
\end_inset

 פולינומית, אז מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $M_{1}$
\end_inset

 עבור 
\begin_inset Formula $L_{1}$
\end_inset

, על קלט 
\begin_inset Formula $x$
\end_inset

 תחשב את 
\begin_inset Formula $f\left(x\right)$
\end_inset

 ותריץ את 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $f\left(x\right)$
\end_inset

.
 
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $p$
\end_inset

 הוא הפולינום שחוסם את זמן ריצת 
\begin_inset Formula $M_{f}$
\end_inset

 ו-
\begin_inset Formula $q$
\end_inset

 הוא הפולינום שחוסם את זמן ריצה 
\begin_inset Formula $M_{2}$
\end_inset

, אז 
\begin_inset Formula $\left|f\left(x\right)\right|\le p\left(\left|x\right|\right)$
\end_inset

 וזהו גם חסם על זמן חישוב 
\begin_inset Formula $f\left(x\right)$
\end_inset

.
 זמן הרצת 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $f\left(x\right)$
\end_inset

 חסום על ידי 
\begin_inset Formula $q\left(\left|f\left(x\right)\right|\right)=q\left(p\left(\left|x\right|\right)\right)$
\end_inset

 שהוא פולינומי ב-
\begin_inset Formula $\left|x\right|$
\end_inset

 כי הרכבת הפולינומים 
\begin_inset Formula $p,q$
\end_inset

 היא פולינום.
 מכאן ש-
\begin_inset Formula $M_{1}$
\end_inset

 היא פולינומית.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $L_{2}\in\text{NP}$
\end_inset

 עם מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M_{2}$
\end_inset

 אי דטרמיניסטית פולינומית, ניתן לבנות 
\begin_inset Formula $M_{1}$
\end_inset

 אי דטרמיניסטית שפועלת בדיוק באותו האופן שתואר לעיל - מחשבת את 
\begin_inset Formula $f\left(x\right)$
\end_inset

, מריצה את 
\begin_inset Formula $M_{2}$
\end_inset

 על 
\begin_inset Formula $f\left(x\right)$
\end_inset

 ועונה כמוה.
 מכונה זו היא פולינומית מהנימוק שכבר ראינו; כדי לראות שהבניה נכונה נשים
 לב לכך ש-
\begin_inset Formula $x\in L_{1}$
\end_inset

 אם ורק אם 
\begin_inset Formula $f\left(x\right)\in L_{2}$
\end_inset

 אם ורק אם ל-
\begin_inset Formula $M_{2}$
\end_inset

 קיים מסלול חישוב מקבל על 
\begin_inset Formula $f\left(x\right)$
\end_inset

 אם ורק אם ל-
\begin_inset Formula $M_{1}$
\end_inset

 קיים מסלול חישוב מקבל על 
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
ראינו כבר שרדוקציות מקיימות טרנזיטיביות.
 מכיוון שתכונה זו תהיה שימושית מאוד עבורנו בהמשך, נראה זאת במפורש גם במקרה
 הנוכחי:
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset

 וגם 
\begin_inset Formula $L_{2}\le_{p}L_{3}$
\end_inset

 אז 
\begin_inset Formula $L_{1}\le_{p}L_{3}$
\end_inset

.
\end_layout

\begin_layout Proof
יהיו 
\begin_inset Formula $f,g$
\end_inset

 הרדוקציות של 
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset

 ו-
\begin_inset Formula $L_{2}\le_{p}L_{3}$
\end_inset

, בהתאמה.
 נתבונן על הפונקציה המורכבת 
\begin_inset Formula $gf$
\end_inset

.
 היא ניתנת לחישוב בזמן פולינומי על ידי חישוב 
\begin_inset Formula $f$
\end_inset

 ואז הפעלת המכונה לחישוב 
\begin_inset Formula $g$
\end_inset

 על התוצאה; הזמן הפולינומי נובע מכך שהרכבת פולינומים היא פולינום.
 תקפות הרדוקציה נובעת מכך ש-
\begin_inset Formula $x\in L_{1}\iff f\left(x\right)\in L_{2}\iff g\left(f\left(x\right)\right)\in L_{3}$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת להגדרה המרכזית שלנו.
\end_layout

\begin_layout Definition
שפה 
\begin_inset Formula $L$
\end_inset

 נקראת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה ונסמן זאת 
\begin_inset Formula $L\in\text{NPC}$
\end_inset

 אם
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $L\in\text{NP}$
\end_inset


\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $L^{\prime}\in\text{NP}$
\end_inset

 מתקיים 
\begin_inset Formula $L^{\prime}\le_{p}L$
\end_inset


\end_layout

\end_deeper
\begin_layout Standard
במילים אחרות, שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 היא 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה אם היא 
\begin_inset Quotes eld
\end_inset

בדרגת הקושי הגבוהה ביותר של שפות ב-
\lang english
NP
\lang hebrew

\begin_inset Quotes erd
\end_inset

 במובן זה שפתרון יעיל שלה גורר קיום פתרון יעיל לכל בעיה ב-
\lang english
NP
\lang hebrew
:
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $L$
\end_inset

 היא שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה אז 
\begin_inset Formula $L\in\text{P}$
\end_inset

 אם ורק אם 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

 אז מכיוון ש-
\begin_inset Formula $L\in\text{NP}$
\end_inset

 נקבל מייד ש-
\begin_inset Formula $L\in\text{P}$
\end_inset

.
 בכיוון השני, אם 
\begin_inset Formula $L\in\text{P}$
\end_inset

, תהא 
\begin_inset Formula $L^{\prime}\in\text{NP}$
\end_inset

 כלשהי.
 מהגדרת שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה נקבל ש-
\begin_inset Formula $L^{\prime}\le_{p}L$
\end_inset

 וממשפט הרדוקציה נקבל ש-
\begin_inset Formula $L^{\prime}\in\text{P}$
\end_inset

.
\end_layout

\begin_layout Standard
כיצד ניתן להראות ששפה 
\begin_inset Formula $L$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה? ההגדרה נראית מאתגרת למדי - יש להראות כי 
\series bold
כל
\series default
 שפה ב-
\begin_inset Formula $\text{NP}$
\end_inset

, מורכבת ומתוחכמת ככל שתהיה, ניתנת לרדוקציה אל 
\begin_inset Formula $L$
\end_inset

.
 ואכן, ההוכחה שנראה בהמשך תהיה מורכבת למדי.
\end_layout

\begin_layout Standard
עם זאת, יש לנו דרך קיצור משמעותית: אם כבר ידוע לנו על שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה, ניתן להיעזר בה כדי להוכיח עבור שפות אחרות שהן גם כן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות:
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $L_{1}$
\end_inset

 היא שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה ו-
\begin_inset Formula $L_{2}\in\text{NP}$
\end_inset

 ומתקיים 
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset

 אז גם 
\begin_inset Formula $L_{2}$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $L\in\text{NP}$
\end_inset

 כלשהי.
 מכיוון ש-
\begin_inset Formula $L_{1}$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה, אז 
\begin_inset Formula $L\le_{p}L_{1}$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $L_{1}\le_{p}L_{2}$
\end_inset

 נקבל מטרנזיטיביות ש-
\begin_inset Formula $L\le_{p}L_{2}$
\end_inset

.
\end_layout

\begin_layout Standard
זוהי סיטואציה מקבילה לזו שהייתה בחלקו הראשון של הקורס.
 שם הוכחנו שאם 
\begin_inset Formula $L_{1}\notin\text{R}$
\end_inset

 וגם 
\begin_inset Formula $L_{1}\le L_{2}$
\end_inset

 אז גם 
\begin_inset Formula $L_{2}\notin\text{R}$
\end_inset

; גם כאן הרדוקציה היא מהשפה ש
\begin_inset Quotes erd
\end_inset

ידוע שהיא קשה
\begin_inset Quotes erd
\end_inset

 אל השפה ש
\begin_inset Quotes erd
\end_inset

עדיין לא ידוע עליה כלום
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Subsection
דוגמאות ראשונות לשפות
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות
\end_layout

\begin_layout Subsubsection
השפות
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 ו-
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
k-SAT
\end_layout

\begin_layout Standard
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעניינת אותנו גם בגלל השימושיות שלה באופן כללי, וגם בגלל העובדה שהיא מהווה
 את 
\begin_inset Quotes eld
\end_inset

נקודת המוצא
\begin_inset Quotes erd
\end_inset

 שלנו להוכחה ששפות הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות, בזכות המשפט שמראה שהיא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה ללא צורך ברדוקציה משפה אחרת:
\end_layout

\begin_layout Theorem
)משפט קוק לוין( 
\begin_inset Formula $\text{SAT}\in\text{NPC}$
\end_inset

.
\end_layout

\begin_layout Standard
מכיוון שהוכחת המשפט מורכבת, נמתין איתה להמשך.
 לבינתיים נציג את הגדרת השפה.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שפת כל הנוסחאות בתחשיב הפסוקים שנמצאות בצורת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וספיקות; איננו מניחים ידע מוקדם עם מושגים אלו ולכן נציג את הידע הרלוונטי
 במפורט.
\end_layout

\begin_layout Definition
)נוסחאות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והגדרת הספיקות עבורן(
\end_layout

\begin_deeper
\begin_layout Itemize

\series bold
משתנה
\series default
 הוא איבר של קבוצה כלשהי.
 לרוב נסמן משתנים באותיות כמו 
\begin_inset Formula $x,y,z$
\end_inset

 וכדומה.
\end_layout

\begin_layout Itemize

\series bold
ליטרל
\series default
 
\begin_inset Formula $l$
\end_inset

 הוא או משתנה 
\begin_inset Formula $x$
\end_inset

 או הביטוי 
\begin_inset Formula $\neg x$
\end_inset

 כאשר אנו חושבים על הסימן 
\begin_inset Formula $\neg$
\end_inset

 כמייצג 
\begin_inset Quotes eld
\end_inset

שלילה
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
פסוקית
\family roman
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $C$
\end_inset

 היא ביטוי מהצורה 
\begin_inset Formula $\left(l_{1}\vee l_{2}\vee\ldots\vee l_{k}\right)$
\end_inset

 כך שכל 
\begin_inset Formula $l_{i}$
\end_inset

 הוא ליטרל.
 אנו חושבים על הסימן 
\begin_inset Formula $\vee$
\end_inset

 כמייצג 
\begin_inset Quotes eld
\end_inset

או
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
פסוק
\family roman
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\series default
\lang hebrew
 
\begin_inset Formula $\varphi$
\end_inset

 הוא ביטוי מהצורה 
\begin_inset Formula $C_{1}\wedge C_{2}\wedge\ldots\wedge C_{n}$
\end_inset

 כך שכל 
\begin_inset Formula $C_{i}$
\end_inset

 הוא פסוקית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
.
 אנו חושבים על הסימן 
\begin_inset Formula $\wedge$
\end_inset

 כמייצג 
\begin_inset Quotes eld
\end_inset

וגם
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
השמה
\series default
 
\begin_inset Formula $\alpha$
\end_inset

 היא פונקציה שמתאימה לכל משתנה ערך מהקבוצה 
\begin_inset Formula $\left\{ \text{T},\text{F}\right\} $
\end_inset

 )אנו חושבים על אבריה בתור 
\begin_inset Quotes eld
\end_inset

אמת
\begin_inset Quotes erd
\end_inset

 ו
\begin_inset Quotes erd
\end_inset

שקר
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Itemize
השמה 
\series bold
מספקת
\series default
 ליטרל 
\begin_inset Formula $l$
\end_inset

 אם הליטרל הוא 
\begin_inset Formula $x$
\end_inset

 וההשמה נתנה למשתנה 
\begin_inset Formula $x$
\end_inset

 את הערך 
\begin_inset Formula $\text{T}$
\end_inset

 או שהליטרל הוא 
\begin_inset Formula $\neg x$
\end_inset

 וההשמה נתנה למשתנה 
\begin_inset Formula $x$
\end_inset

 את הערך 
\begin_inset Formula $\text{F}$
\end_inset

.
\end_layout

\begin_layout Itemize
השמה 
\series bold
מספקת
\series default
 פסוקית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\vee\ldots\vee l_{k}\right)$
\end_inset

 אם היא מספקת 
\series bold
לפחות אחד
\series default
 מהליטרלים 
\begin_inset Formula $l_{1},l_{2},\ldots,l_{k}$
\end_inset

.
\end_layout

\begin_layout Itemize
השמה 
\series bold
מספקת
\series default
 פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english

\begin_inset Formula $\varphi=C_{1}\wedge C_{2}\wedge\ldots\wedge C_{n}$
\end_inset

 CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם היא מספקת את 
\series bold
כל
\series default
 הפסוקיות 
\begin_inset Formula $C_{1},C_{2},\ldots,C_{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
 
\begin_inset Formula $\varphi$
\end_inset

 הוא 
\series bold
ספיק
\series default
 אם קיימת השמה 
\begin_inset Formula $\alpha$
\end_inset

 שמספקת אותו.
\end_layout

\end_deeper
\begin_layout Standard
כעת ניתן להגדיר את השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\lang hebrew
:
\end_layout

\begin_layout Definition
\begin_inset Formula $\text{SAT}$
\end_inset

 היא שפת כל פסוקי ה-
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הספיקים.
\end_layout

\begin_layout Standard
לדוגמא, הפסוק 
\begin_inset Formula $\left(x_{1}\vee\neg x_{3}\right)\wedge\left(x_{3}\vee\neg x_{5}\vee x_{2}\right)\wedge\left(x_{5}\right)$
\end_inset

 ספיק על ידי ההשמה הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\alpha\left(x_{1}\right) & =\text{T}\\
\alpha\left(x_{2}\right) & =\text{T}\\
\alpha\left(x_{3}\right) & =\text{F}\\
\alpha\left(x_{5}\right) & =\text{T}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
קל לראות כי 
\begin_inset Formula $\text{SAT}\in\text{NP}$
\end_inset

: היחס שכולל זוגות 
\begin_inset Formula $\left(\varphi,\alpha\right)$
\end_inset

 של פסוק והשמה מספקת עבורו מוכיח את השייכות ל-
\begin_inset Formula $\text{NP}$
\end_inset

.
 השמה ניתנת לתיאור בעזרת סדרה של 
\begin_inset Formula $n$
\end_inset

 ביטים כאשר 
\begin_inset Formula $n$
\end_inset

 הוא מספר המשתנים השונים המופיעים ב-
\begin_inset Formula $\varphi$
\end_inset

 ולכן כמובן שהיא פולינומית ב-
\begin_inset Formula $\left|\varphi\right|$
\end_inset

 )היא יותר קצרה מ-
\begin_inset Formula $\left|\varphi\right|$
\end_inset

( ובדיקת שהשמה מספקת פסוק היא פולינומית )עוברים על כל פסוקית ולכל ליטרל
 בה בודקים אם הוא מקבל את הערך המתאים בהשמה(.
\end_layout

\begin_layout Standard
עם זאת, אלגוריתם נאיבי לבדיקה האם פסוק ספיק שעובר על כל ההשמות יכלול במקרה
 הגרוע 
\begin_inset Formula $2^{n}$
\end_inset

 בדיקות )ניתן להראות שקיימים פסוקים ספיקים עם השמה מספקת יחידה(.
 קיימים אלגוריתמים מורכבים יותר לבדיקת ספיקות; למעשה, קיים תחום שלם של אלגוריתמי
ם הנקראים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT Solvers
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שמשתמשים בהיוריסטיקות חכמות לבדיקת ספיקות.
 אלגוריתמים אלו הופכים פתרון בעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\lang hebrew
 לפרקטי במקרים רבים, אבל הם אינם מציעים שיפור אסימפטוטי לזמן הריצה הגרוע
 ביותר ולכן אינם רלוונטיים למה שנעשה כאן.
\end_layout

\begin_layout Standard
שפה שימושית נוספת עבורו היא השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english

\begin_inset Formula $\text{3SAT}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שכוללת את כל פסוקי ה-
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הספיקים שבהם בכל פסוקית יש 
\series bold
בדיוק
\series default
 שלושה ליטרלים.
 שפה זו פשוטה יותר מ-
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן יהיה יותר קל לבצע רדוקציות ממנה לשפות אחרות; עם זאת, היא מורכבת דיו
 כדי להיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה בעצמה:
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{SAT}\le_{p}3\text{SAT}$
\end_inset


\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $\varphi$
\end_inset

 פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
.
 נראה כיצד לבנות פסוק 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 שבו כל פסוקית היא בדיוק בעלת שלושה ליטרלים, וכך ש-
\begin_inset Formula $\varphi$
\end_inset

 ספיק אם ורק אם 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 ספיק.
\end_layout

\begin_layout Proof
נראה כיצד מטפלים בכל פסוקית של 
\begin_inset Formula $\varphi$
\end_inset

 לחוד.
 תהא 
\begin_inset Formula $C=\left(l_{1}\vee\ldots\vee l_{n}\right)$
\end_inset

 פסוקית כלשהי של 
\begin_inset Formula $\varphi$
\end_inset

.
\end_layout

\begin_layout Proof
אם ב-
\begin_inset Formula $C$
\end_inset

 רק ליטרל אחד או שניים, פשוט נשכפל את הליטרלים הללו שוב עד לקבלת שלושה ליטרלים
 בפסוקית.
 כלומר, אם 
\begin_inset Formula $C=\left(l_{1}\right)$
\end_inset

 אז ל-
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 נוסיף את הפסוקית 
\begin_inset Formula $\left(l_{1}\vee l_{1}\vee l_{1}\right)$
\end_inset

 ואם 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\right)$
\end_inset

 אז נוסיף את הפסוקית 
\begin_inset Formula $\left(l_{1}\vee l_{2}\vee l_{2}\right)$
\end_inset

.
 בבירור השמה מספקת את 
\begin_inset Formula $C$
\end_inset

 אם ורק אם היא מספקת את ההרחבה שלה.
\end_layout

\begin_layout Proof
אם ב-
\begin_inset Formula $C$
\end_inset

 יש בדיוק שלושה ליטרלים, אפשר להוסיף אותה כמות שהיא אל 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

.
\end_layout

\begin_layout Proof
נותר לטפל במקרה שבו מספר הליטרלים 
\begin_inset Formula $n$
\end_inset

 ב-
\begin_inset Formula $C$
\end_inset

 גדול מ-
\numeric on
3
\numeric off
.
 במקרה זה, יהיו 
\begin_inset Formula $y_{1},y_{2},\ldots,y_{n-3}$
\end_inset

 משתנים חדשים שלא הופיעו ב-
\begin_inset Formula $\varphi$
\end_inset

 ולא השתמשנו בהם עד כה.
\end_layout

\begin_layout Proof
כעת נחליף את הפסוקית 
\begin_inset Formula $\left(l_{1}\vee\ldots\vee l_{n}\right)$
\end_inset

 ב
\begin_inset Quotes erd
\end_inset

שרשרת
\begin_inset Quotes erd
\end_inset

 הפסוקיות הבאה:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
\left(l_{1}\vee l_{2}\vee y_{1}\right) & \wedge\left(\neg y_{1}\vee l_{3}\vee y_{2}\right)\wedge\left(\neg y_{2}\vee l_{4}\vee y_{3}\right)\wedge\ldots\wedge\left(\neg y_{n-3}\vee l_{n-1}\vee l_{n}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
זו רדוקציה פולינומית שכן כל פסוקית הוחלפה לכל היותר בשרשרת של 
\begin_inset Formula $O\left(n\right)$
\end_inset

 פסוקיות - גודל התוצאה עדיין פולינומי.
\end_layout

\begin_layout Proof
נראה כעת כי 
\begin_inset Formula $\varphi$
\end_inset

 ספיק אם ורק אם 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 ספיק.
\end_layout

\begin_layout Proof
בכיוון אחד, נניח ש-
\begin_inset Formula $\varphi$
\end_inset

 ספיק באמצעות השמה 
\begin_inset Formula $\alpha$
\end_inset

 ונמצא השמה 
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 שתספק את 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

.
 
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 תהיה זהה ל-
\begin_inset Formula $\alpha$
\end_inset

 על המשתנים של 
\begin_inset Formula $\varphi$
\end_inset

; נראה כיצד להגדיר אותה על המשתנים החדשים שהוספנו.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $C=\left(l_{1}\vee\ldots\vee l_{n}\right)$
\end_inset

 פסוקית ב-
\begin_inset Formula $\varphi$
\end_inset

 עם 
\begin_inset Formula $n>3$
\end_inset

 משתנים.
 מכיוון ש-
\begin_inset Formula $C$
\end_inset

 מסתפקת תחת 
\begin_inset Formula $\alpha$
\end_inset

 קיים בה ליטרל שמסתפק; נסמנו 
\begin_inset Formula $l_{i}$
\end_inset

.
 כעת נגדיר את 
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 על המשתנים 
\begin_inset Formula $y_{1},\ldots,y_{n-3}$
\end_inset

 שהוספנו כשהמרנו את הפסוקית הזו אל שרשרת הפסוקיות ב-
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Proof
\begin_inset Formula $\alpha^{\prime}\left(y_{k}\right)=\begin{cases}
\text{T} & k\le i-2\\
\text{F} & k>i-2
\end{cases}$
\end_inset


\end_layout

\begin_layout Proof
ההשמה מספקת את כל הפסוקיות בשרשרת: הפסוקיות שהופיעו בהן 
\begin_inset Formula $y_{1},y_{2},\ldots,y_{i-2}$
\end_inset

 הסתפקו כי משתנים אלו קיבלו 
\begin_inset Formula $\text{T}$
\end_inset

 והפסוקיות שהופיעו בהן 
\begin_inset Formula $\neg y_{i-1},\ldots,\neg y_{n-3}$
\end_inset

 הסתפקו כי המשתנים של ליטרלים אלו קיבלו 
\begin_inset Formula $\text{F}$
\end_inset

.
 נותרה רק פסוקית אחד שאינה כוללת לא את אלו ולא את אלו: הפסוקית 
\begin_inset Formula $\left(\neg y_{i-2}\vee l_{i}\vee y_{i-1}\right)$
\end_inset

, שמסתפקת בזכות העובדה ש-
\begin_inset Formula $\alpha$
\end_inset

 מספקת את 
\begin_inset Formula $l_{i}$
\end_inset

, או הפסוקית 
\begin_inset Formula $\left(l_{1}\vee l_{2}\vee y_{1}\right)$
\end_inset

 )אם 
\begin_inset Formula $i=1,2$
\end_inset

( שמסתפקת בצורה דומה, או 
\begin_inset Formula $\left(\neg y_{n-3}\vee l_{n-1}\vee l_{n}\right)$
\end_inset

 )אם 
\begin_inset Formula $i=n-1,n$
\end_inset

( שגם היא מסתפקת בצורה דומה.
\end_layout

\begin_layout Proof
פסוקיות עם 
\begin_inset Formula $3$
\end_inset

 או פחות ליטרלים מסתפקות על ידי הערכים ש-
\begin_inset Formula $\alpha$
\end_inset

 נתנה למשתנים המקוריים.
 בנוסף, לא יכולה להיות התנגשות באופן שבו אנחנו מגדירים את 
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 בהתאם לפסוקיות שונות של 
\begin_inset Formula $\varphi$
\end_inset

 שכן לכל פסוקית הוספנו קבוצה חדשה של משתנים.
 מכאן קיבלנו ש-
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 מספקת את 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון ההפוך, אם 
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 היא השמה שמספקת את 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 אז נגדיר 
\begin_inset Formula $\alpha$
\end_inset

 הזהה ל-
\begin_inset Formula $\alpha^{\prime}$
\end_inset

 על המשתנים של 
\begin_inset Formula $\varphi$
\end_inset

.
 בבירור 
\begin_inset Formula $\alpha$
\end_inset

 מספקת כל פסוקית מגודל עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $\varphi^{\prime}$
\end_inset

.
 תהא 
\begin_inset Formula $C=\left(l_{1}\vee\ldots\vee l_{n}\right)$
\end_inset

 פסוקית עם 
\begin_inset Formula $n>3$
\end_inset

 של 
\begin_inset Formula $\varphi$
\end_inset

; נראה כיצד 
\begin_inset Formula $\alpha$
\end_inset

 בהכרח מספקת גם אותה.
\end_layout

\begin_layout Proof
נתבונן על שרשרת הפסוקיות שמתאימה לפסוקית זו ב-
\begin_inset Formula $\varphi^{\prime}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
\left(l_{1}\vee l_{2}\vee y_{1}\right) & \wedge\left(\neg y_{1}\vee l_{3}\vee y_{2}\right)\wedge\left(\neg y_{2}\vee l_{4}\vee y_{3}\right)\wedge\ldots\wedge\left(\neg y_{n-3}\vee l_{n-1}\vee l_{n}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\alpha\left(y_{1}\right)=\text{F}$
\end_inset

 אז כדי שתסתפק 
\begin_inset Formula $\left(l_{1}\vee l_{2}\vee y_{1}\right)$
\end_inset

 בהכרח 
\begin_inset Formula $\alpha$
\end_inset

 מספקת את 
\begin_inset Formula $l_{1}$
\end_inset

 או 
\begin_inset Formula $l_{2}$
\end_inset

 וסיימנו.
 נניח אם כן ש-
\begin_inset Formula $\alpha\left(y_{1}\right)=\text{T}$
\end_inset

.
 אם כל יתר המשתנים מקבלים 
\begin_inset Formula $\text{T}$
\end_inset

 גם כן ובפרט 
\begin_inset Formula $y_{n-3}$
\end_inset

 אז כדי שתסתפק 
\begin_inset Formula $\left(\neg y_{n-3}\vee l_{n-1}\vee l_{n}\right)$
\end_inset

, בהכרח 
\begin_inset Formula $\alpha$
\end_inset

 מספקת את 
\begin_inset Formula $l_{n-1}$
\end_inset

 או 
\begin_inset Formula $l_{n}$
\end_inset

 וסיימנו.
 אם לא כל המשתנים מקבלים 
\begin_inset Formula $\text{T}$
\end_inset

 יהא 
\begin_inset Formula $y_{i}$
\end_inset

 המשתנה עם האינדקס הקטן ביותר שקיבל 
\begin_inset Formula $\text{F}$
\end_inset

.
 זה אינו 
\begin_inset Formula $y_{1}$
\end_inset

 שכבר הנחנו שמקבל 
\begin_inset Formula $\text{T}$
\end_inset

, ולכן גם 
\begin_inset Formula $y_{i-1}$
\end_inset

 מקבל 
\begin_inset Formula $\text{T}$
\end_inset

 כי האינדקס שלו קטן משל 
\begin_inset Formula $y_{i}$
\end_inset

.
 כעת נתבונן בפסוקית 
\begin_inset Formula $\left(\neg y_{i-1}\vee l_{i+1}\vee y_{i}\right)$
\end_inset

, אז בפסוקית זו הליטרל הראשון והאחרון מקבלים שניהם 
\begin_inset Formula $\text{F}$
\end_inset

 ומכאן שבהכרח 
\begin_inset Formula $l_{i+1}$
\end_inset

 מסתפק, וסיימנו.
\end_layout

\begin_layout Standard
את מה שעשינו עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ניתן לעשות באופן כללי - להגדיר את השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
kSAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתור שפת כל פסוקי ה-
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הספיקים שבהם כל פסוקית כוללת בדיוק 
\begin_inset Formula $k$
\end_inset

 ליטרלים.
 אותה הוכחה שראינו עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תעבוד לכל שפה אחרת עם 
\begin_inset Formula $k>3$
\end_inset

, אבל עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
2SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא בבירור לא תעבוד - ה
\begin_inset Quotes erd
\end_inset

שרשרת
\begin_inset Quotes erd
\end_inset

 התבססה על עיטוף כל ליטרל מהפסוקית המקורית בשני משתנים חדשים.
 כישלון הרדוקציה אינו מקרי, שכן אפשר להראות ש-
\lang english
2SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שייכת ל-
\begin_inset Formula $\text{P}$
\end_inset

:
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{2SAT}\in\text{P}$
\end_inset

.
\end_layout

\begin_layout Proof
האינטואיציה מאחורי ההוכחה היא שניתן לחשוב על פסוקית כמייצגת 
\series bold
גרירה
\series default
.
 הפסוקית 
\begin_inset Formula $\left(x\vee y\right)$
\end_inset

 שקולה לוגית לפסוקים הלוגיים 
\begin_inset Formula $\neg x\to y$
\end_inset

 ו-
\begin_inset Formula $\neg y\to x$
\end_inset

.
 האינטואיציה הזו משמשת כדי לבנות, בהינתן פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
2CNF
\lang hebrew
, 
\begin_inset Quotes eld
\end_inset

גרף גרירות
\begin_inset Quotes erd
\end_inset

 עבורו: גרף שבו יש צומת לכל משתנה 
\begin_inset Formula $x$
\end_inset

 ושלילתו 
\begin_inset Formula $\neg x$
\end_inset

 ויש חץ 
\begin_inset Formula $l_{1}\to l_{2}$
\end_inset

 אם בפסוק יש את הפסוקית 
\begin_inset Formula $\left(\neg l_{1}\vee l_{2}\right)$
\end_inset

 )כאשר אנו מתייחסים אל 
\begin_inset Formula $\neg\neg$
\end_inset

 כמבטל את עצמו(.
\end_layout

\begin_layout Proof
כעת ניתן להוכיח כי פסוק ה-
\lang english
2CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא ספיק אם ורק אם לא קיים משתנה 
\begin_inset Formula $x$
\end_inset

 כך שבגרף הגרירות קיים מסלול מ-
\begin_inset Formula $x$
\end_inset

 אל 
\begin_inset Formula $\neg x$
\end_inset

 
\series bold
וגם
\series default
 מסלול מ-
\begin_inset Formula $\neg x$
\end_inset

 אל 
\begin_inset Formula $x$
\end_inset

.
 בדיקת מסלולים כאלו בגרף שייכת ל-
\begin_inset Formula $\text{P}$
\end_inset

.
\begin_inset Note Note
status open

\begin_layout Plain Layout
להרחיב אם יוצא לך
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
השפה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Vertex Cover
\end_layout

\begin_layout Standard
בעיית 
\series bold
הכיסוי בצמתים
\series default
 )
\lang english
Vertex Cover
\lang hebrew
( היא בעיה בתורת הגרפים:
\end_layout

\begin_layout Definition
יהא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף פשוט ולא מכוון.
 קבוצה 
\begin_inset Formula $B\subseteq V$
\end_inset

 היא 
\series bold
כיסוי בצמתים
\series default
 של 
\begin_inset Formula $G$
\end_inset

 אם לכל 
\begin_inset Formula $\left(u,v\right)\in E$
\end_inset

 מתקיים ש-
\begin_inset Formula $u\in B$
\end_inset

 או 
\begin_inset Formula $v\in B$
\end_inset

.
 במילים אחרות: כל קשת בגרף פוגשת את הקבוצה 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\begin_layout Definition
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תוגדר באופן הבא:
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
\text{VC} & =\left\{ \left(G,k\right)\ |\ \exists B\subseteq V:B\text{ is vertex cover \ensuremath{\wedge\left|B\right|\le k}}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בבירור 
\begin_inset Formula $\text{VC}\in\text{NP}$
\end_inset

; היחס הוא של זוגות 
\begin_inset Formula $\left(\left(G,k\right),B\right)$
\end_inset

 כך ש-
\begin_inset Formula $B$
\end_inset

 הוא כיסוי בצמתים מהגודל הנכון.
\end_layout

\begin_layout Standard
כזכור, גרף הוא 
\series bold
פשוט
\series default
 אם אין בו קשתות מקבילות )יותר מקשת אחת בין זוג צמתים( וחוגים עצמיים )קשתות
 מצומת לעצמה(.
 ההגבלה שלנו ש-
\begin_inset Formula $G$
\end_inset

 יהיה פשוט אינה מהותית; בהינתן גרף לא פשוט שאנו רוצים למצוא עבורו כיסוי
 בצמתים, ברור שעלינו להוסיף לכיסוי כל צומת בעלת חוג עצמי, ואפשר למחוק את
 כל הקשתות המקבילות בין זוג צמתים למעט אחת.
 לאחר 
\begin_inset Quotes eld
\end_inset

תיקונים
\begin_inset Quotes erd
\end_inset

 אלו נישאר עם גרף פשוט.
 הסיבה שבגללה אנו מסתפקים בגרפים פשוטים היא כדי לפשט רדוקציות מ-
\begin_inset Formula $\text{VC}$
\end_inset

 לשפות אחרות.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{3SAT}\le_{p}\text{VC}$
\end_inset

.
\end_layout

\begin_layout Theorem
נציג את ההוכחה בצורה פורמלית, אך לפני כן נצביע על הרעיון.
 אנחנו רוצים לקודד פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתור גרף, כך שתהיה התאמה בצורה כלשהי בין קבוצת צמתים שנבחרת מהגרף ובין השמה
 עבור הפסוק.
 לשם כך, הגרף שלנו יכלול שתי קבוצות של צמתים: קבוצת צמתים שמקודדת 
\series bold
ליטרלים
\series default
 וקבוצת צמתים שמקודדת 
\series bold
מופעים בפסוקיות של ליטרלים
\series default
.
 בחירה של צומת מקבוצת הליטרלים פירושה יהיה שזה הליטרל שאנו בוחרים לספק,
 ובחירה של צומת מקבוצת המופעים של ליטרלים בפסוקיות פירושה יהיה שזה הליטרל
 שאנו משתמשים בו כדי לספק את הפסוקית שבה הוא מופיע )מבין שלושת הליטרלים
 האפשריים(.
\end_layout

\begin_layout Theorem
כדי להשיג את האפקט המבוקש הזה, נהנדס בקפידה את הגודל המקסימלי 
\begin_inset Formula $k$
\end_inset

 של הכיסוי בצמתים שאנו מאפשרים, כך שלא ניתן יהיה להוסיף לכיסוי כמה איברים
 שנרצה, אלא נהיה חייבים 
\series bold
לכל
\series default
 משתנה לבחור אך ורק משני הליטרלים שמתאימים לו, ו
\series bold
לכל
\series default
 פסוקית לבחור אך ורק אחד משלושת הליטרלים המופיעים בה )למעשה, כפי שנראה מייד,
 
\begin_inset Quotes eld
\end_inset

בחירה
\begin_inset Quotes erd
\end_inset

 כזו תתבטא בכך שלכיסוי יתווספו שני הליטרלים האחרים שבפסוקית(.
\end_layout

\begin_layout Proof
נציג רדוקציה המעבירה פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3CNF
\lang hebrew
 
\begin_inset Formula $\varphi$
\end_inset

 לזוג 
\begin_inset Formula $\left(G_{\varphi},k\right)$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $\left\{ x_{1},x_{2},\ldots,x_{n}\right\} $
\end_inset

 קבוצת המשתנים שמופיעים ב-
\begin_inset Formula $\varphi$
\end_inset

 ו-
\begin_inset Formula $C_{1},C_{2},\ldots,C_{m}$
\end_inset

 קבוצת הפסוקיות שלו.
 נגדיר 
\begin_inset Formula $k=n+2m$
\end_inset

 ואת הגרף 
\begin_inset Formula $G_{\varphi}$
\end_inset

 נבנה באופן הבא:
\end_layout

\begin_layout Proof
לכל משתנה 
\begin_inset Formula $x$
\end_inset

 שמופיע ב-
\begin_inset Formula $\varphi$
\end_inset

, נוסיף לגרף את הצומת 
\begin_inset Formula $x$
\end_inset

 ואת הצומת 
\begin_inset Formula $\neg x$
\end_inset

 ונחבר את שניהם בקשת.
 נכנה צמתים אלו 
\series bold
צמתי המשתנים
\series default
.
\end_layout

\begin_layout Proof
לכל פסוקית 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\vee l_{3}\right)$
\end_inset

 נוסיף לגרף שלושה צמתים שיסומנו ב-
\begin_inset Formula $l_{1},l_{2},l_{3}$
\end_inset

 ויחוברו כולם זה לזה, כך שנוצרת צורת משולש.
 בנוסף, נחבר כל ליטרל אל צומת המשתנה המתאים לו.
 כלומר, אם הליטרל הוא מהצורה 
\begin_inset Formula $x$
\end_inset

 נבחר אותו אל הצומת 
\begin_inset Formula $x$
\end_inset

 בצמתי המשתנים; אם הוא מהצורה 
\begin_inset Formula $\neg x$
\end_inset

 נחבר אותו אל הצומת 
\begin_inset Formula $\neg x$
\end_inset

 בצמתי המשתנים.
\end_layout

\begin_layout Proof
נציג איור לדוגמא של הבניה:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Graphics
	filename Images/sat_to_vc.PNG
	lyxscale 50
	scale 40

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
הרדוקציה בבירור פולינומית כי מספר הצמתים שאנו מוסיפים לכל משתנה ופסוקית
 ב-
\begin_inset Formula $\varphi$
\end_inset

 הוא קבוע וההוספה שלהם אינה דורשת חישוב.
\end_layout

\begin_layout Proof
נעבור להוכיח את תקפות הרדוקציה.
 ראשית, נניח ש-
\begin_inset Formula $\varphi$
\end_inset

 ספיק על ידי השמה 
\begin_inset Formula $\alpha$
\end_inset

 ונציג כיסוי בצמתים מגודל 
\begin_inset Formula $n+2m$
\end_inset

 של 
\begin_inset Formula $G_{\varphi}$
\end_inset

.
 לכל משתנה 
\begin_inset Formula $x$
\end_inset

, אם 
\begin_inset Formula $\alpha\left(x\right)=\text{T}$
\end_inset

 אז נוסיף לכיסוי את צומת המשתנה 
\begin_inset Formula $x$
\end_inset

, ואחרת נוסיף לכיסוי את צומת המשתנה 
\begin_inset Formula $\neg x$
\end_inset

.
 לכל פסוקית 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\vee l_{3}\right)$
\end_inset

 מכיוון ש-
\begin_inset Formula $\alpha$
\end_inset

 מספקת את 
\begin_inset Formula $\varphi$
\end_inset

 קיים ליטרל ב-
\begin_inset Formula $C$
\end_inset

 שהיא מספקת, נסמנו ב-
\begin_inset Formula $l_{i}$
\end_inset

.
 אז מבין שלושת צמתי הפסוקית שהוספנו לגרף, נוסיף לכיסוי שלנו את שני הצמתים
 
\series bold
שאינם
\series default
 
\begin_inset Formula $l_{i}$
\end_inset

.
\end_layout

\begin_layout Proof
בבירור גודל הכיסוי שלנו הוא 
\begin_inset Formula $n+2m$
\end_inset

 כי הוספנו בדיוק צומת אחד לכל אחד מ-
\begin_inset Formula $n$
\end_inset

 המשתנים, ושני צמתים לכל אחת מ-
\begin_inset Formula $m$
\end_inset

 הפסוקיות.
\end_layout

\begin_layout Proof
תהא כעת קשת כלשהי בגרף.
 יש שלוש אפשרויות:
\end_layout

\begin_deeper
\begin_layout Enumerate
הקשת מחברת שני צמתי משתנים, ולכן מחברת צומת 
\begin_inset Formula $x$
\end_inset

 לצומת 
\begin_inset Formula $\neg x$
\end_inset

 עבור משתנה 
\begin_inset Formula $x$
\end_inset

 מסויים.
 על פי בניית הכיסוי שלנו, לכל משתנה 
\begin_inset Formula $x$
\end_inset

 אחד מהצמתים 
\begin_inset Formula $x,\neg x$
\end_inset

 התווסף לכיסוי ולכן קשת זו מכוסה.
\end_layout

\begin_layout Enumerate
הקשת היא חלק מה
\begin_inset Quotes erd
\end_inset

משולש
\begin_inset Quotes erd
\end_inset

 שמחבר את צמתי הליטרלים בפסוקית כלשהי.
 מכיוון שלקחנו לכיסוי שני צמתים מבין אברי המשולש, הקשת בהכרח מכוסה )קיים
 רק צומת אחד במשולש שלא נלקח לכיסוי, אבל הקשת מחוברת לשני צמתים מהמשולש(.
\end_layout

\begin_layout Enumerate
הקשת מחברת בין צומת משתנה ובין צומת של ליטרל בפסוקית.
 במקרה זה ישנן שתי אפשרויות: אם הוספנו את צומת הליטרל לכיסוי, סיימנו; אחרת,
 בהכרח הצומת הזה מתאים לליטרל שמסתפק תחת 
\begin_inset Formula $\alpha$
\end_inset

 ולכן צומת המשתנה שאליו הוא מחובר כן שייך לכיסוי, וגם במקרה זה סיימנו.
\end_layout

\end_deeper
\begin_layout Proof
נוכיח כעת את הכיוון השני - כלומר, שאם קיים כיסוי בצמתים של 
\begin_inset Formula $G_{\varphi}$
\end_inset

 מגודל לכל היותר 
\begin_inset Formula $n+2m$
\end_inset

 אז 
\begin_inset Formula $\varphi$
\end_inset

 ספיק.
 נניח כי קיים כיסוי כזה בצמתים, אז:
\end_layout

\begin_deeper
\begin_layout Enumerate
לכל זוג 
\begin_inset Formula $x,\neg x$
\end_inset

 של צמתי משתנים, אחד משניהם חייב להשתייך לכיסוי עקב הקשת שמחברת אותם.
 בסך הכל לפחות 
\begin_inset Formula $n$
\end_inset

 צמתים חייבים להתווסף כך לכיסוי.
\end_layout

\begin_layout Enumerate
לכל פסוקית 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\vee l_{3}\right)$
\end_inset

 לפחות שניים מצמתי הליטרלים של הפסוקית חייבים להשתייך לכיסוי כי משולש לא
 ניתן לכסות עם צומת בודד )הקשת בין שני הצמתים שלא נבחרו לא תהיה מכוסה(.
 בסך הכל לפחות 
\begin_inset Formula $2m$
\end_inset

 צמתים חייבים להתווסף כך לכיסוי.
\end_layout

\begin_layout Standard
אם בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 בשלב 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יילקחו 
\series bold
יותר
\series default
 מאשר ה-
\begin_inset Formula $n$
\end_inset

 וה-
\begin_inset Formula $2m$
\end_inset

 צמתים האפשריים, גודל הכיסוי יהיה 
\series bold
גדול יותר
\series default
 מאשר 
\begin_inset Formula $n+2m$
\end_inset

, בסתירה לחסם 
\begin_inset Formula $k=n+2m$
\end_inset

 שהוא חלק מפלט הרדוקציה.
 מכאן נסיק שבשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקחים 
\series bold
בדיוק
\series default
 צומת אחד מכל זוג, ובשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקחים 
\series bold
בדיוק
\series default
 זוג צמתים מכל שלשה.
\end_layout

\end_deeper
\begin_layout Proof
נגדיר את ההשמה 
\begin_inset Formula $\alpha$
\end_inset

 בצורה הבאה: לכל משתנה 
\begin_inset Formula $x$
\end_inset

, אם צומת המשתנה 
\begin_inset Formula $x$
\end_inset

 שייך לכיסוי אז 
\begin_inset Formula $\alpha\left(x\right)=\text{T}$
\end_inset

 ואחרת 
\begin_inset Formula $\alpha\text{\left(x\right)}=\text{F}$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי זוהי השמה מספקת:
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $C=\left(l_{1}\vee l_{2}\vee l_{3}\right)$
\end_inset

 פסוקית כלשהי.
 כפי שראינו, בדיוק שני צמתים המתאימים לפסוקית התווספו לכיסוי.
 נתבונן על הצומת שלא התווסף לכיסוי; צומת זה מחובר לצומת משתנה המתאים לאותו
 ליטרל 
\begin_inset Formula $l_{i}$
\end_inset

 כמו זה של הצומת, וחייב להשתייך לכיסוי אחרת הקשת הזו לא תהיה מכוסה.
 על פי ההגדרה שלנו את 
\begin_inset Formula $\alpha$
\end_inset

, הליטרל 
\begin_inset Formula $l_{i}$
\end_inset

 מסתפק תחת 
\begin_inset Formula $\alpha$
\end_inset

, ולכן 
\begin_inset Formula $C$
\end_inset

 הסתפקה, כמבוקש.
\end_layout

\begin_layout Subsubsection
השפה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Quotes erd
\end_inset

קבוצה מייצגת
\begin_inset Quotes erd
\end_inset

(
\end_layout

\begin_layout Standard
עם השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אנו עוברים מעולמות הלוגיקה והגרפים לעולם של קבוצות.
 תהא 
\begin_inset Formula $X$
\end_inset

 קבוצה סופית כלשהי, ויהיו 
\begin_inset Formula $A_{1},A_{2},\ldots,A_{n}\subseteq X$
\end_inset

 תתי-קבוצות של 
\begin_inset Formula $X$
\end_inset

.
 אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עבור אוסף תתי הקבוצות הוא תת-קבוצה 
\begin_inset Formula $B\subseteq X$
\end_inset

 כך ש-
\begin_inset Formula $A_{i}\cap B\ne\emptyset$
\end_inset

 לכל 
\begin_inset Formula $1\le i\le n$
\end_inset

.
\end_layout

\begin_layout Standard
למשל, נניח שבידינו אוסף שירים )
\begin_inset Formula $X$
\end_inset

( וכמה ז'אנרים של מוזיקה, כך ששיר מהאוסף יכול להשתייך למספר ז'אנרים )הקבוצות
 
\begin_inset Formula $A_{1},A_{2},\ldots,A_{n}$
\end_inset

(.
 מטרתנו היא להכין רשימת השמעה )
\begin_inset Formula $B$
\end_inset

( שבה כל ז'אנר מופיע לפחות פעם אחת )אותו שיר יכול לייצג ז'אנרים שונים בבת
 אחת(.
\end_layout

\begin_layout Standard
כמובן, תמיד ניתן לקחת את כל אברי 
\begin_inset Formula $X$
\end_inset

 ולקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן האתגר הוא למצוא קבוצה 
\begin_inset Formula $B$
\end_inset

 שתהיה קטנה יחסית.
\end_layout

\begin_layout Definition
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוגדרת על ידי
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
\text{HS}= & \left\{ \left(A_{1},\ldots,A_{n},k\right)\ |\ \exists B\subseteq\bigcup_{i=1}^{n}A_{i}:\left|B\right|\le k\wedge B\text{ is a hitting set}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
בבירור 
\begin_inset Formula $\text{HS}\in\text{NP}$
\end_inset

: היחס פשוט נותן את הקבוצה 
\begin_inset Formula $B$
\end_inset

, שהיא פולינומית בגודל 
\begin_inset Formula $\left|\bigcup_{i=1}^{n}A_{i}\right|$
\end_inset

 שכן היא תת-קבוצה של איחוד זה.
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{VC}\le_{p}\text{HS}$
\end_inset

.
\end_layout

\begin_layout Claim
רעיון ההוכחה פשוט למדי.
 בעצם,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא מקרה פרטי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
HS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כאשר כל הקבוצות הן מגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
 מכאן הרדוקציה כמעט מיידית:
\end_layout

\begin_layout Proof
בהינתן קלט 
\begin_inset Formula $\left(G,k\right)$
\end_inset

 עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כך ש-
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 עם 
\begin_inset Formula $E=\left\{ e_{1},e_{2},\ldots,e_{n}\right\} $
\end_inset

, הרדוקציה תעביר את 
\begin_inset Formula $\left(G,k\right)$
\end_inset

 אל 
\begin_inset Formula $\left(\left(e_{1},e_{2},\ldots,e_{n},k\right)\right)$
\end_inset

.
 זוהי בבירור רדוקציה פולינומית.
\end_layout

\begin_layout Proof
על מנת לראות את תקפות הרדוקציה נשים לב לכך שתת-קבוצה 
\begin_inset Formula $E^{\prime}\subseteq E$
\end_inset

 היא כיסוי בצמתים של 
\begin_inset Formula $G$
\end_inset

 אם ורק אם 
\begin_inset Formula $E^{\prime}$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Hitting Set
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $\left(e_{1},\ldots,e_{n}\right)$
\end_inset

.
\end_layout

\begin_layout Subsubsection
השפה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set Cover
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Quotes erd
\end_inset

כיסוי בקבוצות
\begin_inset Quotes erd
\end_inset

(
\end_layout

\begin_layout Standard
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set Cover
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא מעין מקרה משלים ל-
\lang english
Hitting Set
\lang hebrew
.
 אם במקרה הקודם רצינו תת-קבוצה של 
\begin_inset Formula $X$
\end_inset

 ש
\begin_inset Quotes erd
\end_inset

תופסת את כל הקבוצות
\begin_inset Quotes erd
\end_inset

, עכשיו אנחנו רוצים תת קבוצה של אוסף הקבוצות ש
\begin_inset Quotes erd
\end_inset

תופסת את כל 
\begin_inset Formula $X$
\end_inset


\begin_inset Quotes erd
\end_inset

.
 נגדיר זאת פורמלית.
\end_layout

\begin_layout Definition
תהא 
\begin_inset Formula $X$
\end_inset

 קבוצה ו-
\begin_inset Formula $A_{1},\ldots,A_{n}\subseteq X$
\end_inset

 תת-קבוצות שלה.
 אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set Cover
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של 
\begin_inset Formula $X$
\end_inset

 היא אוסף 
\begin_inset Formula $A_{i_{1}},\ldots,A_{i_{k}}$
\end_inset

 כך ש-
\begin_inset Formula $\bigcup_{t=1}^{k}A_{i_{t}}=X$
\end_inset

.
\end_layout

\begin_layout Definition
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוגדרת כך:
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
\text{SC} & =\left\{ \left(A_{1},\ldots,A_{n},k\right)\ |\ \exists i_{1},\ldots,i_{k}:\bigcup_{t=1}^{k}A_{i_{t}}=\bigcup_{j=1}^{n}A_{j}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בבירור 
\begin_inset Formula $\text{SC}\in\text{NP}$
\end_inset

 כי היחס פשוט כולל את הקבוצות שב-
\lang english
Set Cover
\lang hebrew
.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{VC}\le_{p}\text{SC}$
\end_inset

.
\end_layout

\begin_layout Standard
בדומה ל-
\lang english
HS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
גם פה ההוכחה פשוטה כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא מקרה פרטי פשוט של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SC
\lang hebrew
, אך מעט יותר מאתגר לראות זאת.
 הרעיון הוא שבמקרה זה, 
\begin_inset Formula $X=E$
\end_inset

, ואילו 
\begin_inset Formula $A_{i}$
\end_inset

 הוא אוסף כל הקשתות שמכוסות על ידי הצומת 
\begin_inset Formula $v_{i}$
\end_inset

.
 
\end_layout

\begin_layout Standard
נניח שבגרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 עם 
\begin_inset Formula $n$
\end_inset

 צמתים, הצמתים מסומנים בתור 
\begin_inset Formula $V=\left\{ v_{1},v_{2},\ldots,v_{n}\right\} $
\end_inset

.
 
\end_layout

\begin_layout Standard
הרדוקציה תוגדר בתור
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(G,k\right)\mapsto & \left(A_{1},A_{2},\ldots,A_{n},k\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כך שלכל 
\begin_inset Formula $v_{i}\in V$
\end_inset

 אנו מגדירים 
\begin_inset Formula $A_{i}=\left\{ e\in E\ |\ v_{i}\in e\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
הרדוקציה פולינומית כי יצירת כל 
\begin_inset Formula $A_{i}$
\end_inset

 דורשת מעבר יחיד על קבוצת הקשתות, כך שיש לנו 
\begin_inset Formula $O\left(\left|V\right|\left|E\right|\right)$
\end_inset

 מעברים בסך הכל לצורך חישוב הרדוקציה.
\end_layout

\begin_layout Standard
נראה את תקפות הרדוקציה.
 נשים לב לכך שב-
\begin_inset Formula $G$
\end_inset

 יש כיסוי בצמתים 
\begin_inset Formula $U\subseteq V$
\end_inset

 אם ורק אם הקבוצה 
\begin_inset Formula $\left\{ i_{t}\ |\ v_{i_{t}}\in U\right\} $
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set Cover
\lang hebrew
: בכיוון אחד, אם 
\begin_inset Formula $U$
\end_inset

 הוא כיסוי בצמתים, תהא 
\begin_inset Formula $e\in E$
\end_inset

 אז קיים 
\begin_inset Formula $v_{i}\in U$
\end_inset

 שמכסה אותה, ולכן 
\begin_inset Formula $e\in A_{i}$
\end_inset

 ועל פי ההגדרה, 
\begin_inset Formula $A_{i}$
\end_inset

 שייכת ל-
\lang english
Set Cover
\lang hebrew
.
 בכיוון השני, אם 
\begin_inset Formula $\left\{ i_{t}\ |\ v_{i_{t}}\in U\right\} $
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Set Cover
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $e\in E$
\end_inset

 אז לפי הגדרה קיים 
\begin_inset Formula $t$
\end_inset

 כך ש-
\begin_inset Formula $i_{t}$
\end_inset

 שייך ל-
\lang english
Set Cover
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\begin_inset Formula $e\in A_{i_{t}}$
\end_inset

, אבל אז מהגדרת הקבוצה, 
\begin_inset Formula $A_{i_{t}}\in U$
\end_inset

 ולכן 
\begin_inset Formula $e$
\end_inset

 מכוסה על ידי 
\begin_inset Formula $U$
\end_inset

.
\end_layout

\begin_layout Subsubsection
השפה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
01
\numeric off
\lang english
IP
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)תכנון לינארי
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
01
\numeric off
 בשלמים(
\end_layout

\begin_layout Standard
בעיות 
\series bold
תכנון לינארי
\series default
 הן סוג נפוץ ושימושי מאוד של בעיות אופטימיזציה.
 בבעיה כזו נתונה 
\series bold
פונקציית מטרה
\series default
 שמקבלת וקטור של ערכים ומחזירה מספר ממשי, והמטרה שלנו היא למצוא את הקלט
 שעבורו הפונקציה מחזירה פלט מקסימלי, בהינתן 
\series bold
אילוצים
\series default
 על הקלטים האפשריים.
 המילה 
\series bold
לינארי
\series default
 מגיעה מכך שהן פונקציית המטרה והן האילוצים הם לינאריים, כלומר מערבים רק
 צירופים לינאריים של המשתנים.
\end_layout

\begin_layout Standard
בעיית תכנון לינארי על 
\begin_inset Formula $n$
\end_inset

 משתנים נתונה על ידי מטריצה 
\begin_inset Formula $A\in\mathbb{R}^{m\times n}$
\end_inset

 המתארת 
\begin_inset Formula $m$
\end_inset

 אילוצים ווקטור 
\begin_inset Formula $c\in\mathbb{R}^{1\times n}$
\end_inset

 כך שהמטרה היא למקסם את הפונקצייה 
\begin_inset Formula $f\left(x\right)=c\cdot x$
\end_inset

 בהינתן האילוץ 
\begin_inset Formula $Ax\ge\overline{0}$
\end_inset

 )כאן 
\begin_inset Formula $\ge$
\end_inset

 בהשוואת שני וקטורים פירושו שמשווים כניסה-כניסה(.
\end_layout

\begin_layout Standard
קיימת תורה עשירה של שיטות לפתרון בעיות תכנון לינארי, ובעיות אלו ניתנות לפתרון
 יעיל; אולם 
\series bold
הגבלה
\series default
 על הקלטים שיכולים להתקבל כך שנדרש מהם להיות מספרים שלמים הופכת את הבעיה
 ל-
\lang english
NP
\lang hebrew
-קשה )זה הד לתופעה כללית במתמטיקה לפיה בעיות מעל שדה כמו 
\begin_inset Formula $\mathbb{R}$
\end_inset

 הן קלות יותר לפתרון מאשר מעל חוג כמו 
\begin_inset Formula $\mathbb{Z}$
\end_inset

(.
\end_layout

\begin_layout Standard
אנו נתמקד במקרה פרטי - כזה שבו 
\begin_inset Formula $A\in\mathbb{Z}^{m\times n}$
\end_inset

, הערכים המותרים לקלטים הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בלבד, ואנו לא מעוניינים למקסם את פונקציית המטרה אלא רק לבדוק האם תחת האילוצים
 היא יכולה להחזיר ערך מעל לסף מסויים.
 כדי לפשט את הסימונים, ניתן לאחד את האילוצים על הקלטים עם האילוץ על פונקציית
 המטרה, ולקבל את הפורמליזם הבא של הבעיה:
\end_layout

\begin_layout Definition
)תכנות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
01
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בשלמים( בהינתן מטריצה 
\begin_inset Formula $A\in\mathbb{Z}^{m\times n}$
\end_inset

 ווקטור 
\begin_inset Formula $b\in\mathbb{Z}^{m}$
\end_inset

, יש לקבוע האם קיים 
\begin_inset Formula $x\in\left\{ 0,1\right\} ^{n}$
\end_inset

 כך ש-
\begin_inset Formula $Ax\ge b$
\end_inset

.
 השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
01IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כוללת את כל ה-
\begin_inset Formula $\left(A,b\right)$
\end_inset

 שמקיימים זאת.
\end_layout

\begin_layout Standard
כרגיל, קל לראות ש-
\begin_inset Formula $\text{01IP}\in\text{NP}$
\end_inset

 פשוט על ידי יחס שבו ה-
\begin_inset Formula $x$
\end_inset

 נתון.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{VC}\le_{p}\text{01IP}$
\end_inset

.
\end_layout

\begin_layout Proof
אנחנו רוצים לקודד בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בצורה כלשהי כך ש
\series bold
פתרון
\series default
 של בעיית ה-
\lang english
01IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ימדל פתרון של בעיית ה-
\lang english
VC
\lang hebrew
.
 מכיוון שפתרון של בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
01IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הוא פשוט סדרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
1
\numeric off
, אינטואיטיבי לחשוב שהפתרון הזה יתאר את הצמתים של 
\begin_inset Formula $G$
\end_inset

 שמתווספים לכיסוי )מקבלים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
( אל מול אלו שאינם מתווספים לכיסוי )מקבלים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(.
 האם אפשר לתאר את האילוצים של בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בעזרת משוואות לינאריות?
\end_layout

\begin_layout Proof
ראשית, 
\begin_inset Formula $x_{1}+x_{2}+\ldots+x_{n}$
\end_inset

 שווה בדיוק למספר הצמתים שנלקחו לכיסוי.
 אנו רוצים לקודד את האילוץ 
\begin_inset Formula 
\begin{align*}
x_{1}+x_{2}+\ldots+x_{n} & \le k
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
לרוע המזל, הגדרת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
01IP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תומכת באי-שוויונים דווקא בכיוון ההפוך, של 
\begin_inset Formula $\ge$
\end_inset

, אבל קל לפתור זאת על ידי כפל שני האגפים ב-
\begin_inset Formula $-1$
\end_inset

 לקבלת האילוץ השקול
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
-x_{1}-x_{2}-\ldots-x_{n} & \ge-k
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
הדרישה הנוספת שלנו היא שלכל קשת 
\begin_inset Formula $e=\left(v_{i},v_{j}\right)$
\end_inset

 
\series bold
לפחות אחד
\series default
 מבין שני הצמתים המחוברים לקשת יהיה שייך לכיסוי, כלומר המשתנה שלו יקבל 
\begin_inset Formula $1$
\end_inset

.
 זה מתורגם אל האילוץ
\begin_inset Formula 
\begin{align*}
x_{i}+x_{j} & \ge1
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
או, בכתיב מלא:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
0\cdot x_{1}+0\cdot x_{2}+\dots+x_{i}+\ldots+x_{j}+\ldots+0\cdot x_{n} & \ge1
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
אם כן, נקבל 
\begin_inset Formula $A\in\mathbb{Z}^{\left|E\right|+1\times n}$
\end_inset

 כך שהשורה הראשונה ב-
\begin_inset Formula $A$
\end_inset

 כולה 
\begin_inset Formula $-1$
\end_inset

 ושאר שורות 
\begin_inset Formula $A$
\end_inset

 כוללות זוג 
\begin_inset Formula $1$
\end_inset

-ים במקומות 
\begin_inset Formula $i,j$
\end_inset

 לכל 
\begin_inset Formula $\left(v_{i},v_{j}\right)\in E$
\end_inset

, ו-
\begin_inset Formula $b\in\mathbb{Z}^{\left|E\right|+1}$
\end_inset

 כך ש-
\begin_inset Formula $b=\left(-k,1,\ldots,1\right)$
\end_inset

.
\end_layout

\begin_layout Proof
הבניה של 
\begin_inset Formula $A,b$
\end_inset

 דורשת מעבר יחיד על 
\begin_inset Formula $E$
\end_inset

 ולכן היא פולינומית, והוכחת נכונות הרדוקציה נובעת מההגדרה.
\end_layout

\begin_layout Subsection
הוכחות ישירות לכך ששפות הן
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות
\end_layout

\begin_layout Subsubsection
השפה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bounded Halting
\end_layout

\begin_layout Standard
פתחנו עם הטענה ש-
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה ודחינו את ההוכחה להמשך עקב הקושי שלה, אך למעשה קל מאוד לתאר במפורש
 שפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה ולהוכיח שהיא כזו; השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bounded Halting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנציג כעת.
 לרוע המזל, זו אינה שפה שקל לבצע ממנה רדוקציות, ומכאן החשיבות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\lang hebrew
.
\end_layout

\begin_layout Standard
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bounded Halting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא למעשה וריאציה על בעיית העצירה עם שני הבדלים: ראשית, המכונה שמתקבלת כקלט
 היא 
\series bold
אי דטרמיניסטית
\series default
.
 שנית, בנוסף למכונה וקלט מצורף גם חסם זמן מפורש על מספר הצעדים של המכונה.
 חסם הזמן מיוצג בייצוג אונרי ולא בינארי כדי שגודל הקלט יהיה פרופורציוני
 לחסם זמן הריצה )אם הוא היה מיוצג בבינארי, חסם זמן הריצה היה אקספוננציאלי
 בגודלו ביחס לגודל הקלט(:
\end_layout

\begin_layout Definition
השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Bounded Halting
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
\text{BH} & =\left\{ \left(\left\langle M\right\rangle ,x,1^{t}\right)\ |\ M\text{ has a halting path on }x\text{ in \ensuremath{t} steps}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{BH}\in\text{NPC}$
\end_inset


\end_layout

\begin_layout Proof
ראשית נראה כי 
\begin_inset Formula $\text{BH}$
\end_inset

 שייכת אל 
\begin_inset Formula $\text{NP}$
\end_inset

.
 זאת באמצעות יחס 
\begin_inset Formula $\left(\left(\left\langle M\right\rangle ,x,1^{t}\right),y\right)$
\end_inset

 כך ש-
\begin_inset Formula $y$
\end_inset

 היא סדרת בחירות הא
\begin_inset Quotes erd
\end_inset

ד ש-
\begin_inset Formula $M$
\end_inset

 מבצעת על 
\begin_inset Formula $x$
\end_inset

 עד שהיא עוצרת תוך לכל היותר 
\begin_inset Formula $t$
\end_inset

 צעדים.
 היחס חסום פולינומית כי 
\begin_inset Formula $\left|y\right|\le t=\left|1^{t}\right|$
\end_inset

 והוא ניתן לבדיקה פולינומית על ידי מכונה שמריצה את 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $x$
\end_inset

 בהתאם לבחירות שמתוארות ב-
\begin_inset Formula $y$
\end_inset

.
\end_layout

\begin_layout Proof
כעת נראה כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BH
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה.
 תהא 
\begin_inset Formula $L\in\text{NP}$
\end_inset

 כלשהי.
 נראה רדוקציה 
\begin_inset Formula $L\le_{p}\text{BH}$
\end_inset

.
 
\end_layout

\begin_layout Proof
ראשית, מכיוון ש-
\begin_inset Formula $L\in\text{NP}$
\end_inset

 אנו יודעים שקיימים שני אובייקטים:
\end_layout

\begin_deeper
\begin_layout Itemize
מ
\begin_inset Quotes erd
\end_inset

ט פולינומית אי דטרמיניסטית 
\begin_inset Formula $M$
\end_inset

 כך ש-
\begin_inset Formula $L\left(M\right)=L$
\end_inset

.
\end_layout

\begin_layout Itemize
פולינום 
\begin_inset Formula $p\left(x\right)$
\end_inset

 שהוא חסם זמן הריצה של 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
פונקציית הרדוקציה 
\begin_inset Formula $f_{L}$
\end_inset

 תפעל כך: 
\begin_inset Formula $f_{L}\left(x\right)=\left(\left\langle M^{\prime}\right\rangle ,x,1^{p\left(\left|x\right|\right)}\right)$
\end_inset

, כך ש-
\begin_inset Formula $M^{\prime}$
\end_inset

 היא מכונה זהה ל-
\begin_inset Formula $M$
\end_inset

 למעט העובדה שבמקום כניסה ל-
\begin_inset Formula $q_{rej}$
\end_inset

 המכונה נכנסת למצב של לולאה אינסופית.
 את 
\begin_inset Formula $1^{p\left(\left|x\right|\right)}$
\end_inset

 ניתן לחשב בזמן פולינומי מתוך 
\begin_inset Formula $x$
\end_inset

, זאת מכיוון שאורך 
\begin_inset Formula $p\left(\left|x\right|\right)$
\end_inset

 הוא פולינומי ב-
\begin_inset Formula $x$
\end_inset

, והפולינום 
\begin_inset Formula $p$
\end_inset

 עצמו, כמו גם 
\begin_inset Formula $M^{\prime}$
\end_inset

, שניהם חלק מקידוד המכונה שמחשבת את הרדוקציה 
\begin_inset Formula $f_{L}$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $x\in L$
\end_inset

 אם ורק אם קיים ל-
\begin_inset Formula $M$
\end_inset

 מסלול מקבל עליו תוך 
\begin_inset Formula $p\left(\left|x\right|\right)$
\end_inset

 צעדים אם ורק אם קיים ל-
\begin_inset Formula $M^{\prime}$
\end_inset

 מסלול שעוצר עליו תוך 
\begin_inset Formula $p\left(\left|x\right|\right)$
\end_inset

 צעדים, סיימנו.
\end_layout

\begin_layout Subsubsection
משפט קוק-לוין
\end_layout

\begin_layout Standard
עכשיו, לאחר שראינו מספר רדוקציות ואת העקרונות הכלליים שמאחוריהם, ננסה את
 כוחנו בהוכחת משפט קוק-לוין:
\end_layout

\begin_layout Theorem
)משפט קוק-לוין( השפה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה.
\end_layout

\begin_layout Standard
שייכות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\lang english
NP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא ברורה; האתגר הוא להראות כי היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמה שלא דרך רדוקציה משפה אחרת.
 כלומר, בהינתן 
\begin_inset Formula $L\in\text{NP}$
\end_inset

 עלינו להראות רדוקציה 
\begin_inset Formula $L\le\text{SAT}$
\end_inset

, ובמילים אחרות - לכל 
\begin_inset Formula $w\in\Sigma^{*}$
\end_inset

 עלינו להחזיר פסוק 
\begin_inset Formula $\varphi_{w}$
\end_inset

 כך ש-
\begin_inset Formula $w\in L$
\end_inset

 אם ורק אם 
\begin_inset Formula $\varphi_{w}$
\end_inset

 הוא פסוק ספיק.
\end_layout

\begin_layout Standard
מכיוון ש-
\begin_inset Formula $L\in\text{NP}$
\end_inset

, קיים יחס 
\begin_inset Formula $R_{L}$
\end_inset

 כך ש-
\begin_inset Formula $w\in L$
\end_inset

 אם ורק אם קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(w,y\right)\in R_{L}$
\end_inset

.
 הבדיקה האם 
\begin_inset Formula $\left(w,y\right)\in R_{L}$
\end_inset

 מתבצעת בידי מכונת טיורינג פולינומית 
\begin_inset Formula $M$
\end_inset

, ואת הריצה של מכונה כזו על 
\begin_inset Formula $\left(w,y\right)$
\end_inset

 אפשר לתאר בתור סדרת קונפיגורציות.
 מכיוון שיש לנו חסם על זמן הריצה של המכונה, יש לנו חסם על הגודל המקסימלי
 האפשרי של קונפיגורציה עבורה, כך שמלכתחילה אפשר לחשוב על כל הקונפיגורציות
 כאילו הן מאותו אורך.
 כעת אפשר לדמיין סידור של כל הקונפיגורציות בטבלה: בכל שורה נמצאת קונפיגורציה,
 כך שכל עמודה מתארת תו אחד מהקונפיגורציה )תו כזה הוא או אות 
\begin_inset Formula $\sigma$
\end_inset

 שנמצאת על הסרט, או זוג 
\begin_inset Formula $\left(q,\sigma\right)$
\end_inset

 שמתאר גם את מצב המכונה ומלמד אותנו שהראש הקורא מצביע על המיקום הזה(.
\end_layout

\begin_layout Standard
הרעיון במשפט קוק הוא שהשמות למשתנים של 
\begin_inset Formula $\varphi_{w}$
\end_inset

 ניתנות יהיו לתרגום לטבלה כזו של קונפיגורציות.
 אנו נבנה את 
\begin_inset Formula $\varphi_{w}$
\end_inset

 בצורה כזו שמבטיחה שההשמה תהיה מספקת רק אם:
\end_layout

\begin_layout Enumerate
ההשמות אכן מתארות טבלה חוקית.
\end_layout

\begin_layout Enumerate
השורה הראשונה בטבלה מתאימה לקונפיגורציה ההתחלתית של 
\begin_inset Formula $M$
\end_inset

 על 
\begin_inset Formula $\left(w,y\right)$
\end_inset

 עבור 
\begin_inset Formula $y$
\end_inset

 כלשהו שהוא פולינומי ב-
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Enumerate
קיימת בטבלה שורה שבה המכונה נמצאת במצב 
\begin_inset Formula $q_{acc}$
\end_inset

.
\end_layout

\begin_layout Enumerate
כל זוג שורות סמוכות בטבלה מתארות קונפיגורציות עוקבות, כלומר המעבר משורה
 אחת לבאה מתבצע בהתאם להגדרות של 
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Standard
האופן שבו 
\begin_inset Formula $\varphi_{w}$
\end_inset

 תיבנה יבטיח שלרוב המשתנים ב-
\begin_inset Formula $\varphi_{w}$
\end_inset

 
\begin_inset Quotes eld
\end_inset

אין ברירה
\begin_inset Quotes erd
\end_inset

 בשאלה מה הערך שלהם יהיה; הוא ייקבע באופן מוחלט בידי ערכם של משתנים אחרים,
 ואם לא יתאים לקביעה הזו, 
\begin_inset Formula $\varphi_{w}$
\end_inset

 לא יסתפק.
 עם זאת, המשתנים ב-
\begin_inset Formula $\varphi_{w}$
\end_inset

 שמקודדים את 
\begin_inset Formula $y$
\end_inset

 יישארו חופשיים; זה יוביל לכך שקיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(w,y\right)\in R_{L}$
\end_inset

 אם ורק אם קיימת השמה שמספקת את 
\begin_inset Formula $\varphi_{w}$
\end_inset

.
\end_layout

\begin_layout Standard
הסיבה שבגללה הבניה הזו יכולה לעבוד נעוצה באספקט טכני אחד של מכונות טיורינג,
 שהוא מה שנותן לנו את ההוכחה כולה: השינוי שמתבצע בין זוג קונפיגורציות סמוכות
 הוא 
\series bold
לוקלי
\series default
.
 רוב התאים מועתקים כמות שהם, והמקומות היחידים שבהם משהו עשוי להשתנות הם
 סביב הראש הקורא של המכונה.
 הפשטות הזו תאפשר ל-
\begin_inset Formula $\varphi_{w}$
\end_inset

 להיות פשוט יחסית, ולכן פולינומי בגודלו.
\end_layout

\begin_layout Standard
נעבור להוכחה הפורמלית:
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $L\in\text{NP}$
\end_inset

 קיים יחס 
\begin_inset Formula $R_{L}$
\end_inset

 שהוא חסום פולינומית על ידי הפולינום 
\begin_inset Formula $p$
\end_inset

, ניתן לזיהוי פולינומי על ידי מכונת טיורינג שזמן הריצה שלה חסום בידי פולינום
 
\begin_inset Formula $q$
\end_inset

, ומקיים 
\begin_inset Formula $L=\left\{ w\in\Sigma^{*}\ |\ \exists y:\left(w,y\right)\in R_{L}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
בהינתן 
\begin_inset Formula $w\in\Sigma^{*}$
\end_inset

 נבנה פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
 
\begin_inset Formula $\varphi_{w}$
\end_inset

 באופן הבא:
\end_layout

\begin_layout Proof
ראשית, נשים לב לכך שאם קיים 
\begin_inset Formula $y$
\end_inset

 כך ש-
\begin_inset Formula $\left(w,y\right)\in R_{L}$
\end_inset

 אז מהגדרת חסם פולינומי, 
\begin_inset Formula $\left|y\right|\le p\left(\left|w\right|\right)$
\end_inset

.
 מכאן שהחסם המקסימלי על זמן ריצת 
\begin_inset Formula $M$
\end_inset

 על הזוג 
\begin_inset Formula $\left(w,y\right)$
\end_inset

 יהיה פולינומי ב-
\begin_inset Formula $\left|w\right|$
\end_inset

 )שכן הוא יתקבל מהרכבת 
\begin_inset Formula $q$
\end_inset

 על פולינום שחסום על ידי 
\begin_inset Formula $p$
\end_inset

, והרכבת פולינומים היא פולינום(.
 נסמן חסם זה ב-
\begin_inset Formula $N$
\end_inset

.
\end_layout

\begin_layout Proof
נשים לב לכך ש-
\begin_inset Formula $N$
\end_inset

 הוא גם חסם לאורך סדרת הקונפיגורציות שיופיעו בריצת 
\begin_inset Formula $M$
\end_inset

 על כל זוג 
\begin_inset Formula $\left(w,y\right)$
\end_inset

 כך ש-
\begin_inset Formula $\left|y\right|\le p\left(\left|w\right|\right)$
\end_inset

, וגם חסם לחלק מהסרט של 
\begin_inset Formula $M$
\end_inset

 שעשוי להשתנות במהלך ריצת המכונה )כל יתר אינסוף תאי הסרט יהיו 
\begin_inset Formula $\flat$
\end_inset

(.
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $\Delta\triangleq\Gamma\cup\left(Q\times\Gamma\right)$
\end_inset

: אלו הסימנים שיכולים להופיע כחלק מקונפיגורציה )או אות, או זוג של מצב ואות(.
\end_layout

\begin_layout Proof
לכל 
\begin_inset Formula $i,j\in\left\{ 1,2,\ldots,N\right\} $
\end_inset

 נגדיר קבוצת משתנים שמתארת את תוכן התא ה-
\begin_inset Formula $j$
\end_inset

 בקונפיגורציה ה-
\begin_inset Formula $i$
\end_inset

, באופן הבא:
\end_layout

\begin_layout Proof
לכל 
\begin_inset Formula $a\in\Delta$
\end_inset

 נוסיף משתנה בוליאני 
\begin_inset Formula $X_{i,j}^{a}$
\end_inset

.
 אנו חושבים על הצבת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
T
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
במשתנה זה בתור הטענה 
\begin_inset Quotes eld
\end_inset

בתא ה-
\begin_inset Formula $j$
\end_inset

 בקונפיגורציה ה-
\begin_inset Formula $i$
\end_inset

 מופיע 
\begin_inset Formula $a$
\end_inset


\begin_inset Quotes erd
\end_inset

 והצבת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 בתור הטענה שדבר זה אינו קורה.
\end_layout

\begin_layout Proof
לכל 
\begin_inset Formula $i,j$
\end_inset

 נוסיף כעת אל 
\begin_inset Formula $\varphi_{w}$
\end_inset

 את הפסוקיות הבאות, שמבטיחות שבתא 
\begin_inset Formula $i,j$
\end_inset

 יופיע לפחות דבר אחד, ולא יופיעו בו שני דברים שונים:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
 & \left(\bigvee_{a\in\Delta}X_{i,j}^{a}\right)\\
\forall a\ne b\in\Delta: & \left(\neg X_{i,j}^{a}\vee\neg X_{i,j}^{b}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
בסך הכל לכל 
\begin_inset Formula $i,j$
\end_inset

 אנו מוסיפים פסוקית אחת מאורך 
\begin_inset Formula $\left|\Delta\right|$
\end_inset

 ו-
\begin_inset Formula $O\left(\left|\Delta\right|^{2}\right)$
\end_inset

 פסוקיות מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
 מכיוון ש-
\begin_inset Formula $\left|\Delta\right|$
\end_inset

 קבוע ולא תלוי באורך 
\begin_inset Formula $\left|w\right|$
\end_inset

 )הוא נובע ישירות מהמכונה 
\begin_inset Formula $M$
\end_inset

( האורך הכולל של מה שהוספנו הוא 
\begin_inset Formula $O\left(1\right)$
\end_inset

.
 מכיוון שאנו מוסיפים זאת לכל 
\begin_inset Formula $i,j$
\end_inset

 נקבל בסך הכל אורך כולל של 
\begin_inset Formula $O\left(N^{2}\right)$
\end_inset

, שעדיין פולינומי ב-
\begin_inset Formula $\left|w\right|$
\end_inset

 שכן 
\begin_inset Formula $N$
\end_inset

 פולינומי ב-
\begin_inset Formula $\left|w\right|$
\end_inset

.
\end_layout

\begin_layout Proof
כעת קיימת התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל בין השמות של 
\begin_inset Formula $\varphi_{w}$
\end_inset

 שמספקות את הפסוקיות שהוספנו עד כה, ובין טבלאות מסדר 
\begin_inset Formula $N\times N$
\end_inset

 מעל אברי 
\begin_inset Formula $\Delta$
\end_inset

: שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתיאור שהצגנו קודם.
\end_layout

\begin_layout Proof
נעבור לפסוקיות שמבטיחות שהקונפיגורציה הראשונה )השורה 
\begin_inset Formula $i=1$
\end_inset

( תהיה קונפיגורציה התחלתית חוקית של 
\begin_inset Formula $M$
\end_inset

 על הזוג 
\begin_inset Formula $\left(w,y\right)$
\end_inset

.
 בלי הגבלת הכלליות נניח כי התו המפריד בין 
\begin_inset Formula $w,y$
\end_inset

 בקלט הוא 
\begin_inset Formula $\flat$
\end_inset

 בודד.
 
\end_layout

\begin_layout Proof
נסמן 
\begin_inset Formula $w=w_{1}w_{2}\cdots w_{n}$
\end_inset

 כך ש-
\begin_inset Formula $w_{k}\in\Delta$
\end_inset

 לכל 
\begin_inset Formula $1\le k\le n$
\end_inset

.
 כעת נוסיף ל-
\begin_inset Formula $\varphi_{w}$
\end_inset

 את סדרת הפסוקיות בנות איבר בודד הבאות:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
 & X_{1,1}^{\left(q_{0},w_{1}\right)}\wedge X_{1,2}^{w_{2}}\wedge X_{1,3}^{w_{3}}\wedge\ldots\wedge X_{1,n}^{W_{n}}\wedge X_{1,n+1}^{\flat}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
פסוקיות אלו מבטיחות שתחילת הקונפיגורציה תהיה מהצורה 
\begin_inset Formula $\left(q_{0},w_{1}\right)w_{2}w_{3}\cdots w_{n}\flat$
\end_inset

; כל מה שאחרי כן יכול להיחשב חלק מ-
\begin_inset Formula $y$
\end_inset

, שאותו אין אנו מגבילים )אם אנו זקוקים להגבלות נוספות, למשל אנו רוצים להניח
 במפורש ש-
\begin_inset Formula $\flat$
\end_inset

 לא מופיע כחלק מ-
\begin_inset Formula $y$
\end_inset

, ניתן להוסיף פסוקיות מהצורה 
\begin_inset Formula $\neg X^{\flat}$
\end_inset

, אך אין לנו כאן צורך בכך(.
\end_layout

\begin_layout Proof
השלמנו את שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתיאור שהצגנו קודם.
 הפסוקית שהוספנו היא מאורך 
\begin_inset Formula $O\left(\left|w\right|\right)$
\end_inset

, כך ש-
\begin_inset Formula $\varphi_{w}$
\end_inset

 נותר פולינומי בגודלו.
\end_layout

\begin_layout Proof
על מנת להבטיח שקיימת בטבלה שורה שבה מופיע 
\begin_inset Formula $q_{acc}$
\end_inset

 נוכל פשוט לבדוק את כל תאי הטבלה.
 נוודא שלא מופיע 
\begin_inset Formula $q_{rej}$
\end_inset

 בשום שלב, וש-
\begin_inset Formula $q_{acc}$
\end_inset

 מופיע לפחות פעם אחת.
 בצורה זו מובטח שהחישוב שמתואר על ידי הטבלה אכן יסתיים במצב מקבל )ולא, נאמר,
 יסתיים קודם במצב 
\begin_inset Formula $q_{rej}$
\end_inset

 ו-
\begin_inset Formula $q_{acc}$
\end_inset

 יופיע בהמשך באופן חסר משמעות(.
\end_layout

\begin_layout Proof
נוסיף ל-
\begin_inset Formula $\varphi_{w}$
\end_inset

 את הפסוקיות הבאות:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
 & \left(\bigvee_{\begin{array}{c}
1\le i,j\le N,\sigma\in\Gamma\end{array}}X_{i,j}^{\left(q_{acc},\sigma\right)}\right)\\
 & \bigwedge_{1\le i,j\le N,\sigma\in\Gamma}\neg X_{i,j}^{\left(q_{rej},\sigma\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
הוספנו פסוקיות מאורך כולל של 
\begin_inset Formula $O\left(N^{2}\cdot\left|\Gamma\right|\right)=O\left(N^{2}\right)$
\end_inset

 - עדיין פולינומי.
 בכך סיימנו את שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
\end_layout

\begin_layout Proof
נותר להוסיף פסוקיות שמבטיחות שהמעבר בין שתי קונפיגורציות עוקבות הוא תקין.
\end_layout

\begin_layout Proof
בהינתן זוג קונפיגורציות עוקבות 
\begin_inset Formula $C,C^{\prime}$
\end_inset

 שמסודרות כך שהשורה של 
\begin_inset Formula $C^{\prime}$
\end_inset

 נמצאת מעל השורה של 
\begin_inset Formula $C$
\end_inset

, כל תא של 
\begin_inset Formula $C^{\prime}$
\end_inset

 נקבע באחת מהדרכים הבאות:
\end_layout

\begin_deeper
\begin_layout Itemize
אם התא שמתחתיו כלל 
\begin_inset Formula $\left(q,\sigma\right)$
\end_inset

 ובמכונה 
\begin_inset Formula $M$
\end_inset

 
\begin_inset Formula $\delta\left(q,\sigma\right)=\left(p,\tau,S\right)$
\end_inset

.
 במקרה זה תוכן התא יהיה 
\begin_inset Formula $\left(p,\tau\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם התא שמתחתיו כלל 
\begin_inset Formula $\left(q,\sigma\right)$
\end_inset

 ובמכונה 
\begin_inset Formula $M$
\end_inset

 
\begin_inset Formula $\delta\left(q,\sigma\right)=\left(p,\tau,X\right)$
\end_inset

 כך ש-
\begin_inset Formula $X\in\left\{ L,R\right\} $
\end_inset

.
 במקרה זה תוכן התא יהיה 
\begin_inset Formula $\tau$
\end_inset

.
\end_layout

\begin_layout Itemize
אם התא שמתחתיו כלל 
\begin_inset Formula $\sigma$
\end_inset

 והתא שמימין לתא זה כלל 
\begin_inset Formula $\left(q,\sigma^{\prime}\right)$
\end_inset

 ובמכונה 
\begin_inset Formula $M$
\end_inset

 
\begin_inset Formula $\delta\left(q,\sigma^{\prime}\right)=\left(p,\tau,L\right)$
\end_inset

.
 במקרה זה תוכן התא יהיה 
\begin_inset Formula $\left(p,\sigma\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם התא שמתחתיו כלל 
\begin_inset Formula $\sigma$
\end_inset

 והתא שמשמאל לתא זה כלל 
\begin_inset Formula $\left(q,\sigma^{\prime}\right)$
\end_inset

 ובמכונה 
\begin_inset Formula $M$
\end_inset

 
\begin_inset Formula $\delta\left(q,\sigma^{\prime}\right)=\left(p,\tau,R\right)$
\end_inset

.
 במקרה זה תוכן התא יהיה 
\begin_inset Formula $\left(p,\sigma\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם התא שמתחתיו כלל 
\begin_inset Formula $\sigma$
\end_inset

 והתאים משמאל ומימין לתא זה לא כוללים את הראש הקורא של המכונה.
 במקרה זה תוכן התא יהיה 
\begin_inset Formula $\sigma$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
במילים אחרות, תוכן כל תא הוא פונקציה של שלושת התאים הסמוכים אליו בשורה מתחת:
 זה שמתחתיו ואלו שמימין ומשמאל לזה שמתחתיו.
 לכל תא יש 
\begin_inset Formula $\left|\Delta\right|$
\end_inset

 משתנים שמתארים אותו, כך שבסך הכל עבור כל תא, הפסוק שמתאר את תקינות התא
 כולל 
\begin_inset Formula $\left|\Delta\right|^{4}$
\end_inset

 משתנים.
 אופי הפסוק הזה תלוי מאוד בפונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

 של המכונה, אבל ניתן לכתוב 
\series bold
כל פסוק
\series default
 בעזרת נוסחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
.
 אם הפסוק הוא על 
\begin_inset Formula $n$
\end_inset

 משתנים, גודל נוסחת ה-
\lang english
CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הזו עשוי להיות 
\begin_inset Formula $2^{n}$
\end_inset

, כך שבמקרה זה גודל הפסוק עלול להיות 
\begin_inset Formula $2^{\left|\Delta\right|^{4}}$
\end_inset

.
 על פניו זה מספר גדול, אולם זוהי הנקודת המרכזית בהוכחה: 
\begin_inset Formula $\left|\Delta\right|$
\end_inset

 הוא 
\series bold
קבוע
\series default
 שאינו תלוי בגודל 
\begin_inset Formula $w$
\end_inset

 אלא רק בתכונות המכונה 
\begin_inset Formula $M$
\end_inset

.
 לכן 
\begin_inset Formula $2^{\left|\Delta\right|^{4}}$
\end_inset

 הוא קבוע.
\end_layout

\begin_layout Proof
אם כן, לכל 
\begin_inset Formula $1\le i,j\le N$
\end_inset

 יש לנו פסוק מגודל קבוע שמתאר את תקינות התא 
\begin_inset Formula $\left(i,j\right)$
\end_inset

 ביחס לפונקציית המעברים 
\begin_inset Formula $\delta$
\end_inset

, ולכן בסך הכל גודל הפסוק שאנו מוסיפים אל 
\begin_inset Formula $\varphi_{w}$
\end_inset

 הוא 
\begin_inset Formula $O\left(N^{2}\right)$
\end_inset

 - פולינומי ב-
\begin_inset Formula $\left|w\right|$
\end_inset

.
\end_layout

\begin_layout Proof
בכך הסתיימה בניית 
\begin_inset Formula $\varphi_{w}$
\end_inset

, מה שסיים את הוכחת משפט קוק-לוין; מהבניה שלנו עולה ש-
\begin_inset Formula $w\in L$
\end_inset

 אם ורק אם 
\begin_inset Formula $\varphi_{w}$
\end_inset

 ספיק, כנדרש.
\end_layout

\begin_layout Subsection
דוגמאות מתקדמות לשפות
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות
\end_layout

\begin_layout Subsubsection
בעיית סכום תת-הקבוצה )
\lang english
Subset Sum
\lang hebrew
(
\end_layout

\begin_layout Standard
בבעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Subset Sum
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הקלט כולל סדרה 
\begin_inset Formula $a_{1},a_{2},\ldots,a_{n}$
\end_inset

 של מספרים טבעיים ומספר יעד 
\begin_inset Formula $k$
\end_inset

, והשאלה היא האם קיימת תת-סדרה של הסדרה המקורית שמסתכמת אל 
\begin_inset Formula $k$
\end_inset

.
 פורמלית:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{SS}= & \left\{ \left(a_{1},\ldots,a_{n},k\right)\ |\ \exists I\subseteq\left[n\right]:\sum_{i\in I}a_{i}=k\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כרגיל, בבירור 
\begin_inset Formula $\text{SS}\in\text{NP}$
\end_inset

 עם היחס שכולל את 
\begin_inset Formula $I$
\end_inset

 המתאימה.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{VC}\le_{p}\text{SS}$
\end_inset


\end_layout

\begin_layout Standard
ההוכחה אינה קשה אבל הצורך לעבוד עם מספרים טבעיים מוסיף קושי טכני, אז נפתח
 עם תיאור אינטואיטיבי של המתרחש בה.
 יהא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף ונסמן 
\begin_inset Formula $\left|V\right|=n$
\end_inset

 ו-
\begin_inset Formula $\left|E\right|=m$
\end_inset

.
 בהינתן 
\begin_inset Formula $k$
\end_inset

 עלינו לבדוק האם קיים כיסוי בצמתים מגודל קטן או שווה מ-
\begin_inset Formula $k$
\end_inset

; מכיוון שתמיד ניתן להוסיף לכיסוי עוד צמתים ועדיין לקבל כיסוי, מספיק לבדוק
 אם קיים כיסוי שגודלו 
\series bold
בדיוק
\series default
 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Standard
נקודד כל צומת 
\begin_inset Formula $v_{i}\in V$
\end_inset

 בעזרת וקטור 
\begin_inset Formula $a_{i}\in\left\{ 0,1\right\} ^{m}$
\end_inset

 כך ש-
\begin_inset Formula $\left[a_{i}\right]_{j}=\begin{cases}
1 & v_{i}\in e_{j}\\
0 & v_{i}\notin e_{j}
\end{cases}$
\end_inset

.
 כעת, אם 
\begin_inset Formula $I\subseteq\left[n\right]$
\end_inset

 היא קבוצה של צמתים, אז 
\begin_inset Formula $\sum_{i\in I}a_{i}$
\end_inset

 יהיה וקטור שבו כל כניסה )המתאימה לקשת 
\begin_inset Formula $e_{j}$
\end_inset

 כלשהי( תהיה או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם שני הצמתים של 
\begin_inset Formula $e_{j}$
\end_inset

 ב-
\begin_inset Formula $I$
\end_inset

(, או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם רק אחד מהם שם( או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אם אף אחד מהם אינו שם(.
 במילים אחרות, 
\begin_inset Formula $I$
\end_inset

 הוא כיסוי בצמתים אם ורק אם וקטור הסכום לא כולל כניסות שהן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
אנו רוצים לפשט מעט את העניינים כך שאם 
\begin_inset Formula $I$
\end_inset

 הוא כיסוי בצמתים, אז אפשר לקבל וקטור תוצאה שבו כל הכניסות הן 
\series bold
בדיוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
 לצורך כך נוסיף עוד וקטורי עזר, שכל אחד מהם יכול להוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכניסה בודדת: וקטורים מהצורה 
\begin_inset Formula $b_{j}\in\left\{ 0,1\right\} ^{m}$
\end_inset

 עבור 
\begin_inset Formula $j\in\left[m\right]$
\end_inset

 כך ש-
\begin_inset Formula $\left[b_{j}\right]_{t}=\delta_{jt}$
\end_inset

.
 כעת, בהינתן 
\begin_inset Formula $I$
\end_inset

 שמהווה סיכוי בצמתים, אפשר על ידי הוספת 
\begin_inset Formula $b$
\end_inset

-ים מתאימים להגיע אל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכל הכניסות )לכניסות שכבר יש בהן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא נזדקק ל-
\begin_inset Formula $b$
\end_inset

, ולכניסות שיש בהן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נזדקק לו(.
 מכיוון ש-
\begin_inset Formula $b$
\end_inset

 יכול להוסיף רק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכניסה, הרי שכניסה שהיה בה קודם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא תוכל להפוך ל-
\numeric on
2
\numeric off
.
\end_layout

\begin_layout Standard
סיכום ביניים: ב-
\begin_inset Formula $G$
\end_inset

 קיים כיסוי בצמתים אם ורק אם קיימת תת-קבוצה של ה-
\begin_inset Formula $a_{1},\ldots,a_{n},b_{1},\ldots,b_{m}$
\end_inset

 שסכומה הוא הוקטור 
\begin_inset Formula $\left\{ 2\right\} ^{m}$
\end_inset

.
\end_layout

\begin_layout Standard
מה עדיין חסר? האילוץ של 
\begin_inset Formula $k$
\end_inset

 איברים בדיוק בכיסוי.
 לצורך כך נוסיף עוד כניסה אחת אחרונה לוקטורים שלנו, שתהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכל וקטורי ה-
\begin_inset Formula $a$
\end_inset

 ו-
\begin_inset Formula $0$
\end_inset

 בכל וקטורי ה-
\begin_inset Formula $b$
\end_inset

, כך שערך הכניסה הזו בסכום סופר כמה וקטורי 
\begin_inset Formula $a$
\end_inset

 השתתפו בו.
\end_layout

\begin_layout Standard
כדי לעבור מהניסוח ה
\begin_inset Quotes erd
\end_inset

וקטורי
\begin_inset Quotes erd
\end_inset

 לניסוח עם מספרים טבעיים המתאים ל-
\lang english
SS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עלינו רק לשים לב שאפשר לחשוב על מספר טבעי בתור וקטור של ספרות, בזכות ההתאמה
 
\begin_inset Formula $\left(d_{1},d_{2},\ldots,d_{t}\right)\mapsto\sum_{i=1}^{t}10^{i-1}$
\end_inset

.
\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $\left(G,k\right)$
\end_inset

 כלשהו כך ש-
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 עם 
\begin_inset Formula $\left|V\right|=n,\left|E\right|=m$
\end_inset

.
 נבנה קלט לבעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SS
\lang hebrew
: 
\begin_inset Formula $\left(a_{1},\ldots,a_{n},b_{1},\ldots,b_{m},t\right)$
\end_inset

 כך ש:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $a_{i}=10^{m}+\sum_{j:v_{i}\in e_{j}}10^{j-1}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $b_{j}=10^{j-1}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $t=k\cdot10^{m}+\sum_{j=1}^{m}2\cdot10^{j-1}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
הבניה בבירור פולינומית כי חישוב הסכומים הנ
\begin_inset Quotes erd
\end_inset

ל מתבצע בזמן פולינומי.
\end_layout

\begin_layout Proof
נעבור להוכחת נכונות.
\end_layout

\begin_layout Proof
ראשית, נניח כי קיים ב-
\begin_inset Formula $G$
\end_inset

 כיסוי בצמתים מגודל לכל היותר 
\begin_inset Formula $k$
\end_inset

, ולכן בפרט קיים אחד מגודל 
\begin_inset Formula $k$
\end_inset

 בדיוק.
 כלומר קיימת 
\begin_inset Formula $I\subseteq\left[n\right]$
\end_inset

 כך ש-
\begin_inset Formula $\left|I\right|=k$
\end_inset

 ולכל 
\begin_inset Formula $e\in E$
\end_inset

 קיים 
\begin_inset Formula $i\in I$
\end_inset

 כך ש-
\begin_inset Formula $v_{i}\in e$
\end_inset

.
 
\end_layout

\begin_layout Proof
נגדיר 
\begin_inset Formula $J=\left\{ j\in\left[m\right]\ |\ \left|\left\{ v_{i}\ |\ i\in I\wedge v_{i}\in e_{j}\right\} \right|=1\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
כעת, הפתרון לבעיית ה-
\lang english
SS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כולל את כל ה-
\begin_inset Formula $a_{i}$
\end_inset

-ים עם אינדקסים ב-
\begin_inset Formula $I$
\end_inset

 וה-
\begin_inset Formula $b_{j}$
\end_inset

-ים עם אינדקסים ב-
\begin_inset Formula $J$
\end_inset

.
 כדי לראות זאת נתבונן על הסכום
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
\sum_{i\in I}a_{i}+\sum_{j\in J}b_{j} & =\sum_{i\in I}10^{m}+\sum_{i\in I}\sum_{j:v_{i}\in e_{j}}10^{j-1}+\sum_{j\in J}10^{j-1}\\
 & =k\cdot10^{m}+\left(\sum_{j\in J}10^{j-1}+\sum_{j\notin J}2\cdot10^{j-1}\right)+\sum_{j\in J}10^{j-1}\\
 & =k\cdot10^{m}+\sum_{j=1}^{m}2\cdot10^{j-1}=t
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כמבוקש.
\end_layout

\begin_layout Proof
בכיוון השני, נניח כי קיים פתרון לבעיית ה-
\lang english
SS
\lang hebrew
.
 נסמן ב-
\begin_inset Formula $I$
\end_inset

 את קבוצת האינדקסים של ה-
\begin_inset Formula $a_{i}$
\end_inset

-ים שנכללים בפתרון.
\end_layout

\begin_layout Proof
לכל קבוצה 
\begin_inset Formula $J\subseteq\left[m\right]$
\end_inset

 של אינדקסים אם נתבונן בביטוי 
\begin_inset Formula $\sum_{i\in I}a_{i}+\sum_{j\in J}b_{j}$
\end_inset

 רק על סכומי החזקות עד ולא כולל חזקה 
\begin_inset Formula $t$
\end_inset

 כלשהי, נקבל שסכום זה הוא לכל היותר 
\begin_inset Formula 
\begin{align*}
3\sum_{i=1}^{t-1}10^{t} & \le3\cdot\frac{10^{t}-1}{10-1}\le10^{t}-1<10^{t}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
ובמילים אחרות, אי אפשר להגיע אל אף חזקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 על ידי חיבור של חזקות קטנות יותר מבין האיברים בקבוצה: הכרחי לחבר איברים
 שכוללים בהגדרתם את החזקות הללו של 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
.
\end_layout

\begin_layout Proof
מכאן נסיק:
\end_layout

\begin_deeper
\begin_layout Itemize
החזקה 
\begin_inset Formula $k\cdot10^{m}$
\end_inset

 מתקבל מהסכום 
\begin_inset Formula $\sum_{i\in I}a_{i}$
\end_inset

.
 מכיוון שבסכום זה מקבלים את החזקה 
\begin_inset Formula $\left|I\right|\cdot10^{m}$
\end_inset

, נסיק ש-
\begin_inset Formula $\left|I\right|=k$
\end_inset

.
\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $j<m$
\end_inset

, החזקה 
\begin_inset Formula $2\cdot10^{j}$
\end_inset

 מתקבלת מהסכום של 
\begin_inset Formula $b_{j+1}$
\end_inset

 וחלק מאברי 
\begin_inset Formula $I$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $b_{j+1}$
\end_inset

 תורם רק 
\begin_inset Formula $10^{j}$
\end_inset

 יחיד לסכום, עוד איבר מ-
\begin_inset Formula $I$
\end_inset

 חייב לתרום 
\begin_inset Formula $10^{j}$
\end_inset

 נוסף, כלומר הצומת 
\begin_inset Formula $v_{i}$
\end_inset

 שמייצג אותו נוגע בקשת 
\begin_inset Formula $e_{j}$
\end_inset

, כמבוקש.
\end_layout

\end_deeper
\begin_layout Proof
בכך מסתיימת הוכחת התקפות, ולכן ההוכחה כולה.
\end_layout

\begin_layout Subsubsection
בעיית החלוקה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Partition
\end_layout

\begin_layout Standard
הבעיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PARTITION
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוגדרת באמצעות קבוצת מספרים טבעיים, שאנו מעוניינים לחלק לשתי תת-קבוצות זרות
 ומשלימות שסכומן זהה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{PARTITION} & =\left\{ \left(a_{1},a_{2},\ldots,a_{n}\right)\ |\ \exists I\subseteq\left[n\right]:\sum_{i\in I}a_{i}=\sum_{i\notin I}a_{i}\right\} 
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\text{PARTITION}\in\text{NP}$
\end_inset

 עם היחס שנותן את 
\begin_inset Formula $I$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset Formula $\text{SS}\le_{p}\text{PARTITION}$
\end_inset


\end_layout

\begin_layout Standard
כדי להבין את ההוכחה, ראשית נשים לב לכך ש-
\lang english
PARTITION
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא מעין מקרה פרטי של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SS
\lang hebrew
.
 אם נסמן 
\begin_inset Formula $A=\sum_{i=1}^{n}a_{i}$
\end_inset

, אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
PARTITION
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא השאלה האם קיימת תת-קבוצה של המספרים שמסתכמת אל 
\begin_inset Formula $\frac{A}{2}$
\end_inset

.
 לכן, בהינתן בעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם סכום מבוקש 
\begin_inset Formula $k$
\end_inset

, אם נוסיף מספר איברים בצורה חכמה נוכל להפוך את הבעיה לבעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שבה הסכום המבוקש הוא בדיוק חצי מסכום כל האיברים בקבוצה.
\end_layout

\begin_layout Proof
בהינתן קלט 
\begin_inset Formula $\left(a_{1},a_{2},\ldots,a_{n},k\right)$
\end_inset

 עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SS
\lang hebrew
, נסמן:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $A=\sum_{i=1}^{n}a_{i}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $B=2A-k$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $C=A+k$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
נוציא כפלט הרדוקציה את 
\begin_inset Formula $\left(a_{1},\ldots,a_{n},B,C\right)$
\end_inset

.
\end_layout

\begin_layout Proof
בבירור הרדוקציה פולינומית כי החלק היחיד בביצוע שלה שתלוי באורך הקלט דורש
 רק את חישוב 
\begin_inset Formula $A$
\end_inset

, חישוב שהוא בבירור פולינומי.
\end_layout

\begin_layout Proof
נראה את תקפות הרדוקציה.
\end_layout

\begin_layout Proof
ראשית, נשים לב לכך שכעת סכום כל האיברים הוא 
\begin_inset Formula 
\begin{align*}
\sum_{i=1}^{n}a_{i}+B+C & =A+B+C=A+\left(2A-k\right)+\left(A+k\right)=4A
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כלומר, קיים פתרון לבעיית ה-
\lang english
PARTITION
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אם ורק אם קיימת תת-קבוצה שמסתכמת אל 
\begin_inset Formula $2A$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון אחד, נניח ש-
\begin_inset Formula $I$
\end_inset

 הוא פתרון של בעיית ה-
\lang english
SS
\lang hebrew
, כלומר 
\begin_inset Formula $\sum_{a_{i}\in I}=k$
\end_inset

.
 אז פתרון לבעיית ה-
\lang english
PARTITION
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יכלול את אברי 
\begin_inset Formula $I$
\end_inset

 ועוד האיבר 
\begin_inset Formula $B$
\end_inset

; סכומם הוא בבירור 
\begin_inset Formula $2A$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון השני, נניח שקיים פתרון לבעיית ה-
\lang english
PARTITION
\lang hebrew
.
 ראשית נשים לב לכך שבהכרח 
\begin_inset Formula $B,C$
\end_inset

 אינם באותה תת-קבוצה, כי סכומם הוא 
\begin_inset Formula $3A$
\end_inset

 שגדול יותר מ-
\begin_inset Formula $2A$
\end_inset

 המבוקש.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $I$
\end_inset

 קבוצת האיברים שעם 
\begin_inset Formula $B$
\end_inset

 בסכום - כפי שראינו, כולם איברים של הסדרה 
\begin_inset Formula $a_{1},a_{2},\ldots,a_{n}$
\end_inset

 המקורית.
 מכיוון שסכום איברים אלו יחד עם 
\begin_inset Formula $B$
\end_inset

 הוא 
\begin_inset Formula $2A$
\end_inset

 הרי שסכומם לאחר שמפחיתים ממנו את 
\begin_inset Formula $B=2A-k$
\end_inset

 הוא 
\begin_inset Formula $k$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Subsubsection
בעיית החלוקה לתאים )
\lang english
Bin Packing
\lang hebrew
(
\end_layout

\begin_layout Standard
בבעיית החלוקה לתאים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BP
\lang hebrew
, נתונים לנו איברים 
\begin_inset Formula $a_{1},\ldots,a_{n}$
\end_inset

 שהם מספרים טבעיים ובנוסף לכך נתונים לנו 
\begin_inset Formula $k$
\end_inset

 תאים שקיבולת כל אחד מהם היא 
\begin_inset Formula $B$
\end_inset

.
 המטרה היא למצוא חלוקה של המספרים לתאים, כך שסכום המספרים בתא אינו עולה
 על 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\begin_layout Standard
הבעיה בבירור ב-
\lang english
NP
\lang hebrew
, וקיימת רדוקציה פשוטה 
\begin_inset Formula $\text{PARTITION}\le_{p}\text{BP}$
\end_inset

 שעל קלט 
\begin_inset Formula $a_{1},\ldots,a_{n}$
\end_inset

 מחזירה את אותה קבוצת איברים, 
\begin_inset Formula $k=2$
\end_inset

 ו-
\begin_inset Formula $B=\frac{\sum_{i=1}^{n}a_{i}}{2}$
\end_inset

.
\end_layout

\begin_layout Subsubsection
בעיות של גרפים המילטוניים
\end_layout

\begin_layout Standard
אחת מהדוגמאות שבה פתחנו את הדיון על בעיות ב-
\lang english
NP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הייתה זו של 
\series bold
גרפים המילטוניים
\series default
.
 גרפים הם המילטוניים אם קיים בהם מסלול שמבקר בכל צומת בדיוק פעם אחת.
 המסלול הזה עשוי להיות מעגל )להתחיל ולהסתיים באותה צומת; אנו לא מכלילים
 את נקודת הסיום בספירה( או לא; והגרף עשוי להיות מכוון או לא.
 זה מוביל לארבע שפות שונות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{HC}$
\end_inset

 - שפת הגרפים 
\series bold
הלא מכוונים
\series default
 שקיים בהם 
\series bold
מעגל
\series default
 המילטוני.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{HL}$
\end_inset

 - שפת הגרפים 
\series bold
הלא מכוונים
\series default
 שקיים בהם 
\series bold
מסלול
\series default
 המילטוני.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{DHC}$
\end_inset

 - שפת הגרפים 
\series bold
המכוונים
\series default
 שקיים בהם 
\series bold
מעגל
\series default
 המילטוני.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\text{DHL}$
\end_inset

 - שפת הגרפים 
\series bold
המכוונים
\series default
 שקיים בהם 
\series bold
מסלול
\series default
 המילטוני.
\end_layout

\begin_layout Standard
כל ארבע השפות הללו שייכות בבירור ל-
\lang english
NP
\lang hebrew
; בכולן היחס פשוט כולל את המסלול )שעשוי להיות מעגל(, שהוא פשוט תמורה על
 כל צמתי הגרף.
 האתגר הוא להראות כי כל השפות הללו הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות, וזה מתבצע באמצעות שרשרת הרדוקציות הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{VC}\le_{p} & \text{DHC}\le_{p}\text{HC}\le_{p}\text{HL}\le_{p}\text{DHL}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
הרדוקציה הראשונה, 
\begin_inset Formula $\text{VC}\le_{p}\text{DHC}$
\end_inset

, היא הקשה בכולן; על כן נשמור אותה לסוף ונציג תחילה את הרדוקציות האחרות.
\end_layout

\begin_layout Paragraph*
\begin_inset Formula $\text{DHC}\le_{p}\text{HC}$
\end_inset


\end_layout

\begin_layout Standard
אנו רוצים לפתור את הבעיה של מציאת מעגל המילטוני בגרף 
\series bold
מכוון
\series default
 באמצעות שימוש בגרף לא מכוון.
 אם ניקח גרף מכוון ופשוט נמחק את כיווני הקשתות, יוכלו להיווצר מעגלים חדשים
 שלא היו קיימים קודם, ואנו רוצים להימנע מכך.
\end_layout

\begin_layout Standard
דרך חכמה יותר )אבל שעדיין אינה עובדת( לשמור על האופי המכוון של הגרף היא
 לפצל כל צומת 
\begin_inset Formula $v$
\end_inset

 בגרף המקורי לזוג צמתים 
\begin_inset Formula $v_{in},v_{out}$
\end_inset

 כך שקיימת בגרף החדש קשת 
\begin_inset Formula $v_{in}\to v_{out}$
\end_inset

, ואם בגרף המקורי הייתה קשת 
\begin_inset Formula $v\to u$
\end_inset

 אז בגרף החדש נוסיף קשת 
\begin_inset Formula $v_{out}\to u_{in}$
\end_inset

.
\end_layout

\begin_layout Standard
הבניה הזו עלולה להיכשל שכן מרגע שהמסלול נכנס אל 
\begin_inset Formula $v_{in}$
\end_inset

 אין דרך לחייב אותו להמשיך משם אל 
\begin_inset Formula $v_{out}$
\end_inset

; הוא עשוי תחת זאת לעבור אל צומת לא קשור, 
\begin_inset Formula $u_{out}$
\end_inset

 שמחובר אל 
\begin_inset Formula $v_{in}$
\end_inset

, ולבקר ב-
\begin_inset Formula $v_{out}$
\end_inset

 רק הרבה בהמשך.
 אנחנו חייבים להוסיף עוד משהו ש
\begin_inset Quotes erd
\end_inset

יחייב
\begin_inset Quotes erd
\end_inset

 אותנו, מרגע שנכנסנו אל 
\begin_inset Formula $v_{in}$
\end_inset

, להמשיך אל 
\begin_inset Formula $v_{out}$
\end_inset

.
 את האפקט הזה ניתן להוסיף על ידי צומת נוסף באמצע ש
\begin_inset Quotes erd
\end_inset

כלוא
\begin_inset Quotes erd
\end_inset

 בין 
\begin_inset Formula $v_{in}$
\end_inset

 ו-
\begin_inset Formula $v_{out}$
\end_inset

.
 אם לא נבקר בצומת הזה בהזדמנות הראשונה שלנו, 
\begin_inset Quotes eld
\end_inset

נשרוף
\begin_inset Quotes erd
\end_inset

 אחת משתי הקשתות שמחוברות אליו, מה שימנע מאיתנו להיכנס אליו בהמשך בלי להיתקע.
\end_layout

\begin_layout Standard
אם כן, הרדוקציה מוגדרת באופן פורמלי כך: בהינתן 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 נחזיר 
\begin_inset Formula $G^{\prime}=\left(V^{\prime},E^{\prime}\right)$
\end_inset

 כך ש:
\end_layout

\begin_layout Itemize
\begin_inset Formula $V^{\prime}=\bigcup_{v\in V}\left\{ v_{in},v_{middle},v_{out}\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $E^{\prime}=\bigcup_{v\in V}\left\{ \left(v_{in},v_{middle}\right),\left(v_{middle},v_{out}\right)\right\} \cup\left\{ \left(v_{out},u_{in}\right)\ |\ \left(v,u\right)\in E\right\} $
\end_inset


\end_layout

\begin_layout Standard
אם ב-
\begin_inset Formula $G$
\end_inset

 היה קיים המעגל ההמילטוני המכוון 
\begin_inset Formula 
\begin{align*}
v^{1} & \to v^{2}\to\ldots\to v^{n}\to v^{1}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אז ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 יהיה קיים המעגל ההמילטוני הלא מכוון
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v_{in}^{1}\to v_{middle}^{1}\to v_{out}^{1}\to v_{in}^{2}\to\ldots\to v_{out}^{n}\to v_{in}^{1}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
מצד שני, אם ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 קיים מעגל המילטוני, הוא בהכרח מהצורה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v_{in}^{1} & \to v_{middle}^{1}\to v_{out}^{1}\to v_{in}^{2}\to\ldots\to v_{out}^{n}\to v_{in}^{1}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
או מאותה הצורה, אבל בכיוון ההפוך; במקרה זה, על ידי היפוך סדר הצמתים במעגל,
 נקבל שוב מעגל מהצורה לעיל, שממנו נובע קיומו ב-
\begin_inset Formula $G$
\end_inset

 של מעגל מהצורה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v^{1} & \to v^{2}\to\ldots\to v^{n}\to v^{1}
\end{align*}

\end_inset


\end_layout

\begin_layout Paragraph*
\begin_inset Formula $\text{HC}\le_{p}\text{HL}$
\end_inset


\end_layout

\begin_layout Standard
כעת אנו רוצים לפתור את הבעיה של קיום 
\series bold
מעגל
\series default
 בגרף לא מכוון על ידי פתרון הבעיה של קיום 
\series bold
מסלול
\series default
 בגרף לא מכוון.
 מעגל הוא בפרט מסלול, אבל קיימים מסלולים רבים שאינם מעגלים )למשל, בגרף 
\begin_inset Quotes eld
\end_inset

שרוך
\begin_inset Quotes erd
\end_inset

( כך שבהינתן 
\begin_inset Formula $G$
\end_inset

, אנו רוצים להרחיב אותו בדרך כלשהי לגרף 
\begin_inset Formula $G^{\prime}$
\end_inset

 שמסלול בו יתאים למעגל בגרף המקורי.
\end_layout

\begin_layout Standard
לצורך כך, נזכור כי למעגל אין נקודת התחלה או סיום ברורות; כל צומת בגרף יכול
 לשמש בתור נקודת ההתחלה והסיום של מעגל המילטוני.
 לכן נבחר צומת 
\begin_inset Formula $v\in V$
\end_inset

 שרירותי ב-
\begin_inset Formula $G$
\end_inset

 ונפצל אותו לשני צמתים, 
\begin_inset Formula $v_{1},v_{2}$
\end_inset

, ששניהם מחוברים לאותם צמתים כמו 
\begin_inset Formula $v$
\end_inset

 המקורי אבל לא מחוברים זה לזה.
\end_layout

\begin_layout Standard
בפני עצמו, הפיצול הזה לא יספיק לנו כי דבר לא מבטיח לנו ש-
\begin_inset Formula $v_{1},v_{2}$
\end_inset

 ישמשו בתור נקודות ההתחלה והסיום של המסלול.
 לכן נוסיף לגרף עוד שני צמתים מיוחדים: 
\begin_inset Formula $v_{start}$
\end_inset

 ו-
\begin_inset Formula $v_{end}$
\end_inset

, ונחבר אותם אל 
\begin_inset Formula $v_{1},v_{2}$
\end_inset

 בהתאמה.
\end_layout

\begin_layout Standard
כלומר, הרדוקציה תוגדר פורמלית כך: בהינתן 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 נחזיר 
\begin_inset Formula $G^{\prime}=\left(V^{\prime},E^{\prime}\right)$
\end_inset

 כך ש:
\end_layout

\begin_layout Itemize
\begin_inset Formula $V^{\prime}=\left(V\backslash\left\{ v\right\} \right)\cup\left\{ v_{1},v_{2},v_{start},v_{end}\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $E^{\prime}=\bigcup_{\left(v,u\right)\in E}\left\{ \left(v_{1},u\right),\left(v_{2},u\right)\right\} \cup\left\{ \left(u,w\right)\ |\ u,w\in V\backslash\left\{ v\right\} \right\} \cup\left\{ \left(v_{start},v_{1}\right),\left(v_{2},v_{end}\right)\right\} $
\end_inset


\end_layout

\begin_layout Standard
בכיוון אחד, אם קיים ב-
\begin_inset Formula $G$
\end_inset

 מעגל המילטוני, נכתוב אותו כך ש-
\begin_inset Formula $v$
\end_inset

 הוא הצומת הראשון והאחרון:
\begin_inset Formula 
\begin{align*}
v\to u_{1}\to u_{2}\to\ldots\to u_{k}\to v
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
וכעת ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 קיים המסלול ההמילטוני
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v_{start}\to v_{1}\to u_{1}\to u_{2}\to\ldots\to u_{k}\to v_{2}\to v_{end}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בכיוון השני, נשים לב לכך שמכיוון שדרגת 
\begin_inset Formula $v_{start},v_{end}$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, הופעה שלהם במסלול בגרף היא רק בתחילת או סיום המסלול; לא ניתן גם להיכנס
 וגם לצאת מהם.
 בהינתן מסלול המילטוני ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 נניח בלי הגבלת הכלליות שהוא מתחיל ב-
\begin_inset Formula $v_{start}$
\end_inset

 ומסתיים ב-
\begin_inset Formula $v_{end}$
\end_inset

 )אחרת אפשר להפוך את סדר כל הצמתים במסלול(.
 מכיוון ש-
\begin_inset Formula $v_{start}$
\end_inset

 מחובר רק ל-
\begin_inset Formula $v_{1}$
\end_inset

 ו-
\begin_inset Formula $v_{end}$
\end_inset

 מחובר רק ל-
\begin_inset Formula $v_{2}$
\end_inset

, המסלול חייב להיות מהצורה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v_{start} & \to v_{1}\to u_{1}\to u_{2}\to\ldots\to u_{k}\to v_{2}\to v_{end}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בפרט המסלול הזה מראה את קיום הקשתות 
\begin_inset Formula $\left(v,u_{1}\right)$
\end_inset

 ו-
\begin_inset Formula $\left(u_{k},v\right)$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

, כך שהמסלול הבא ב-
\begin_inset Formula $G$
\end_inset

 הוא חוקי:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v & \to u_{1}\to u_{2}\to\ldots\to u_{k}\to v
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
מה שמסיים את הוכחת תקפות הרדוקציה.
\end_layout

\begin_layout Paragraph*
\begin_inset Formula $\text{HL}\le_{p}\text{DHL}$
\end_inset


\end_layout

\begin_layout Standard
כעת אנו מעוניינים לפתור את בעיית המסלול ההמילטוני בגרף 
\series bold
לא מכוון
\series default
 בעזרת פתרון שלה עבור גרף 
\series bold
מכוון
\series default
.
 בהינתן גרף לא מכוון 
\begin_inset Formula $G$
\end_inset

, אם היינו מגדירים 
\begin_inset Formula $G^{\prime}=G$
\end_inset

 הפלט שלנו היה 
\begin_inset Quotes eld
\end_inset

לא חוקי
\begin_inset Quotes erd
\end_inset

 שכן לא היו בו כיוונים לקשתות.
 אם סתם נכוון את קשתות 
\begin_inset Formula $G$
\end_inset

 באופן אקראי, בהחלט ייתכן שנאבד מסלולים המילטוניים שקודם היו שם )אפילו בגרף
 שהוא כולו שרוך אם לא נכוון את כל הקשתות בכיוון המתאים נקבל גרף ללא מסלול
 המילטוני כלל(.
\end_layout

\begin_layout Standard
הפתרון במקרה זה הוא פשוט - במקום כל קשת בגרף, להוסיף 
\series bold
שתי
\series default
 קשתות, אחת לכל כיוון; זוהי טכניקה סטנדרטית למעבר מגרף לא מכוון לגרף מכוון.
\end_layout

\begin_layout Standard
כלומר, הרדוקציה תוגדר פורמלית כך: בהינתן 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 נחזיר 
\begin_inset Formula $G^{\prime}=\left(V,E^{\prime}\right)$
\end_inset

 כך ש:
\end_layout

\begin_layout Itemize
\begin_inset Formula $E^{\prime}=\bigcup_{\left(u,v\right)\in E}\left\{ \left(u,v\right),\left(v,u\right)\right\} $
\end_inset


\end_layout

\begin_layout Standard
אם ב-
\begin_inset Formula $G$
\end_inset

 היה מסלול המילטוני
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
v_{1}\to v_{2}\to\ldots\to v_{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אותו מסלול יהיה קיים גם ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 שכן יש קשת 
\begin_inset Formula $v_{1}\to v_{2}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

 אם ורק אם יש קשת 
\begin_inset Formula $v_{1}\to v_{2}$
\end_inset

 ב-
\begin_inset Formula $G^{\prime}$
\end_inset

.
 באותו האופן גם מסלול ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 מתורגם למסלול זהה ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Paragraph*
\begin_inset Formula $\text{VC}\le_{p}\text{DHC}$
\end_inset


\end_layout

\begin_layout Standard
על מנת לפתור את בעיית הכיסוי בצמתים בעזרת מעגל המילטוני בגרף מכוון, נפעל
 כך: בהינתן גרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 ו-
\begin_inset Formula $k$
\end_inset

, נבנה גרף 
\begin_inset Formula $G^{\prime}$
\end_inset

 כך שלכל קשת 
\begin_inset Formula $e\in E$
\end_inset

 קיים רכיב ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 שמורכב מ
\series bold
ארבעה
\series default
 צמתים.
 אם 
\begin_inset Formula $e=\left(v,u\right)$
\end_inset

, כלומר הקשת 
\begin_inset Formula $e$
\end_inset

 נוגעת בצמתים 
\begin_inset Formula $v,u$
\end_inset

 אז נוסיף לגרף את הרכיב הבא:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\begin{array}{ccc}
\downarrow &  & \downarrow\\
\text{\left[v,e,0\right]} & \leftrightarrow & \left[u,e,0\right]\\
\downarrow &  & \downarrow\\
\left[v,e,1\right] & \leftrightarrow & \left[u,e,1\right]\\
\downarrow &  & \downarrow
\end{array}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כלומר, ל-
\begin_inset Formula $G^{\prime}$
\end_inset

 התווספו הצמתים מהצורה 
\begin_inset Formula $\left[x,e,i\right]$
\end_inset

 כאשר 
\begin_inset Formula $x\in\left\{ u,v\right\} $
\end_inset

 ו-
\begin_inset Formula $i\in\left\{ 0,1\right\} $
\end_inset

, והקשתות
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left[x,e,0\right]\to\left[x,e,1\right]$
\end_inset

 עבור 
\begin_inset Formula $x\in\left\{ u,v\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left[v,e,i\right]\to\left[u,e,i\right]$
\end_inset

 ו-
\begin_inset Formula $\left[u,e,i\right]\to\left[v,e,i\right]$
\end_inset

 עבור 
\begin_inset Formula $i\in\left\{ 0,1\right\} $
\end_inset


\end_layout

\begin_layout Standard
כפי שהאיור מרמז, נוסף על קשתות אלו יש לרכיב גם 
\begin_inset Quotes eld
\end_inset

כניסה
\begin_inset Quotes erd
\end_inset

 )לצמתים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
( ו
\begin_inset Quotes erd
\end_inset

יציאה
\begin_inset Quotes erd
\end_inset

 )לצמתים עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
(; נראה מהיכן ולהיכן בקרוב.
\end_layout

\begin_layout Standard
הרעיון ברכיב זה הוא שמסלול שמגיע לאחד משני צמתי ה
\begin_inset Quotes erd
\end_inset

כניסה
\begin_inset Quotes erd
\end_inset

 שלו יכול לעבור ממנו הישר אל צומת ה
\begin_inset Quotes erd
\end_inset

יציאה
\begin_inset Quotes erd
\end_inset

 שאחריו, או לבקר בכל ארבעת צמתי הרכיב לפני שיצא מאותו מקום.
 הרעיון הוא שאם הכיסוי בצמתים שלנו יכיל את 
\series bold
שני
\series default
 הצמתים שנוגעים ב-
\begin_inset Formula $e$
\end_inset

, אז ניכנס אל הרכיב פעמיים, פעם אחת לכל צומת, ובמקרה זה נצא מייד; ואילו
 אם הכיסוי בצמתים שלנו מכיל רק אחד משני צמתים אלו אז נגיע לרכיב רק פעם אחת,
 דרך הכניסה שמתאימה לצומת זה, ואז נבקר בכל ארבעת צמתי הרכיב.
\end_layout

\begin_layout Standard
לכל צומת 
\begin_inset Formula $v\in V$
\end_inset

, יהיו 
\begin_inset Formula $e_{1},e_{2},\ldots,e_{m}$
\end_inset

 הקשתות שבהן 
\begin_inset Formula $v$
\end_inset

 נוגע.
 נבנה ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 
\begin_inset Quotes eld
\end_inset

שרשרת
\begin_inset Quotes erd
\end_inset

 של הצמתים של 
\begin_inset Formula $v$
\end_inset

 ברכיבים שלו שמתאימים לקשתות אלו, באופן הבא:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\to\left[v,e_{1},0\right]\to\left[v,e_{1},1\right]\to\left[v,e_{2},0\right]\to\left[v,e_{2},1\right]\to\dots\to\left[v,e_{m},0\right]\to\left[v,e_{m},1\right]\to
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
במילים אחרות, הוספנו לקשתות 
\begin_inset Formula $G^{\prime}$
\end_inset

 את כל הקשתות מהצורה
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left[v,e_{i},1\right]\to\left[v,e_{i+1},0\right]$
\end_inset

 עבור 
\begin_inset Formula $1\le i<m$
\end_inset


\end_layout

\begin_layout Standard
האינטואיציה מאחורי ה
\begin_inset Quotes erd
\end_inset

שרשרת
\begin_inset Quotes erd
\end_inset

 היא שאם 
\begin_inset Formula $v$
\end_inset

 הוא אחד מהצמתים בכיסוי בצמתים שלנו, אז המעגל ההמילטוני שאנו בונים יעבור
 בכל השרשרת, ובכך ימחק את הצמתים של 
\begin_inset Formula $v$
\end_inset

 ששייכים לכל קשת שנוגעת ב-
\begin_inset Formula $v$
\end_inset

.
 עבור קשת 
\begin_inset Formula $e$
\end_inset

 שאינה מכוסה על ידי צומת אחר מהכיסוי, בעת הכניסה ל-
\begin_inset Formula $\left[v,e,0\right]$
\end_inset

 המסלול יעבור דרך זוג הצמתים ששייכים לצומת השני בו נוגעת 
\begin_inset Formula $e$
\end_inset

 לפני שיעבור אל 
\begin_inset Formula $\left[v,e,1\right]$
\end_inset

 וימשיך במסעו על פני השרשרת.
\end_layout

\begin_layout Standard
טרם ציינו מהן נקודות הכניסה והיציאה מהשרשרת.
 לשם כך אנו מוסיפים 
\begin_inset Formula $k$
\end_inset

 צמתי עזר, כאשר 
\begin_inset Formula $k$
\end_inset

 הוא הגודל של הכיסוי בצמתים שנכלל בקלט 
\begin_inset Formula $\left(G,k\right)$
\end_inset

 שממנו אנו מבצעים רדוקציה.
 נסמן את צמתי העזר ב-
\begin_inset Formula $a_{1},\ldots,a_{k}$
\end_inset

.
 הרעיון הוא שאחרי כל כניסה לצומת עזר, המעגל שלנו 
\begin_inset Quotes eld
\end_inset

בוחר
\begin_inset Quotes erd
\end_inset

 
\begin_inset Formula $v$
\end_inset

 כלשהו מהגרף והולך על גבי השרשרת שלו.
 לשם כך נוסיף לגרף את הקשתות הבאות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $a_{i}\to\left[v,e_{1}^{v},0\right]$
\end_inset

 לכל 
\begin_inset Formula $1\le i\le k$
\end_inset

 ו-
\begin_inset Formula $v\in V$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left[v,e_{m}^{v},1\right]\to a_{i}$
\end_inset

 לכל 
\begin_inset Formula $1\le i\le k$
\end_inset

 ו-
\begin_inset Formula $v\in V$
\end_inset


\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $e_{1}^{v}$
\end_inset

 היא הקשת הראשונה בשרשרת המתאימה ל-
\begin_inset Formula $v$
\end_inset

 ו-
\begin_inset Formula $e_{m}^{v}$
\end_inset

 היא הקשת האחרונה בשרשרת זו.
\end_layout

\begin_layout Standard
הרדוקציה היא בבירור פולינומית )ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 מספר פולינומי של צמתים וקשתות ביחס ל-
\begin_inset Formula $G$
\end_inset

( וכיוון אחד של התקפות שלה ברור: אם ב-
\begin_inset Formula $G$
\end_inset

 יש כיסוי בצמתים מגודל 
\begin_inset Formula $k$
\end_inset

, אז מעגל המילטוני ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 עובר בשרשראות שמתאימות לצמתי הכיסוי באופן שתיארנו.
\end_layout

\begin_layout Standard
בכיוון השני של הרדוקציה, נשים לב לכך שכל מעגל המילטוני ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 צריך לעבור בכל הצמתים 
\begin_inset Formula $a_{1},\ldots,a_{k}$
\end_inset

.
 מכל צומת כזה, היציאה היחידה היא לצומת מהצורה 
\begin_inset Formula $\left[v,e_{1}^{v},0\right]$
\end_inset

 המתאים לצומת 
\begin_inset Formula $v\in V$
\end_inset

; ניקח את כל הצמתים הללו לכיסוי בצמתים של 
\begin_inset Formula $G$
\end_inset

.
 כדי להיווכח בכך שזה כיסוי בצמתים, נשים לב לכך שמרגע הכניסה אל 
\begin_inset Formula $\left[v,e_{1}^{v},0\right]$
\end_inset

 המסלול חייב להמשיך עם השרשרת עד סופה ב-
\begin_inset Formula $\left[v,e_{m}^{v},1\right]$
\end_inset

.
 גם אם ברכיב כלשהו הוא יבחר לעבור אל חלקו השני של הרכיב, הוא ייאלץ לחזור
 לחלקו הראשון כדי לצאת ממנו.
 אם כן, כל רכיב שמתאים לקשת 
\begin_inset Formula $e$
\end_inset

 הופיע במסלול רק כחלק מהמעבר בשרשרת של אחד משני הצמתים שמחוברים אל 
\begin_inset Formula $e$
\end_inset

, ולכן אחד מהצמתים שמחוברים אל 
\begin_inset Formula $e$
\end_inset

 שייך לכיסוי שבנינו.
\end_layout

\begin_layout Section
נושאים נוספים
\end_layout

\begin_layout Subsection
אלגוריתמי קירוב
\end_layout

\begin_layout Subsubsection
הגדרה
\end_layout

\begin_layout Standard
עד כה העיסוק שלנו בבעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות התמקד בבעיות הכרעה: בעיות כן/לא.
 במקרים רבים, הבעיות הללו קשורות בקשר הדוק לבעיות 
\series bold
אופטימיזציה
\series default
.
 למשל:
\end_layout

\begin_layout Itemize
בהינתן פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
CNF
\lang hebrew
 
\begin_inset Formula $\varphi$
\end_inset

, למצוא את המספר המקסימלי של פסוקיות של 
\begin_inset Formula $\varphi$
\end_inset

 שניתן לספק.
\end_layout

\begin_layout Itemize
בהינתן גרף 
\begin_inset Formula $G$
\end_inset

, למצוא את הגודל המינימלי של כיסוי בצמתים עבור 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Itemize
בהינתן מספרים 
\begin_inset Formula $\left(a_{1},\ldots,a_{n}\right)$
\end_inset

 ו-
\begin_inset Formula $B$
\end_inset

 כך ש-
\begin_inset Formula $a_{i}\le B$
\end_inset

, למצוא את המספר המינימלי 
\begin_inset Formula $k$
\end_inset

 של תאים מגודל 
\begin_inset Formula $B$
\end_inset

 שבהם ניתן לאכסן את המספרים.
\end_layout

\begin_layout Standard
פורמלית, אלו הן בעיות של 
\series bold
חישוב פונקציות
\series default
.
 כאשר הפונקציות הללו קשורות בקשר הדוק שכזה לבעיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
NP
\lang hebrew
-שלמות, חישוב יעיל שלהן הוא על פי רוב שקול לפתרון יעיל של הבעיה.
 נדגים זאת:
\end_layout

\begin_layout Standard
תהא 
\begin_inset Formula $f_{VC}$
\end_inset

 הפונקציה כך ש-
\begin_inset Formula $f_{VC}\left(G\right)$
\end_inset

 הוא ה-
\begin_inset Formula $k$
\end_inset

 המינימלי עבורו קיים כיסוי בצמתים ל-
\begin_inset Formula $G$
\end_inset

 )הפונקציה מוגדרת היטב לכל קלט שכן 
\begin_inset Formula $k\le\left|V\right|$
\end_inset

(.
\end_layout

\begin_layout Claim
\begin_inset Formula $\text{VC}\in\text{P}\iff f_{VC}\in\text{POLY}$
\end_inset


\end_layout

\begin_layout Proof
בכיוון אחד, אם 
\begin_inset Formula $f_{VC}\in\text{POLY}$
\end_inset

 אז בהינתן קלט 
\begin_inset Formula $\left(G,k\right)$
\end_inset

 ל-
\begin_inset Formula $\text{VC}$
\end_inset

, מכונה עבורו תבדוק האם 
\begin_inset Formula $k\ge f_{VC}\left(G\right)$
\end_inset

 ותקבל אם ורק אם אי-שוויון זה מתקיים.
 חישוב 
\begin_inset Formula $f_{VC}\left(G\right)$
\end_inset

 הוא פולינומי, על פי ההנחה שלנו, ולכן המכונה היא פולינומית.
\end_layout

\begin_layout Proof
בכיוון השני, אם 
\begin_inset Formula $\text{VC}\in\text{P}$
\end_inset

 אז 
\begin_inset Formula $\text{P=NP}$
\end_inset

 ולכן זיהוי יעיל גורר חיפוש יעיל.
 נגדיר את היחס הבא: 
\begin_inset Formula 
\begin{align*}
S & =\left\{ \left(\left(G,k\right),B\right)\ |\ B\text{ is vertex cover of }G\text{ of size }k\right\} 
\end{align*}

\end_inset

היחס בבירור ניתן לזיהוי יעיל כי בהינתן 
\begin_inset Formula $B$
\end_inset

 קל לבדוק את גודלו וכי הוא מהווה כיסוי בצמתים של 
\begin_inset Formula $G$
\end_inset

; על כן הוא ניתן לחיפוש יעיל.
 כעת נפעל כך: נבצע חיפוש יעיל על הזוגות 
\begin_inset Formula $\left(G,1\right),\left(G,2\right),\left(G,3\right),\ldots$
\end_inset

 עד לפעם הראשונה בה יתקבל 
\begin_inset Formula $B$
\end_inset

; כאשר זה יקרה, נעצור ונוציא כפלט את גודלו של 
\begin_inset Formula $B$
\end_inset

.
\end_layout

\begin_layout Standard
מכיוון שפתרון בעיית האופטימיזציה אינו עומד על הפרק, אפשר לשאול שאלה אחרת
 - האם ניתן למצוא לה פתרון 
\series bold
מקורב
\series default
.
 אם לפנינו גרף בן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 צמתים והכיסוי בצמתים המינימלי שלו הוא מגודל 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
30
\numeric off
, לא כל כך נורא אם נמצא בגרף כיסוי בצמתים מגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
60
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לכל היותר - פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יותר מהמינימום 
\begin_inset Quotes eld
\end_inset

האמיתי
\begin_inset Quotes erd
\end_inset

.
 באופן מפתיע למדי, פתרון מקורב שכזה אכן אפשרי בזמן פולינומי, גם מבלי שהדבר
 יגרור 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
\end_layout

\begin_layout Standard
ראשית נציג את ההגדרות המדוייקות למהו אלגוריתם קירוב.
\end_layout

\begin_layout Definition
תהא 
\begin_inset Formula $f:\Sigma^{*}\to\mathbb{N}$
\end_inset

 פונקציה ותהא 
\begin_inset Formula $A$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט פולינומית שמקבל קלט מ-
\begin_inset Formula $\Sigma^{*}$
\end_inset

 ומחזיר פלט ב-
\begin_inset Formula $\mathbb{N}$
\end_inset

.
 יהיו 
\begin_inset Formula $d,\alpha>0$
\end_inset

 ממשיים.
\end_layout

\begin_layout Itemize
נאמר ש-
\begin_inset Formula $A$
\end_inset

 היא 
\begin_inset Formula $d$
\end_inset

-קירוב 
\series bold
חיבורי
\series default
 של 
\begin_inset Formula $f$
\end_inset

 אם לכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 מתקיים 
\begin_inset Formula $\left|A\left(x\right)-f\left(x\right)\right|\le d$
\end_inset

, כלומר 
\begin_inset Formula $f\left(x\right)-d\le A\left(x\right)\le f\left(x\right)+d$
\end_inset

.
\end_layout

\begin_layout Itemize
נאמר ש-
\begin_inset Formula $A$
\end_inset

 היא 
\begin_inset Formula $\alpha$
\end_inset

-קירוב 
\series bold
כפלי
\series default
 של 
\begin_inset Formula $f$
\end_inset

 אם לכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 מתקיים 
\begin_inset Formula $\frac{1}{\alpha}f\left(x\right)\le A\left(x\right)\le\alpha f\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $f$
\end_inset

 מייצגת בעיית 
\series bold
מינימיזציה
\series default
 נאמר ש-
\begin_inset Formula $A$
\end_inset

 היא 
\begin_inset Formula $\alpha$
\end_inset

-קירוב 
\series bold
כפלי
\series default
 של 
\begin_inset Formula $f$
\end_inset

 אם לכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 מתקיים 
\begin_inset Formula $f\left(x\right)\le A\left(x\right)\le\alpha f\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $f$
\end_inset

 מייצגת בעיית 
\series bold
מקסימיזציה
\series default
 נאמר ש-
\begin_inset Formula $A$
\end_inset

 היא 
\begin_inset Formula $\alpha$
\end_inset

-קירוב 
\series bold
כפלי
\series default
 של 
\begin_inset Formula $f$
\end_inset

 אם לכל 
\begin_inset Formula $x\in\Sigma^{*}$
\end_inset

 מתקיים 
\begin_inset Formula $\alpha f\left(x\right)\le A\left(x\right)\le f\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Subsubsection
אלגוריתמי קירוב קונקרטיים
\end_layout

\begin_layout Paragraph*
אלגוריתם קירוב ל-
\lang english
VC
\end_layout

\begin_layout Standard
ראשית נציג את האלגוריתם שהבטחנו - אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
-קירוב כפלי לבעיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\lang hebrew
.
 האלגוריתם מתבסס על המושג של 
\series bold
שידוך
\series default
:
\end_layout

\begin_layout Definition

\series bold
שידוך
\series default
 בגרף 
\begin_inset Formula $G$
\end_inset

 הוא תת-קבוצה 
\begin_inset Formula $M\subseteq E$
\end_inset

 כך שאין שתי קשתות ב-
\begin_inset Formula $M$
\end_inset

 עם צומת משותף.
 שידוך הוא 
\series bold
מקסימלי
\series default
 אם לא ניתן להוסיף לו קשת שאין לה צומת משותף עם קשתות אחרות בשידוך.
 
\end_layout

\begin_layout Claim
אם שידוך 
\begin_inset Formula $M$
\end_inset

 הוא מקסימלי אז קבוצת הצמתים 
\begin_inset Formula $V_{M}=\left\{ v\in V\ |\ \exists e\in M:v\in e\right\} $
\end_inset

 היא כיסוי בצמתים של 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $e\in E$
\end_inset

 כלשהי.
 אם 
\begin_inset Formula $e\in M$
\end_inset

 אז על פי הגדרה, ב-
\begin_inset Formula $V_{M}$
\end_inset

 יש קשת שנוגעת ב-
\begin_inset Formula $e$
\end_inset

.
 אם 
\begin_inset Formula $e\notin M$
\end_inset

 אז מכך ש-
\begin_inset Formula $M$
\end_inset

 מקסימלי נובע של-
\begin_inset Formula $e$
\end_inset

 יש צומת משותף עם אחת מקשתות 
\begin_inset Formula $M$
\end_inset

, ולכן צומת זה שייך ל-
\begin_inset Formula $V_{M}$
\end_inset

.
\end_layout

\begin_layout Standard
אם כן, מציאת שידוך מקסימלי בגרף מאפשרת לנו למצוא כיסוי בצמתים שלו; אך נשאלת
 השאלה עד כמה כיסוי בצמתים זה רחוק מלהיות אופטימלי.
\end_layout

\begin_layout Theorem
תהא 
\begin_inset Formula $f_{\text{VC}}$
\end_inset

 הפונקציה אשר מחזירה עבור גרף את הגודל המינימלי של כיסוי בצמתים עבורו.
 יהא 
\begin_inset Formula $G$
\end_inset

 גרף ו-
\begin_inset Formula $M$
\end_inset

 שידוך מקסימלי בגרף, אז 
\begin_inset Formula $f_{\text{VC}}\left(G\right)\le\left|V_{M}\right|\le2f_{\text{VC}}\left(G\right)$
\end_inset

.
\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $B$
\end_inset

 כיסוי בצמתים מגודל מינימלי של 
\begin_inset Formula $G$
\end_inset

, כלומר 
\begin_inset Formula $\left|B\right|=f_{\text{VC}}\left(G\right)$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $V_{M}$
\end_inset

 הוא כיסוי בצמתים ו-
\begin_inset Formula $B$
\end_inset

 מגודל מינימלי, אז 
\begin_inset Formula $\left|B\right|\le\left|V_{M}\right|$
\end_inset

.
\end_layout

\begin_layout Proof
לכל קשת 
\begin_inset Formula $e\in M$
\end_inset

, לפחות אחד משני הצמתים שלה שייך ל-
\begin_inset Formula $B$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $M$
\end_inset

 שידוך, ההתאמה שמחזירה לכל 
\begin_inset Formula $e\in M$
\end_inset

 צומת של 
\begin_inset Formula $e$
\end_inset

 ששייך ל-
\begin_inset Formula $B$
\end_inset

 היא חח
\begin_inset Quotes erd
\end_inset

ע, אחרת היו לנו שתי קשתות ב-
\begin_inset Formula $M$
\end_inset

 שיש להן צומת משותף.
 כלומר, 
\begin_inset Formula $\left|M\right|\le\left|B\right|$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $\left|V_{M}\right|=2\left|M\right|$
\end_inset

 נקבל 
\begin_inset Formula $\left|V_{M}\right|\le2\left|B\right|$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Standard
מכאן שאלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
-קירוב עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
VC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 פשוט צריך למצוא שידוך מקסימלי, ושידוך שכזה קל למצוא בזמן פולינומי בעזרת
 אלגוריתם חמדני פשוט.
\end_layout

\begin_layout Standard
אלגוריתם למציאת שידוך מקסימלי בגרף 
\begin_inset Formula $G$
\end_inset

:
\end_layout

\begin_layout Itemize
אתחול: 
\begin_inset Formula $M=\emptyset$
\end_inset

.
\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $e\in E$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Itemize
אם ל-
\begin_inset Formula $e$
\end_inset

 אין צומת משותף עם אף קשת ב-
\begin_inset Formula $M$
\end_inset

, 
\begin_inset Formula $M\leftarrow M\cup\left\{ e\right\} $
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
פלט: 
\begin_inset Formula $M$
\end_inset


\end_layout

\begin_layout Standard
האלגוריתם פולינומי שכן הוא עובר פעם אחת על 
\begin_inset Formula $E$
\end_inset

 ולכל פעם כזו עובר על כל אברי 
\begin_inset Formula $M$
\end_inset

, כלומר הוא 
\begin_inset Formula $O\left(\left|E\right|^{2}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נכונות האלגוריתם נובעת מכך שבסיומו, כל קשת 
\begin_inset Formula $e\in E$
\end_inset

 היא או שייכת אל 
\begin_inset Formula $M$
\end_inset

, או בעלת צומת משותף עם קשת ב-
\begin_inset Formula $M$
\end_inset

.
\end_layout

\begin_layout Paragraph*
אלגוריתם קירוב ל-
\lang english
BP
\end_layout

\begin_layout Standard
נעבור כעת לבעיית האופטימיזציה המתאימה עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
BP
\lang hebrew
: בהינתן מספרים טבעיים 
\begin_inset Formula $a_{1},\ldots,a_{n}$
\end_inset

 וגודל תא 
\begin_inset Formula $B$
\end_inset

 כך ש-
\begin_inset Formula $a_{i}\le B$
\end_inset

 לכל 
\begin_inset Formula $1\le i\le n$
\end_inset

, המטרה היא למצוא את מספר התאים 
\series bold
המינימלי
\series default
 
\begin_inset Formula $k$
\end_inset

 כך שניתן לשכן את כל ה-
\begin_inset Formula $a_{i}$
\end_inset

-ים ב-
\begin_inset Formula $k$
\end_inset

 התאים.
\end_layout

\begin_layout Standard
גם כאן האלגוריתם החמדני ישיג לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
-קירוב, במקרה זה אלגוריתם חמדני שעבור כל איבר חדש, מחפש לו מקום בתא קיים
 ואם אין מקום - פותח בשבילו תא חדש.
\end_layout

\begin_layout Itemize
אתחול: 
\begin_inset Formula $k=1,C_{1}=0$
\end_inset

 )
\begin_inset Formula $C_{j}$
\end_inset

 הוא סכום הערכים בתא 
\begin_inset Formula $j$
\end_inset

(
\end_layout

\begin_layout Itemize
לכל 
\begin_inset Formula $x_{i}$
\end_inset

 ב-
\begin_inset Formula $\left\{ x_{1},x_{2},\ldots,x_{n}\right\} $
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Itemize
אם קיים 
\begin_inset Formula $C_{j}$
\end_inset

 עבור 
\begin_inset Formula $1\le j\le k$
\end_inset

, הציבו 
\begin_inset Formula $C_{j}\leftarrow C_{j}+x_{i}$
\end_inset


\end_layout

\begin_layout Itemize
אחרת, הציבו 
\begin_inset Formula $C_{k+1}\leftarrow x_{i},k\leftarrow k+1$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
פלט: 
\begin_inset Formula $k$
\end_inset


\end_layout

\begin_layout Standard
האלגוריתם בבירור פולינומי.
 נותר להוכיח כי הוא מהווה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
-קירוב.
 לשם כך נוכיח את הטענה הבאה: בכל שלב של ריצת האלגוריתם, כל התאים למעט אולי
 אחד מלאים לפחות במחציתם )כלומר, מכילים לפחות 
\begin_inset Formula $\frac{B}{2}$
\end_inset

(.
\end_layout

\begin_layout Standard
נוכיח את הטענה באינדוקציה על 
\begin_inset Formula $x_{i}$
\end_inset

.
 הבסיס עבור 
\begin_inset Formula $x_{1}$
\end_inset

 ברור כי בשלב זה קיים רק תא אחד.
 נניח כי הטענה הייתה נכונה עד 
\begin_inset Formula $x_{i}$
\end_inset

 ונוכיח עבור 
\begin_inset Formula $x_{i+1}$
\end_inset

.
 על פי הנחת האינדוקציה כל התאים למעט אולי אחד שנסמן ב-
\begin_inset Formula $C_{j}$
\end_inset

 מלאים לפחות עד כדי מחציתם.
 כעת יכול לקרות אחד משני דברים:
\end_layout

\begin_layout Enumerate
יתווסף תא חדש; זה קורה במקרה של-
\begin_inset Formula $x_{i+1}$
\end_inset

 אין מקום באף תא פנוי.
 בפרט אין לו מקום ב-
\begin_inset Formula $C_{j}$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $C_{j}\le\frac{B}{2}$
\end_inset

 נסיק ש-
\begin_inset Formula $x_{i+1}\ge\frac{B}{2}$
\end_inset

 ולכן התא החדש שאליו מוסיפים את 
\begin_inset Formula $x_{i+1}$
\end_inset

 יהיה מלא לפחות עד כדי מחציתו.
\end_layout

\begin_layout Enumerate
לא יתווסף תא חדש; במקרה זה, התכונה 
\begin_inset Quotes eld
\end_inset

כל התאים למעט אולי אחד מלאים לפחות במחציתם
\begin_inset Quotes erd
\end_inset

 משתמרת )כי רק נוסיף איבר לאחד מהתאים ובכך נמלא אותו עוד יותר(.
\end_layout

\begin_layout Standard
כעת נוכיח כי האלגוריתם הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
-קירוב.
 יהיו 
\begin_inset Formula $a_{1},\ldots,a_{n}$
\end_inset

 ו-
\begin_inset Formula $B$
\end_inset

 כלשהם, ויהא 
\begin_inset Formula $k$
\end_inset

 הערך שאלגוריתם הקירוב החזיר על קלט זה, ו-
\begin_inset Formula $k^{*}$
\end_inset

 הערך האופטימלי האמיתי.
\end_layout

\begin_layout Standard
מכיוון שהקיבולת המקסימלית של 
\begin_inset Formula $k^{*}$
\end_inset

 תאים היא 
\begin_inset Formula $B\cdot k^{*}$
\end_inset

 אנחנו יודעים שמתקיים 
\begin_inset Formula $\sum_{i=1}^{n}a_{i}\le B\cdot k^{*}$
\end_inset

.
\end_layout

\begin_layout Standard
מצד שני, כאשר אלגוריתם הקירוב מסיים את ריצתו, כל התאים למעט אחד מלאים לפחות
 במחציתם, כלומר 
\begin_inset Formula $\sum_{i=1}^{n}a_{i}>\frac{B}{2}\cdot\left(k-1\right)$
\end_inset

.
 אי השוויון הוא חזק כי התא הנוסף, שלא ספרנו, אינו ריק.
\end_layout

\begin_layout Standard
משני אי השוויונים נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{B}{2}\left(k-1\right) & <B\cdot k^{*}\\
 & \Downarrow\\
\frac{k-1}{2} & <k^{*}\\
 & \Downarrow\\
k-1 & <2k^{*}\\
 & \Downarrow\\
k & \le2k^{*}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כמבוקש.
\end_layout

\begin_layout Subsubsection
קושי לקירוב של בעיות
\end_layout

\begin_layout Standard
במובן מסויים, כל הבעיות ה-
\lang english
NP
\lang hebrew
-שלמות דומות זו לזו; כל אחת ניתנת לרדוקציה אל האחרת, ואם אחת שייכת אל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
P
\lang hebrew
, כולן שייכות אל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
P
\lang hebrew
.
 מצד שני, יש ביניהן הבדלים מהותיים שאחד מהם בא לידי ביטוי בכך שלחלק מהבעיות
 יש אלגוריתמי קירוב יעילים ולאחרות אין.
\end_layout

\begin_layout Standard
נציג מספר דוגמאות לטענה זו.
\end_layout

\begin_layout Paragraph*
הבעיה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
#SAT
\end_layout

\begin_layout Standard
הפונקציה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
#SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מוגדרת בתור מספר ההשמות המספקות של פסוק 
\begin_inset Formula $\varphi$
\end_inset

.
 זוהי דוגמא קלאסית ל
\series bold
בעיית ספירה
\series default
 )לבעיות ספירה יש מחלקות סיבוכיות משל עצמן עם תוצאות מעניינות ולא טריוויאליות,
 אך לא נציג אותן כאן(.
\end_layout

\begin_layout Standard
ברור שחישוב מדויק של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
#SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מאפשר להכריע את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SAT
\lang hebrew
: בהינתן 
\begin_inset Formula $\varphi$
\end_inset

, מחשבים את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
#SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על הפסוק ועונים 
\begin_inset Quotes eld
\end_inset

כן
\begin_inset Quotes erd
\end_inset

 אם ורק אם התוצאה שונה מ-
\numeric on
0
\numeric off
.
\end_layout

\begin_layout Claim
אם קיים 
\begin_inset Formula $\alpha$
\end_inset

-קירוב כפלי ל-
\lang english
#SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אז
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
P=NP
\lang hebrew
.
\end_layout

\begin_layout Proof
נניח שקיים 
\begin_inset Formula $\alpha>0$
\end_inset

 וקיימת מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $A$
\end_inset

 כך ש-
\begin_inset Formula 
\begin{align*}
\frac{\text{\#SAT}\left(\varphi\right)}{\alpha} & \le A\left(\varphi\right)\le\alpha\text{\#SAT}\left(\varphi\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
בהינתן פסוק 
\begin_inset Formula $\varphi$
\end_inset

, מ
\begin_inset Quotes erd
\end_inset

ט שמכריעה האם 
\begin_inset Formula $\varphi\in\text{SAT}$
\end_inset

 תפעל כך: תחשב את 
\begin_inset Formula $A\left(\varphi\right)$
\end_inset

 ותקבל אם ורק אם 
\begin_inset Formula $A\left(\varphi\right)\ne0$
\end_inset

.
\end_layout

\begin_layout Proof
פולינומיות המכונה ברורה.
 נוכיח את נכונותה:
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\varphi\in\text{SAT}$
\end_inset

 אז 
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)\ge1$
\end_inset

 ולכן 
\begin_inset Formula $A\left(\varphi\right)\ge\frac{\text{\#SAT}\left(\varphi\right)}{\alpha}\ge\frac{1}{\alpha}>0$
\end_inset

 ולכן המכונה שבנינו תקבל.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\varphi\notin\text{SAT}$
\end_inset

 אז 
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)=0$
\end_inset

 ולכן 
\begin_inset Formula 
\begin{align*}
0 & =\frac{\text{\#SAT}\left(\varphi\right)}{\alpha}\le A\left(\varphi\right)\le\alpha\text{\#SAT}\left(\varphi\right)\le0
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כלומר 
\begin_inset Formula $A\left(\varphi\right)=0$
\end_inset

 ולכן המכונה שבנינו תדחה, כנדרש.
\end_layout

\begin_layout Standard
הוכחנו שלא קיים קירוב כפלי ל-
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)$
\end_inset

 בהנחה ש-
\begin_inset Formula $\text{P}\ne\text{NP}$
\end_inset

, אבל מה בדבר קירוב חיבורי? בהוכחה הקודמת הסתמכנו על כך שההפרדה בין 
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)=0$
\end_inset

 ו-
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)=1$
\end_inset

 היא קלה יחסית לביצוע בעזרת קירוב כפלי, וההפרדה הזו מספיקה כדי להכריע את
 
\begin_inset Formula $\text{SAT}$
\end_inset

.
 אולם כבר קירוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
-חיבורי ל-
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)$
\end_inset

 יכול 
\begin_inset Quotes eld
\end_inset

לערבב
\begin_inset Quotes erd
\end_inset

 כך בין שני המקרים )להחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כשהערך האמיתי הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 ולהיפך(.
 כך שנראה שהסיטואציה מורכבת יותר.
 אכן, נזדקק לתעלול נוסף כדי להוכיח שקיים קושי קירוב גם במקרה הזה - 
\begin_inset Quotes eld
\end_inset

ניפוח
\begin_inset Quotes erd
\end_inset

 מלאכותי של מספר ההשמות המספקות של 
\begin_inset Formula $\varphi$
\end_inset

.
\end_layout

\begin_layout Claim
אם קיים 
\begin_inset Formula $d$
\end_inset

-קירוב חיבורי ל-
\begin_inset Formula $\text{\#SAT}$
\end_inset

 אז 
\begin_inset Formula $\text{P=NP}$
\end_inset

.
\end_layout

\begin_layout Proof
נניח כי קיימת מ
\begin_inset Quotes erd
\end_inset

ט פולינומית 
\begin_inset Formula $A$
\end_inset

 שהיא 
\begin_inset Formula $d$
\end_inset

-קירוב של 
\begin_inset Formula $\text{\#SAT}$
\end_inset

.
 אז נבנה מ
\begin_inset Quotes erd
\end_inset

ט שמכריעה את 
\begin_inset Formula $\text{SAT}$
\end_inset

 ופועלת באופן הבא על קלט 
\begin_inset Formula $\varphi$
\end_inset

:
\end_layout

\begin_layout Proof
ראשית, המכונה בונה פסוק חדש 
\begin_inset Formula $\varphi^{\prime}=\varphi\wedge\left(y_{1}\vee\neg y_{1}\right)\wedge\left(y_{2}\vee\neg y_{2}\right)\wedge\ldots\wedge\left(y_{k}\vee\neg y_{k}\right)$
\end_inset

 שמתקבל מהוספת 
\begin_inset Formula $k$
\end_inset

 פסוקיות אל 
\begin_inset Formula $\varphi$
\end_inset

 על משתנים 
\series bold
חדשים
\series default
 
\begin_inset Formula $y_{1},\ldots,y_{k}$
\end_inset

, כך שכל פסוקית היא טאוטולוגיה, כלומר מסתפקת תחת כל השמה למשתנים שלה.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\tau$
\end_inset

 היא השמה מספקת של 
\begin_inset Formula $\varphi$
\end_inset

, כל בחירה של השמת ערכים למשתנים 
\begin_inset Formula $y_{1},\ldots,y_{k}$
\end_inset

 מרחיבה את 
\begin_inset Formula $\tau$
\end_inset

 להשמה מספקת 
\begin_inset Formula $\tau^{\prime}$
\end_inset

 של 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

.
 כלומר, לכל השמה מספקת של 
\begin_inset Formula $\varphi$
\end_inset

 קיימות 
\begin_inset Formula $2^{k}$
\end_inset

 השמות מספקות של 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

, כלומר 
\begin_inset Formula $\text{\#SAT}\left(\varphi^{\prime}\right)=2^{k}\text{\#SAT}\left(\varphi\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נבחר את 
\begin_inset Formula $k$
\end_inset

 כך ש-
\begin_inset Formula $2d<2^{k}$
\end_inset

; קונקרטית, אפשר לבחור 
\begin_inset Formula $k=\left\lceil \lg d\right\rceil +1$
\end_inset

.
 נשים לב לכך ש-
\begin_inset Formula $k$
\end_inset

 הוא 
\series bold
קבוע
\series default
; הוא אינו תלוי באורך 
\begin_inset Formula $\varphi$
\end_inset

 כלל, ולכן הוספת 
\begin_inset Formula $k$
\end_inset

 הפסוקיות לוקחת זמן פולינומי ומגדילה את 
\begin_inset Formula $\varphi$
\end_inset

 פולינומית.
\end_layout

\begin_layout Proof
כעת, נריץ את 
\begin_inset Formula $A$
\end_inset

 על 
\begin_inset Formula $\varphi^{\prime}$
\end_inset

 ונדחה אם ורק אם 
\begin_inset Formula $A\left(\varphi^{\prime}\right)\le d$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח את נכונות הבניה.
\end_layout

\begin_layout Proof
מצד אחד, אם 
\begin_inset Formula $\varphi$
\end_inset

 אינו ספיק אז 
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)=0$
\end_inset

 ולכן 
\begin_inset Formula $\text{\#SAT}\left(\varphi^{\prime}\right)=2^{k}\text{\#SAT}\left(\varphi\right)=0$
\end_inset

.
 לכן 
\begin_inset Formula $A\left(\varphi^{\prime}\right)\le\text{\#SAT}\left(\varphi^{\prime}\right)+d\le d$
\end_inset

 כך שבמקרה זה אנו אכן דוחים כנדרש.
\end_layout

\begin_layout Proof
אם 
\begin_inset Formula $\varphi$
\end_inset

 ספיק אז 
\begin_inset Formula $\text{\#SAT}\left(\varphi\right)\ge1$
\end_inset

 ולכן 
\begin_inset Formula 
\begin{align*}
\text{\#SAT}\left(\varphi^{\prime}\right) & =2^{k}\text{\#SAT}\left(\varphi\right)\ge2^{k}>2d
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
ולכן 
\begin_inset Formula 
\begin{align*}
A\left(\varphi^{\prime}\right) & \ge\text{\#SAT}\left(\varphi^{\prime}\right)-d\\
 & >2d-d\ge d
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כלומר, 
\begin_inset Formula $A\left(\varphi^{\prime}\right)>d$
\end_inset

 ולכן במקרה זה נקבל, כנדרש.
\end_layout

\begin_layout Paragraph*
הבעיה
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-3SAT
\end_layout

\begin_layout Standard
נסיים את הדיון על אלגוריתמי קירוב עם דוגמא מורכבת מעט יותר, שמובילה אותנו
 אל אחד מהמשפטים המפורסמים בתורת הסיבוכיות - משפט ה-
\lang english
PCP
\lang hebrew
, שלא נציג בצורה מלאה כאן.
\end_layout

\begin_layout Standard
נתחיל עם בעיה תמימה למראה:
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-3SAT
\lang hebrew
.
 בבעיה זו נתון פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
\lang english
CNF
\lang hebrew
 
\begin_inset Formula $\varphi$
\end_inset

 ויש למצוא את המספר המקסימלי של פסוקיות של 
\begin_inset Formula $\varphi$
\end_inset

 שניתן לספק בו זמנית.
 כמובן שחישוב יעיל של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
MAX-3SAT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יוביל להכרעת 
\begin_inset Formula $\varphi$
\end_inset

 - פשוט נחשב את הערך ונבדוק אם הוא שווה למספר הפסוקיות של 
\begin_inset Formula $\varphi$
\end_inset

.
\end_layout

\begin_layout Standard
מה בדבר אלגוריתם קירוב? כדי לפשט את ניתוח הבעיה, נניח שכל פסוקית של 
\begin_inset Formula $\varphi$
\end_inset

 כוללת שלושה משתנים 
\series bold
שונים
\series default
 זה מזה.
 בהינתן הנחה זו, ניתן להראות כי לפחות 
\begin_inset Formula $\frac{7}{8}$
\end_inset

 מהפסוקיות של 
\begin_inset Formula $\varphi$
\end_inset

 הן ספיקות בו זמנית.
 נראה זאת באמצעות טכניקה המכונה 
\series bold
השיטה ההסתברותית
\series default
 שמאפשרת להשתמש בכלים מתורת ההסתברות כדי להוכיח תוצאות לא הסתברותיות.
\end_layout

\begin_layout Standard
יהא 
\begin_inset Formula $\varphi=C_{1}\wedge\ldots\wedge C_{m}$
\end_inset

 פסוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
3CNF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בעל 
\begin_inset Formula $m$
\end_inset

 פסוקיות שבכל אחת מהן כל המשתנים שונים זה מזה, ויהיו 
\begin_inset Formula $x_{1},\ldots,x_{n}$
\end_inset

 משתני 
\begin_inset Formula $\varphi$
\end_inset

.
 נגדיר מרחב הסתברות אחיד על ההשמות האפשריות ל-
\begin_inset Formula $x_{1},\ldots,x_{n}$
\end_inset

, כלומר כל אחת מ-
\begin_inset Formula $2^{n}$
\end_inset

 ההשמות האפשריות ל-
\begin_inset Formula $\varphi$
\end_inset

 נבחרת בהסתברות זהה, ובפרט לכל משתנה 
\begin_inset Formula $x_{i}$
\end_inset

 ההסתברות לקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
T
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שווה להסתברות לקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 והיא 
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
תהא 
\begin_inset Formula $C_{j}=\left(l_{1}\vee l_{2}\vee l_{3}\right)$
\end_inset

 פסוקית כלשהי של 
\begin_inset Formula $\varphi$
\end_inset

.
 קיימות בדיוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
השמות למשתנים המופיעים בה )שכן הנחנו כי כל המשתנים הללו שונים זה מזה( ובדיוק
 אחת מהן לא תספק את הפסוקית )זו שבה כל הליטרלים מקבלים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
F
\lang hebrew
( ויתר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ההשמות כן יספקו את הפסוק.
 מכאן קל להסיק שההסתברות של השמה אקראית לספק את 
\begin_inset Formula $C_{j}$
\end_inset

 היא 
\begin_inset Formula $\frac{7}{8}$
\end_inset

.
\end_layout

\begin_layout Standard
נגדיר כעת משתנה מקרי 
\begin_inset Formula $X_{j}$
\end_inset

 שהוא אינדיקטור של 
\begin_inset Quotes eld
\end_inset

הפסוקית 
\begin_inset Formula $C_{j}$
\end_inset

 מסתפקת
\begin_inset Quotes erd
\end_inset

.
 דהיינו, הוא מחזיר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על השמות שמספקות את 
\begin_inset Formula $C_{j}$
\end_inset

 ו-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על השמות שאינן מספקות את 
\begin_inset Formula $C_{j}$
\end_inset

.
 מכאן שהתוחלת שלו שווה להסתברות שיקבל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, כלומר 
\begin_inset Formula $\text{E}\left[X_{j}\right]=\frac{7}{8}$
\end_inset

.
\end_layout

\begin_layout Standard
כעת, המשתנה המקרי 
\begin_inset Formula $X=\sum_{j=1}^{m}X_{j}$
\end_inset

 סופר את הפסוקיות של 
\begin_inset Formula $\varphi$
\end_inset

 שהסתפקו תחת השמה אקראית.
 נשתמש כעת בתוצאה בסיסית מתורת ההסתברות - 
\series bold
לינאריות התוחלת
\series default
 - ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\text{E}\left[X\right] & =\text{E}\left[\sum_{j=1}^{m}X_{j}\right]=\sum_{j=1}^{m}\text{E}\left[X_{j}\right]=\sum_{j=1}^{m}\frac{7}{8}=\frac{7}{8}m
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כעת נעבור מתוצאה 
\begin_inset Quotes eld
\end_inset

הסתברותית
\begin_inset Quotes erd
\end_inset

 אל תוצאה דטרמיניסטית: מכיוון שתוחלת 
\begin_inset Formula $X$
\end_inset

 היא 
\begin_inset Formula $\frac{7}{8}m$
\end_inset

, המסקנה היא שקיימת השמה אחת לפחות שעבורה 
\begin_inset Formula $X$
\end_inset

 מקבל לכל הפחות את הערך הזה, אחרת תוחלת 
\begin_inset Formula $X$
\end_inset

 הייתה בהכרח נמוכה יותר.
 כלומר, קיימת השמה ל-
\begin_inset Formula $\varphi$
\end_inset

 שמספקת לפחות 
\begin_inset Formula $\frac{7}{8}m$
\end_inset

 מהפסוקיות, כמבוקש.
\end_layout

\begin_layout Standard
תוצאה זאת מצביעה על קיום אלגוריתם קירוב 
\begin_inset Formula $\frac{7}{8}$
\end_inset

-כפלי לבעיית 
\begin_inset Formula $\text{MAX-3SAT}$
\end_inset

: בהינתן 
\begin_inset Formula $\varphi$
\end_inset

 בעל 
\begin_inset Formula $m$
\end_inset

 פסוקיות, האלגוריתם 
\begin_inset Formula $A$
\end_inset

 מוציא כפלט 
\begin_inset Formula $\frac{7}{8}m$
\end_inset

.
 כעת, אם 
\begin_inset Formula $f\left(\varphi\right)$
\end_inset

 הוא מספר הפסוקיות שניתן לספק בו זמנית ב-
\begin_inset Formula $\varphi$
\end_inset

, אז 
\begin_inset Formula $A\left(\varphi\right)=\frac{7}{8}m\le f\left(\varphi\right)$
\end_inset

 על פי התוצאה שראינו, ומצד שני 
\begin_inset Formula $f\left(\varphi\right)\le m$
\end_inset

, ולכן 
\begin_inset Formula $\frac{7}{8}f\left(\varphi\right)\le\frac{7}{8}m=A\left(\varphi\right)$
\end_inset

.
 נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{7}{8}f\left(\varphi\right)\le & A\left(\varphi\right)\le f\left(\varphi\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כך ש-
\begin_inset Formula $A$
\end_inset

 הוא אכן אלגוריתם קירוב 
\begin_inset Formula $\frac{7}{8}$
\end_inset

-כפלי.
\end_layout

\begin_layout Standard
האם קיים אלגוריתם קירוב כפלי טוב יותר? יהא 
\begin_inset Formula $\varepsilon>0$
\end_inset

, אז ניתן להוכיח כי קיום אלגוריתם קירוב 
\begin_inset Formula $\frac{7}{8}+\varepsilon$
\end_inset

-כפלי ל-
\begin_inset Formula $\text{MAX-3SAT}$
\end_inset

 יוכיח כי 
\begin_inset Formula $\text{P}=\text{NP}$
\end_inset

.
 תוצאה זו נובעת מ
\series bold
משפט ה-
\lang english
PCP
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלא נתאר במלואו כאן אך שימוש מרכזי שלו הוא להוכחות קושי דומות של אלגוריתמי
 קירוב.
\end_layout

\begin_layout Subsection
הוכחה בלכסון לקיום שפה 
\begin_inset Formula $\text{L}\in\text{R}\backslash\text{P}$
\end_inset


\end_layout

\begin_layout Standard
בחלקו הראשון של הקורס, שעסק בתורת החישוביות, אחת מהתוצאות המרכזיות שלנו
 היה קיומן של שפות 
\begin_inset Formula $L\in\text{RE}\backslash\text{R}$
\end_inset

, כדוגמת השפה 
\begin_inset Formula $\text{HP}$
\end_inset

.
 כפי שראינו, אין לנו תוצאה מקבילה עבור 
\begin_inset Formula $\text{NP}\backslash\text{P}$
\end_inset

 אף שראינו מועמדות רבות להיות שפות כאלו )כל השפות ה-
\lang english
NP
\lang hebrew
-שלמות(.
 עם זאת, אין זה אומר שאיננו יודעים להוכיח קיום של שפות שאינן ב-
\begin_inset Formula $\text{P}$
\end_inset

 אך שייכות למחלקה 
\begin_inset Quotes eld
\end_inset

קלה
\begin_inset Quotes erd
\end_inset

 יותר מ-
\begin_inset Formula $\text{RE}$
\end_inset

.
 נדגים זאת עבור המחלקה 
\begin_inset Formula $\text{R}$
\end_inset

, אף שניתן להוכיח קיום של שפות שאינן ב-
\begin_inset Formula $\text{P}$
\end_inset

 ששייכות גם למחלקות קטנות יותר מ-
\begin_inset Formula $\text{R}$
\end_inset

.
\end_layout

\begin_layout Standard
טכניקת ההוכחה שבה נשתמש תהיה 
\series bold
לכסון
\series default
.
 הרעיון בלכסון הוא לבנות מכונת טיורינג 
\begin_inset Formula $M$
\end_inset

 כך שמובטח לנו ש-
\begin_inset Formula $L\left(M\right)\notin\text{P}$
\end_inset

 על ידי כך שלכל מכונת טיורינג פולינומית 
\begin_inset Formula $M^{\prime}$
\end_inset

 יהיה קיים קלט 
\begin_inset Formula $w$
\end_inset

 כך ש-
\begin_inset Formula $M,M^{\prime}$
\end_inset

 מחזירות תוצאות שונות על אותו הקלט.
\end_layout

\begin_layout Theorem
קיימת 
\begin_inset Formula $L\in\text{R}\backslash\text{P}$
\end_inset


\end_layout

\begin_layout Proof
נבנה מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M$
\end_inset

 שפועלת באופן הבא על קלט 
\begin_inset Formula $w$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Enumerate
אם 
\begin_inset Formula $w$
\end_inset

 אינה מהצורה 
\begin_inset Formula $w=\left(\left\langle M^{\prime}\right\rangle ,1^{k}\right)$
\end_inset

 עבור מ
\begin_inset Quotes erd
\end_inset

ט 
\begin_inset Formula $M^{\prime}$
\end_inset

 ו-
\begin_inset Formula $k\in\mathbb{N}$
\end_inset

, 
\begin_inset Formula $M$
\end_inset

 דוחה מייד.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $M$
\end_inset

 מריצה את 
\begin_inset Formula $M^{\prime}$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 במשך 
\begin_inset Formula $2^{k}$
\end_inset

 צעדים.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $M^{\prime}$
\end_inset

 עצרה על 
\begin_inset Formula $w$
\end_inset

, 
\begin_inset Formula $M$
\end_inset

 עונה הפוך ממנה.
\end_layout

\begin_layout Enumerate
אחרת, 
\begin_inset Formula $M$
\end_inset

 עוצרת ודוחה.
\end_layout

\end_deeper
\begin_layout Proof
מהגדרת 
\begin_inset Formula $M$
\end_inset

 ברור כי היא עוצרת על כל קלט, כך ש-
\begin_inset Formula $L\left(M\right)\in\text{R}$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח כי 
\begin_inset Formula $L\left(M\right)\notin\text{P}$
\end_inset

 )נשים לב לכך שגם אם 
\begin_inset Formula $M$
\end_inset

 אינה פולינומית, זה לכשעצמו לא שולל את היתכנות הקיום של מ
\begin_inset Quotes erd
\end_inset

ט פולינומית אחרת עבור אותה שפה(.
\end_layout

\begin_layout Proof
תהא 
\begin_inset Formula $M^{\prime}$
\end_inset

 מ
\begin_inset Quotes erd
\end_inset

ט פולינומית כלשהי.
 יהא 
\begin_inset Formula $p\left(x\right)$
\end_inset

 הפולינום שחוסם את זמן ריצתה לכל 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Proof
מכיוון ש-
\begin_inset Formula $p$
\end_inset

 הוא פולינום, קיים מספר טבעי 
\begin_inset Formula $n$
\end_inset

 כך ש-
\begin_inset Formula $p\left(n+\left|\left\langle M^{\prime}\right\rangle \right|\right)<2^{n}$
\end_inset

.
\end_layout

\begin_layout Proof
נתבונן בריצת 
\begin_inset Formula $M$
\end_inset

 על הקלט 
\begin_inset Formula $w=\left(\left\langle M^{\prime}\right\rangle ,1^{n}\right)$
\end_inset

: על קלט זה, 
\begin_inset Formula $M$
\end_inset

 תריץ את 
\begin_inset Formula $M^{\prime}$
\end_inset

 על 
\begin_inset Formula $w$
\end_inset

 למשך 
\begin_inset Formula $2^{n}$
\end_inset

 צעדים.
 מכיוון ש-
\begin_inset Formula $p\left(\left|w\right|\right)=p\left(n+\left|\left\langle M^{\prime}\right\rangle \right|\right)<2^{n}$
\end_inset

, הרי ש-
\begin_inset Formula $M^{\prime}$
\end_inset

 תסיים את ריצתה במהלך אותם 
\begin_inset Formula $2^{n}$
\end_inset

 צעדים, ו-
\begin_inset Formula $M$
\end_inset

 תענה הפוך ממנה.
 אם כן, על הקלט 
\begin_inset Formula $w$
\end_inset

, 
\begin_inset Formula $M$
\end_inset

 ו-
\begin_inset Formula $M^{\prime}$
\end_inset

 אינן מסכימות, כך ש-
\begin_inset Formula $L\left(M\right)\ne L\left(M^{\prime}\right)$
\end_inset

.
 מכיוון שזה המצב לכל מ
\begin_inset Quotes erd
\end_inset

ט פולינומית, 
\begin_inset Formula $L\left(M\right)\notin\text{P}$
\end_inset

.
\end_layout

\end_body
\end_document
